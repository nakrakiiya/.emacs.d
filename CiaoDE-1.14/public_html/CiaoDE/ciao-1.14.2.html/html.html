<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>HTML/XML/CGI programming &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="pillow_doc.html">&#x25C4;</a><a class="navbutton" href="http.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="Interfaces.html">PART VIII - Interfaces to other languages and systems</a> &raquo; <a href="pillow_doc.html">The PiLLoW Web programming library</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>HTML/XML/CGI programming</h1><a class="idx_anchor" href="ciaoliindex.html#html"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Daniel Cabeza" href="ciaoauindex.html#Daniel Cabeza">Daniel Cabeza</a>, <a class="idx_anchor" id="Manuel Hermenegildo" href="ciaoauindex.html#Manuel Hermenegildo">Manuel Hermenegildo</a>, <a class="idx_anchor" id="Sacha Varma" href="ciaoauindex.html#Sacha Varma">Sacha Varma</a>.<p>
This module implements the predicates of the PiLLoW package related to <a class="idx_anchor" id="0" href="ciaoglindex.html#HTML">HTML</a>/<a class="idx_anchor" id="1" href="ciaoglindex.html#XML">XML</a> generation and parsing, <a class="idx_anchor" id="2" href="ciaoglindex.html#CGI">CGI</a> and form handlers programming, and in general all the predicates which do not imply the use of the HTTP protocol.<br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(html)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="3" href="ciaoglindex.html#output_html/1"><tt>output_html/1</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#html2terms/2"><tt>html2terms/2</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#xml2terms/2"><tt>xml2terms/2</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#html_template/3"><tt>html_template/3</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#html_report_error/1"><tt>html_report_error/1</tt></a>, <a class="idx_anchor" id="8" href="ciaoglindex.html#get_form_input/1"><tt>get_form_input/1</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#get_form_value/3"><tt>get_form_value/3</tt></a>, <a class="idx_anchor" id="10" href="ciaoglindex.html#form_empty_value/1"><tt>form_empty_value/1</tt></a>, <a class="idx_anchor" id="11" href="ciaoglindex.html#form_default/3"><tt>form_default/3</tt></a>, <a class="idx_anchor" id="12" href="ciaoglindex.html#set_cookie/2"><tt>set_cookie/2</tt></a>, <a class="idx_anchor" id="13" href="ciaoglindex.html#get_cookies/1"><tt>get_cookies/1</tt></a>, <a class="idx_anchor" id="14" href="ciaoglindex.html#url_query/2"><tt>url_query/2</tt></a>, <a class="idx_anchor" id="15" href="ciaoglindex.html#url_query_amp/2"><tt>url_query_amp/2</tt></a>, <a class="idx_anchor" id="16" href="ciaoglindex.html#url_query_values/2"><tt>url_query_values/2</tt></a>, <a class="idx_anchor" id="17" href="ciaoglindex.html#my_url/1"><tt>my_url/1</tt></a>, <a class="idx_anchor" id="18" href="ciaoglindex.html#url_info/2"><tt>url_info/2</tt></a>, <a class="idx_anchor" id="19" href="ciaoglindex.html#url_info_relative/3"><tt>url_info_relative/3</tt></a>, <a class="idx_anchor" id="20" href="ciaoglindex.html#form_request_method/1"><tt>form_request_method/1</tt></a>, <a class="idx_anchor" id="21" href="ciaoglindex.html#icon_address/2"><tt>icon_address/2</tt></a>, <a class="idx_anchor" id="22" href="ciaoglindex.html#html_protect/1"><tt>html_protect/1</tt></a>, <a class="idx_anchor" id="23" href="ciaoglindex.html#http_lines/3"><tt>http_lines/3</tt></a>.
<LI><em>Multifiles:</em><br/><a class="idx_anchor" id="24" href="ciaoglindex.html#define_flag/3"><tt>define_flag/3</tt></a>, <a class="idx_anchor" id="25" href="ciaoglindex.html#html_expansion/2"><tt>html_expansion/2</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="26" href="ciaoglindex.html#strings"><tt>strings</tt></a>, <a class="idx_anchor" id="27" href="ciaoglindex.html#lists"><tt>lists</tt></a>, <a class="idx_anchor" id="28" href="ciaoglindex.html#system"><tt>system</tt></a>, <a class="idx_anchor" id="29" href="ciaoglindex.html#read"><tt>read</tt></a>, <a class="idx_anchor" id="30" href="ciaoglindex.html#pillow/pillow_aux"><tt>pillow/pillow_aux</tt></a>, <a class="idx_anchor" id="31" href="ciaoglindex.html#pillow/pillow_types"><tt>pillow/pillow_types</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="output_html/1" href="ciaopdindex.html#output_html/1">output_html/1</a>:</div><div class="deftext"><tt>output_html(HTMLTerm)</tt>
<p>Outputs <span class="var">HTMLTerm</span>, interpreted as an <a class="idx_anchor" id="32" href="ciaoglindex.html#html_term/1"><tt>html_term/1</tt></a>, to current output stream.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (pillow_types:html_term/1)</span><span><span class="var">HTMLTerm</span> is a term representing HTML code.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="html2terms/2" href="ciaopdindex.html#html2terms/2">html2terms/2</a>:</div><div class="deftext"><tt>html2terms(String,Terms)</tt>
<p><span class="var">String</span> is a character list containing HTML code and <span class="var">Terms</span> is its prolog structured representation.<p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Translates an HTML-term into the HTML code it represents.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">String</span> is a free variable.
</span><br/><span class="on_right"> (pillow_types:html_term/1)</span><span><span class="var">Terms</span> is a term representing HTML code.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">String</span> is a string (a list of character codes).
</span>
</ul><p><strong>Usage 2:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Translates HTML code into a structured HTML-term.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:canonic_html_term/1)</span><span><span class="var">Terms</span> is a term representing HTML code in canonical form.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">String</span> is a string (a list of character codes).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:canonic_html_term/1)</span><span><span class="var">Terms</span> is a term representing HTML code in canonical form.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="xml2terms/2" href="ciaopdindex.html#xml2terms/2">xml2terms/2</a>:</div><div class="deftext"><tt>xml2terms(String,Terms)</tt>
<p><span class="var">String</span> is a character list containing XML code and <span class="var">Terms</span> is its prolog structured representation.<p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Translates a XML-term into the XML code it represents.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">String</span> is a free variable.
</span><br/><span class="on_right"> (pillow_types:html_term/1)</span><span><span class="var">Terms</span> is a term representing HTML code.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">String</span> is a string (a list of character codes).
</span>
</ul><p><strong>Usage 2:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Translates XML code into a structured XML-term.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:canonic_xml_term/1)</span><span><span class="var">Terms</span> is a term representing XML code in canonical form.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">String</span> is a string (a list of character codes).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:canonic_xml_term/1)</span><span><span class="var">Terms</span> is a term representing XML code in canonical form.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="html_template/3" href="ciaopdindex.html#html_template/3">html_template/3</a>:</div><div class="deftext"><tt>html_template(Chars,Terms,Dict)</tt>
<p>Interprets <span class="var">Chars</span> as an HTML template returning in <span class="var">Terms</span> the corresponding structured HTML-term, which includes variables, and unifying <span class="var">Dict</span> with a dictionary of those variables (an incomplete list of <em>name</em><tt>=</tt><em>Var</em> pairs). An HTML template is standard HTML code, but in which &ldquo;slots&rdquo; can be defined and given an identifier. These slots represent parts of the HTML code in which other HTML code can be inserted, and are represented in the HTML-term as free variables. There are two kinds of variables in templates: <ul> <p><LI>Variables representing page contents. A variable with name <em>name</em> is defined with the special tag <tt>&lt;V&gt;</tt><em>name</em><tt>&lt;/V&gt;</tt>.<p><LI>Variables representing tag attributes. They occur as an attribute or an attribute value starting with <tt>_</tt>, followed by its name, which must be formed by alphabetic characters.<p></ul> <p>As an example, suposse the following HTML template: <pre>&lt;html&gt;
&lt;body bgcolor=_bgcolor&gt;
&lt;v&gt;content&lt;/v&gt;
&lt;/body&gt;
&lt;/html&gt;

</pre> The following query in the Ciao toplevel shows how the template is parsed, and the dictionary returned: <pre>?- file_to_string(&apos;template.html&apos;,_S), html_template(_S,Terms,Dict). 

Dict = [bgcolor=_A,content=_B|_],
Terms = [env(html,[],[&quot;
&quot;,env(body,[bgcolor=_A],[&quot;
&quot;,_B,&quot;
&quot;]),&quot;
&quot;]),&quot;
&quot;] ? 

yes
</pre> If a dictionary with values is supplied at call time, then variables are unified accordingly inside the template: <pre>?- file_to_string(&apos;template.html&apos;,_S),
   html_template(_S,Terms,[content=b(&quot;hello world!&quot;),bgcolor=&quot;white&quot;]). 

Terms = [env(html,[],[&quot;
&quot;,env(body,[bgcolor=&quot;white&quot;],[&quot;
&quot;,b(&quot;hello world!&quot;),&quot;
&quot;]),&quot;
&quot;]),&quot;
&quot;] ? 

yes
</pre> <p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:canonic_html_term/1)</span><span><span class="var">Terms</span> is a term representing HTML code in canonical form.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Dict</span> is a list.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">Chars</span> is a string (a list of character codes).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:canonic_html_term/1)</span><span><span class="var">Terms</span> is a term representing HTML code in canonical form.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Dict</span> is a list.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="html_report_error/1" href="ciaopdindex.html#html_report_error/1">html_report_error/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>html_report_error(Error)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Outputs error <span class="var">Error</span> as a standard HTML page.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="get_form_input/1" href="ciaopdindex.html#get_form_input/1">get_form_input/1</a>:</div><div class="deftext"><tt>get_form_input(Dict)</tt>
<p>Translates input from the form (with either the POST or GET methods, and even with CONTENT_TYPE multipart/form-data) to a dictionary <span class="var">Dict</span> of <em>attribute</em>=<em>value</em> pairs. If the flag <tt>raw_form_values</tt> is <tt>off</tt> (which is the default state), it translates empty values (which indicate only the presence of an attribute) to the atom <tt>&apos;$empty&apos;</tt>, values with more than one line (from text areas or files) to a list of lines as strings, the rest to atoms or numbers (using <a class="idx_anchor" id="33" href="ciaoglindex.html#name/2"><tt>name/2</tt></a>). If the flag <tt>on</tt>, it gives all values as atoms, without translations.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Dict</span> is a free variable.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:form_dict/1)</span><span><span class="var">Dict</span> is a dictionary of values of the attributes of a form. It is a list of <tt>form_assignment</tt>
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="get_form_value/3" href="ciaopdindex.html#get_form_value/3">get_form_value/3</a>:</div><div class="deftext"><tt>get_form_value(Dict,Var,Val)</tt>
<p>Unifies <span class="var">Val</span> with the value for attribute <span class="var">Var</span> in dictionary <span class="var">Dict</span>. Does not fail: value is <tt>&rdquo;</tt> if not found (this simplifies the programming of form handlers when they can be accessed directly).<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:form_value/1)</span><span><span class="var">Val</span> is a value of an attribute of a form.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (pillow_types:form_dict/1)</span><span><span class="var">Dict</span> is a dictionary of values of the attributes of a form. It is a list of <tt>form_assignment</tt>
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Var</span> is an atom.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:form_value/1)</span><span><span class="var">Val</span> is a value of an attribute of a form.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="form_empty_value/1" href="ciaopdindex.html#form_empty_value/1">form_empty_value/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>form_empty_value(Term)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Checks that <span class="var">Term</span>, a value comming from a text area is empty (can have spaces, newlines and linefeeds).</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="form_default/3" href="ciaopdindex.html#form_default/3">form_default/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>form_default(Val,Default,NewVal)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Useful when a form is only partially filled, or when the executable can be invoked either by a link or by a form, to set form defaults. If the value of <span class="var">Val</span> is empty then <span class="var">NewVal</span>=<span class="var">Default</span>, else <span class="var">NewVal</span>=<span class="var">Val</span>.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Val</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Default</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">NewVal</span> is a free variable.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="set_cookie/2" href="ciaopdindex.html#set_cookie/2">set_cookie/2</a>:</div><div class="deftext"><tt>set_cookie(Name,Value)</tt>
<p>Sets a cookie of name <span class="var">Name</span> and value <span class="var">Value</span>. Must be invoked before outputting any data, including the <tt>cgi_reply</tt> html-term.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Name</span> is an atom.
</span><br/><span class="on_right"> (basic_props:constant/1)</span><span><span class="var">Value</span> is an atomic term (an atom or a number).
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="get_cookies/1" href="ciaopdindex.html#get_cookies/1">get_cookies/1</a>:</div><div class="deftext"><tt>get_cookies(Cookies)</tt>
<p>Unifies <span class="var">Cookies</span> with a dictionary of <em>attribute</em>=<em>value</em> pairs of the active cookies for this URL. If the flag <tt>raw_form_values</tt> is <tt>on</tt>, <em>value</em>s are always atoms even if they could be interpreted as numbers.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Cookies</span> is a free variable.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:value_dict/1)</span><span><span class="var">Cookies</span> is a dictionary of values. It is a list of pairs <em>atom</em>=<em>constant</em>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="url_query/2" href="ciaopdindex.html#url_query/2">url_query/2</a>:</div><div class="deftext"><tt>url_query(Dict,URLArgs)</tt>
<p>(Deprecated, see <a class="idx_anchor" id="34" href="ciaoglindex.html#url_query_values/2"><tt>url_query_values/2</tt></a>) Translates a dictionary <span class="var">Dict</span> of parameter values into a string <span class="var">URLArgs</span> for appending to a URL pointing to a form handler.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (pillow_types:value_dict/1)</span><span><span class="var">Dict</span> is a dictionary of values. It is a list of pairs <em>atom</em>=<em>constant</em>.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">URLArgs</span> is a free variable.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URLArgs</span> is a string (a list of character codes).
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="url_query_amp/2" href="ciaopdindex.html#url_query_amp/2">url_query_amp/2</a>:</div><div class="deftext"><tt>url_query_amp(Dict,URLArgs)</tt>
<p>Translates a dictionary <span class="var">Dict</span> of parameter values into a string <span class="var">URLArgs</span> for appending to a URL pointing to a form handler to be used in the href of a link (uses &amp;amp; instead of &amp;).<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (pillow_types:value_dict/1)</span><span><span class="var">Dict</span> is a dictionary of values. It is a list of pairs <em>atom</em>=<em>constant</em>.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">URLArgs</span> is a free variable.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URLArgs</span> is a string (a list of character codes).
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="url_query_values/2" href="ciaopdindex.html#url_query_values/2">url_query_values/2</a>:</div><div class="deftext"><tt>url_query_values(Dict,URLArgs)</tt>
<p><span class="var">Dict</span> is a dictionary of parameter values and <span class="var">URLArgs</span> is the URL-encoded string of those assignments, which may appear after an URL pointing to a CGI script preceded by a &apos;?&apos;. <span class="var">Dict</span> is computed according to the <tt>raw_form_values</tt> flag. The use of this predicate is reversible.<p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (pillow_types:value_dict/1)</span><span><span class="var">Dict</span> is a dictionary of values. It is a list of pairs <em>atom</em>=<em>constant</em>.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">URLArgs</span> is a free variable.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URLArgs</span> is a string (a list of character codes).
</span>
</ul><p><strong>Usage 2:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Dict</span> is a free variable.
</span><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URLArgs</span> is a string (a list of character codes).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:value_dict/1)</span><span><span class="var">Dict</span> is a dictionary of values. It is a list of pairs <em>atom</em>=<em>constant</em>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="my_url/1" href="ciaopdindex.html#my_url/1">my_url/1</a>:</div><div class="deftext"><tt>my_url(URL)</tt>
<p>Unifies <span class="var">URL</span> with the Uniform Resource Locator (WWW address) of this cgi executable.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URL</span> is a string (a list of character codes).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URL</span> is a string (a list of character codes).
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="url_info/2" href="ciaopdindex.html#url_info/2">url_info/2</a>:</div><div class="deftext"><tt>url_info(URL,URLTerm)</tt>
<p>Translates a URL <span class="var">URL</span> to a Prolog structure <span class="var">URLTerm</span> which details its various components, and vice-versa. For now non-HTTP URLs make the predicate fail.<p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">URL</span> is an atom.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
</ul><p><strong>Usage 2:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URL</span> is a string (a list of character codes).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
</ul><p><strong>Usage 3:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">URL</span> is a free variable.
</span><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URL</span> is a string (a list of character codes).
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="url_info_relative/3" href="ciaopdindex.html#url_info_relative/3">url_info_relative/3</a>:</div><div class="deftext"><tt>url_info_relative(URL,BaseURLTerm,URLTerm)</tt>
<p>Translates a relative URL <span class="var">URL</span> which appears in the HTML page refered to by <span class="var">BaseURLTerm</span> into <span class="var">URLTerm</span>, a Prolog structure containing its absolute parameters. Absolute URLs are translated as with <a class="idx_anchor" id="35" href="ciaoglindex.html#url_info/2"><tt>url_info/2</tt></a>. E.g. <pre>url_info_relative(&quot;dadu.html&quot;,
                  http(&apos;www.foo.com&apos;,80,&quot;/bar/scoob.html&quot;), Info)
</pre> gives <tt>Info = http(&apos;www.foo.com&apos;,80,&quot;/bar/dadu.html&quot;)</tt>.<p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">URL</span> is an atom.
</span><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">BaseURLTerm</span> specifies a URL.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
</ul><p><strong>Usage 2:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">URL</span> is a string (a list of character codes).
</span><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">BaseURLTerm</span> specifies a URL.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (pillow_types:url_term/1)</span><span><span class="var">URLTerm</span> specifies a URL.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="form_request_method/1" href="ciaopdindex.html#form_request_method/1">form_request_method/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>form_request_method(Method)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Unifies <span class="var">Method</span> with the method of invocation of the form handler (<tt>GET</tt> or <tt>POST</tt>).<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Method</span> is an atom.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="icon_address/2" href="ciaopdindex.html#icon_address/2">icon_address/2</a>:</div><div class="deftext"><tt>icon_address(Img,IAddress)</tt>
<p>The PiLLoW image <span class="var">Img</span> has URL <span class="var">IAddress</span>.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Img</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">IAddress</span> is an atom.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Img</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">IAddress</span> is an atom.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="html_protect/1" href="ciaopdindex.html#html_protect/1">html_protect/1</a>:</div><div class="deftext"><tt>html_protect(Goal)</tt>
<p>Calls <span class="var">Goal</span>. If an error occurs during its execution, or it fails, an HTML page is output informing about the incident. Normaly the whole execution of a CGI is protected thus.<br/>
<em>Meta-predicate</em> with arguments: <tt>html_protect(goal)</tt>.<br/><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Goal</span> is a term which represents a goal, i.e., an atom or a structure.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="http_lines/3" href="ciaopdindex.html#http_lines/3">http_lines/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>http_lines(Lines,String,Tail)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">Lines</span> is a list of the lines with occur in <span class="var">String</span> until <span class="var">Tail</span>. The lines may end UNIX-style or DOS-style in <span class="var">String</span>, in <span class="var">Lines</span> they have not end of line characters. Suitable to be used in DCGs.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">Lines</span> is a list of <span class="var">string</span>s.
</span><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">String</span> is a string (a list of character codes).
</span><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">Tail</span> is a string (a list of character codes).
</span>
</ul></div></div><p>
</div><div id="Documentation on multifiles"><h2>Documentation on multifiles</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="define_flag/3" href="ciaopdindex.html#define_flag/3">define_flag/3</a>:</div><div class="deftext">Defines a flag as follows: <pre>define_flag(raw_form_values,[on,off],off).
</pre> (See <a href="prolog_flags.html">Changing system behaviour and various flags</a>).<p>If flag is <tt>on</tt>, values returned by <a class="idx_anchor" id="36" href="ciaoglindex.html#get_form_input/1"><tt>get_form_input/1</tt></a> are always atoms, unchanged from its original value.<br/>
The predicate is <em>multifile</em>.<br/><p><strong>Usage:</strong> <tt>define_flag(Flag,FlagValues,Default)</tt>
<ul class="itemize_minus"><LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Flag</span> is an atom.
</span><br/><span class="on_right"> (basic_props:flag_values/1)</span><span>Define the valid flag values
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="html_expansion/2" href="ciaopdindex.html#html_expansion/2">html_expansion/2</a>:</div><div class="deftext"><br/>
The predicate is <em>multifile</em>.<br/><p><strong>Usage:</strong> <tt>html_expansion(Term,Expansion)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Hook predicate to define macros. Expand occurrences of <span class="var">Term</span> into <span class="var">Expansion</span>, in <a class="idx_anchor" id="37" href="ciaoglindex.html#output_html/1"><tt>output_html/1</tt></a>. Take care to not transform something into itself!</ul></div></div><p>
</div><div id="Other information"><h2>Other information</h2>
The code uses input from from L. Naish&apos;s forms and Francisco Bueno&apos;s previous Chat interface. Other people who have contributed are (please inform us if we leave out anybody): Markus Fromherz, Samir Genaim.<br/></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Documentation on multifiles">Documentation on multifiles</a><LI><a href="#Other information">Other information</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="pillow_doc.html">&#x25C4;</a><a class="navbutton" href="http.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>