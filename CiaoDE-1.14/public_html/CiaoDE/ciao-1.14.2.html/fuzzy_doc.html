<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Fuzzy Prolog &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="clpr_doc.html">&#x25C4;</a><a class="navbutton" href="ociao_doc.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="ExtendProlog.html">PART VII - Ciao extensions</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Fuzzy Prolog</h1><a class="idx_anchor" href="ciaoliindex.html#fuzzy"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Claudio Vaucheret" href="ciaoauindex.html#Claudio Vaucheret">Claudio Vaucheret</a>, <a class="idx_anchor" id="Sergio Guadarrama" href="ciaoauindex.html#Sergio Guadarrama">Sergio Guadarrama</a>, <a class="idx_anchor" id="Francisco Bueno" href="ciaoauindex.html#Francisco Bueno">Francisco Bueno</a>.<p>
This package impements an extension of prolog to deal with uncertainty. We implement a fuzzy prolog that models interval-valued fuzzy logic. This approach is more general than other fuzzy prologs in two aspects:<p><ol> <LI>Truth values are sub-intervals on [0,1]. In fact, it could be a finite union of sub-intervals, as we will see below. Having a unique truth value is a particular case modeled with a unitary interval. <LI>Truth values are propagated through the rules by means of a set of <em>aggregation operators</em>. The definition of an <em>aggregation operator</em> is a generalization that subsumes conjunctive operators (triangular norms as min, prod, etc.), disjunctive operators (triangular co-norms as max, sum, etc.), average operators (averages as arithmetic average, cuasi-linear average, etc.) and hybrid operators (combinations of previous operators). </ol> <p>We add uncertainty using CLP(R) instead of implementing a new fuzzy resolution as other fuzzy prologs. In this way, we use the original inference mechanism of Prolog, and we use the constraints and its operations provided by CLP(R) to handle the concept of partial truth. We represent intervals as constrains over real numbers and <em>aggregation operators</em> as operations with constraints.<p>Each fuzzy predicate has an additional argument which represents its truth value. We use &ldquo;:~&rdquo; instead of &ldquo;:-&rdquo; to distinguish fuzzy clauses from prolog clauses. In fuzzy clauses, truth values are obtained via an aggregation operator. There is also some syntactic sugar for defining fuzzy predicates with certain membership functions, the fuzzy counterparts of crisp predicates, and the fuzzy negation of a fuzzy predicate. <br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_package(fuzzy).</tt>

or

<tt>:- module(...,...,[fuzzy]).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#:#/2"><tt>:#/2</tt></a>, <a class="idx_anchor" id="1" href="ciaoglindex.html#fuzzy_predicate/1"><tt>fuzzy_predicate/1</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#fuzzy/1"><tt>fuzzy/1</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#fnot/1"><tt>fnot/1</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#:~/2"><tt>:~/2</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#=&gt;/4"><tt>=&gt;/4</tt></a>.
<LI><em>Properties:</em><br/><a class="idx_anchor" id="6" href="ciaoglindex.html#fuzzybody/1"><tt>fuzzybody/1</tt></a>.
<LI><em>Regular Types:</em><br/><a class="idx_anchor" id="7" href="ciaoglindex.html#faggregator/1"><tt>faggregator/1</tt></a>.
</ul><LI><strong>New operators defined:</strong><br/><a class="idx_anchor" id="8" href="ciaoglindex.html#:~/2"><tt>:~/2</tt></a> [1200,xfx], <a class="idx_anchor" id="9" href="ciaoglindex.html#:~/1"><tt>:~/1</tt></a> [1200,xf], <a class="idx_anchor" id="10" href="ciaoglindex.html#:=/2"><tt>:=/2</tt></a> [1200,xfx], <a class="idx_anchor" id="11" href="ciaoglindex.html#:=/1"><tt>:=/1</tt></a> [1200,xf], <a class="idx_anchor" id="12" href="ciaoglindex.html#:#/2"><tt>:#/2</tt></a> [1200,xfx], <a class="idx_anchor" id="13" href="ciaoglindex.html#=&gt;/1"><tt>=&gt;/1</tt></a> [1175,fx], <a class="idx_anchor" id="14" href="ciaoglindex.html#fnot/1"><tt>fnot/1</tt></a> [1150,fx], <a class="idx_anchor" id="15" href="ciaoglindex.html#aggr/1"><tt>aggr/1</tt></a> [1150,fx], <a class="idx_anchor" id="16" href="ciaoglindex.html###/2"><tt>##/2</tt></a> [1120,xfy], <a class="idx_anchor" id="17" href="ciaoglindex.html#&lt;#/2"><tt>&lt;#/2</tt></a> [1120,xfy], <a class="idx_anchor" id="18" href="ciaoglindex.html##&gt;/2"><tt>#&gt;/2</tt></a> [1120,xfy], <a class="idx_anchor" id="19" href="ciaoglindex.html#fuzzy/1"><tt>fuzzy/1</tt></a> [1150,fx], <a class="idx_anchor" id="20" href="ciaoglindex.html#fuzzy_predicate/1"><tt>fuzzy_predicate/1</tt></a> [1190,fx], <a class="idx_anchor" id="21" href="ciaoglindex.html#fuzzy_discrete/1"><tt>fuzzy_discrete/1</tt></a> [1190,fx].
<LI><strong>New declarations defined:</strong><br/><a class="idx_anchor" id="22" href="ciaoglindex.html#aggr/1"><tt>aggr/1</tt></a>.
</ul></div></div><div id="Documentation on new declarations"><h2>Documentation on new declarations</h2><div><span class="on_right">DECLARATION</span><div class="defname"><a class="idx_anchor" id="aggr/1" href="ciaodeindex.html#aggr/1">aggr/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> :- <tt>aggr(Name)</tt>.
<ul class="itemize_minus"><LI><em>Description:</em> Declares <span class="var">Name</span> an aggregator. Its binary definition has to be provided. For example: <pre>:- aggr myaggr.

myaggr(X,Y,Z):- Z .=. X*Y.
</pre> defines an aggregator identical to <tt>prod</tt>.<LI><em>The following properties hold at call time:</em><br/><span class="on_right"> (basic_props:constant/1)</span><span><span class="var">Name</span> is an atomic term (an atom or a number).
</span>
</ul></div></div><p>
</div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id=":#/2" href="ciaopdindex.html#:#/2">:#/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>:#(Name,Decl)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Defines fuzzy predicate <span class="var">Name</span> from the declaration <span class="var">Decl</span>.<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:predname/1)</span><span><span class="var">Name</span> is a Name/Arity structure denoting a predicate name: <pre>predname(P/A) :-
        atm(P),
        nnegint(A).
</pre>
</span><br/><span class="on_right"> (user(~/source/CiaoDE-1.14.2-13646/ciao/library/fuzzy/fuzzy_doc):fuzzydecl/1)</span><span><span class="var">Decl</span> is one of the following three: <pre>fuzzydecl(fuzzy_predicate(_1)).
fuzzydecl(fuzzy(_1)).
fuzzydecl(fnot(_1)).
</pre>
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="fuzzy_predicate/1" href="ciaopdindex.html#fuzzy_predicate/1">fuzzy_predicate/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>fuzzy_predicate(Domain)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Defines a fuzzy predicate with piecewise linear continuous membership function. This is given by <span class="var">Domain</span>, which is a list of pairs of domain-truth values, in increasing order and exhaustive. For example: <pre>young :# fuzzy_predicate([(0,1),(35,1),(45,0),(120,0)]).
</pre> defines the predicate: <pre>young(X,1):- X .&gt;=. 0, X .&lt;. 35.
young(X,M):- X .&gt;=. 35, X .&lt;. 45, 10*M .=. 45-X.
young(X,0):- X .&gt;=. 45, X .=&lt;. 120. 
</pre> <LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Domain</span> is a list.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="fuzzy/1" href="ciaopdindex.html#fuzzy/1">fuzzy/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>fuzzy(Name)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Defines a fuzzy predicate as the fuzzy counterpart of a crisp predicate <span class="var">Name</span>. For example, <pre>p_f :# fuzzy p/2
</pre> defines a new fuzzy predicate <tt>p_f/3</tt> (the last argument is the truth value) with truth value equal to 0 if <tt>p/2</tt> fails and 1 otherwise.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:predname/1)</span><span><span class="var">Name</span> is a Name/Arity structure denoting a predicate name: <pre>predname(P/A) :-
        atm(P),
        nnegint(A).
</pre>
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="fnot/1" href="ciaopdindex.html#fnot/1">fnot/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>fnot(Name)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Defines a fuzzy predicate as the fuzzy negation of another fuzzy predicate <span class="var">Name</span>. For example, <pre>notp_f :# fnot p_f/3
</pre> defines the predicate: <pre>notp_f(X,Y,M) :-
        p_f(X,Y,Mp),
        M .=. 1 - Mp.
</pre> <LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:predname/1)</span><span><span class="var">Name</span> is a Name/Arity structure denoting a predicate name: <pre>predname(P/A) :-
        atm(P),
        nnegint(A).
</pre>
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id=":~/2" href="ciaopdindex.html#:~/2">:~/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>:~(Head,Body)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Defines a fuzzy clause for a fuzzy predicate. The clause contains calls to either fuzzy or crisp predicates. Calls to crisp predicates are automatically fuzzified. The last argument of <span class="var">Head</span> is the truth value of the clause, which is obtained as the aggregation of the truth values of the body goals. An example: <pre>:- module(young2,_,[fuzzy]).

young_couple(X,Y,Mu) :~ min
	age(X,X1),
	age(Y,Y1),
	young(X1,MuX),
	young(Y1,MuY).

age(john,37).
age(rose,39).

young :# fuzzy_predicate([(0,1),(35,1),(45,0),(120,0)]).

</pre> so that: <pre>?- young_couple(john,rose,M).

M .=. 0.6 ? 
</pre> <LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Head</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (user(~/source/CiaoDE-1.14.2-13646/ciao/library/fuzzy/fuzzy_doc):fuzzybody/1)</span><span><span class="var">Body</span> is a clause body plus an optional aggregation operator.
</span>
</ul></div></div><p>
<div><span class="on_right">PROPERTY</span><div class="defname"><a class="idx_anchor" id="fuzzybody/1" href="ciaoprindex.html#fuzzybody/1">fuzzybody/1</a>:</div><div class="deftext">A clause body, optionally prefixed by the name of an aggregation operator. The agregators currently provided are listed under <span class="var">faggregator/1</span>. By default, the aggregator used is <tt>min</tt>.<p><strong>Usage:</strong> <tt>fuzzybody(B)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">B</span> is a clause body plus an optional aggregation operator.</ul></div></div><p>
<div><span class="on_right">REGTYPE</span><div class="defname"><a class="idx_anchor" id="faggregator/1" href="ciaoteindex.html#faggregator/1">faggregator/1</a>:</div><div class="deftext">The first three are, respectively, the T-norms: minimum, product, and Lukasiewicz&apos;s. The last three are their corresponding T-conorms. Aggregators can be defined by the user, see <tt>aggr/1</tt>. <pre>faggregator(min).
faggregator(prod).
faggregator(luka).
faggregator(max).
faggregator(dprod).
faggregator(dluka).
</pre><p><strong>Usage:</strong> <tt>faggregator(Aggr)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">Aggr</span> is an aggregator which is cumulative, i.e., its application to several values by iterating pairwise the binary operation is safe.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="=&gt;/4" href="ciaopdindex.html#=>/4">=&gt;/4</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>=&gt;(Aggr,A,B,Truth)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> The fuzzy implication <tt>A =&gt; B</tt> defined by aggregator <span class="var">Aggr</span>, resulting in the truth value <span class="var">Truth</span>.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (user(~/source/CiaoDE-1.14.2-13646/ciao/library/fuzzy/fuzzy_doc):faggregator/1)</span><span><span class="var">Aggr</span> is an aggregator which is cumulative, i.e., its application to several values by iterating pairwise the binary operation is safe.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">A</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">B</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Truth</span> is a free variable.
</span>
</ul></div></div><p>
</div><div id="Other information"><h2>Other information</h2>
An example program: <pre>:- module(dicesum5,_,[fuzzy]).

% this example tries to measure which is the possibility
% that a couple of values, obtained throwing two loaded dice, sum 5. Let
% us suppose we only know that one die is loaded to obtain a small value
% and the other is loaded to obtain a large value. 
%
% the query is  ? sum(5,M)
%

small :# fuzzy_predicate([(1,1),(2,1),(3,0.7),(4,0.3),(5,0),(6,0)]).
large :# fuzzy_predicate([(1,0),(2,0),(3,0.3),(4,0.7),(5,1),(6,1)]).

die1(X,M) :~
	small(X,M).

die2(X,M) :~
	large(X,M).


two_dice(X,Y,M):~ prod
	die1(X,M1),
	die2(Y,M2).

sum(2,M) :~  
	two_dice(1,1,M1).


sum(5,M) :~ dprod
	two_dice(4,1,M1),
	two_dice(1,4,M2),
	two_dice(3,2,M3),
	two_dice(2,3,M4).

</pre> There are more examples in the subdirectory <tt>fuzzy/examples</tt> of the distribution. <br/></div><div id="Known bugs and planned improvements"><h2>Known bugs and planned improvements</h2><ul><LI>General aggregations defined by users.<LI>Inconsistent behaviour of meta-calls in fuzzy clauses.<LI>Some meta-predicate constructions need be added, specially for &apos;disjunctive&apos; fuzzy clauses, e.g., <tt>sum/2</tt> in the dice example.</ul></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Package Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on new declarations">Documentation on new declarations</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Other information">Other information</a><LI><a href="#Known bugs and planned improvements">Known bugs and planned improvements</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="clpr_doc.html">&#x25C4;</a><a class="navbutton" href="ociao_doc.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>