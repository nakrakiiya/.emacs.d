<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Measuring features from predicates (time cost or memory used) &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="tester.html">&#x25C4;</a><a class="navbutton" href="xdr_handle.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="Contrib.html">PART XI - Contributed libraries</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Measuring features from predicates (time cost or memory used)</h1><a class="idx_anchor" href="ciaoliindex.html#time_analyzer"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="David Trallero Mena" href="ciaoauindex.html#David Trallero Mena">David Trallero Mena</a>.<p>
This library has been done for measuring or compare execution features (currently only time) of predicates. This module relys on gnuplot, an auxiliary module which use the tool <tt>gnuplot</tt>, for representing results graphically<br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(time_analyzer)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#performance/3"><tt>performance/3</tt></a>, <a class="idx_anchor" id="1" href="ciaoglindex.html#benchmark/6"><tt>benchmark/6</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#compare_benchmark/7"><tt>compare_benchmark/7</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#generate_benchmark_list/7"><tt>generate_benchmark_list/7</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#benchmark2/6"><tt>benchmark2/6</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#compare_benchmark2/7"><tt>compare_benchmark2/7</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#generate_benchmark_list2/7"><tt>generate_benchmark_list2/7</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#sub_times/3"><tt>sub_times/3</tt></a>, <a class="idx_anchor" id="8" href="ciaoglindex.html#div_times/2"><tt>div_times/2</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#cost/3"><tt>cost/3</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="10" href="ciaoglindex.html#gnuplot/gnuplot"><tt>gnuplot/gnuplot</tt></a>, <a class="idx_anchor" id="11" href="ciaoglindex.html#prolog_sys"><tt>prolog_sys</tt></a>, <a class="idx_anchor" id="12" href="ciaoglindex.html#lists"><tt>lists</tt></a>, <a class="idx_anchor" id="13" href="ciaoglindex.html#write"><tt>write</tt></a>, <a class="idx_anchor" id="14" href="ciaoglindex.html#hiordlib"><tt>hiordlib</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="performance/3" href="ciaopdindex.html#performance/3">performance/3</a>:</div><div class="deftext"><br/>
<em>Meta-predicate</em> with arguments: <tt>performance(goal,?,?)</tt>.<br/><p><strong>Usage:</strong> <tt>performance(P,M,Times)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> performance accepts a goal, <span class="var">P</span>, as a first argument. The aim of this predicate is to call <span class="var">P</span> several times and meassure some feature (in this version, only time, that is reason because no extra parameter has been added). <span class="var">M</span> defines how many times <span class="var">P</span> should be called. Usually, calling the predicate in some succesion (10,100,1000) and dividing by the number of times it is executed we can obtain the &quot;execution time&quot; of the predicate (if we are measuring time).<p>The result of executions are returned in the list <span class="var">Times</span> <p>The diferent modes are: <ul> <LI>graph( Start , End , Increment ). It defines arithmetic succesion starting in Start and ending in End, by increment of Increment. So <span class="var">P</span> is called Start times on the first time, Start+Increment on the second, etc.<p><LI>graph The same as graph/3 but with default options<p><LI>graph_exp( Start , End , Exp ). It defines geometric succesion. Start is multiplied by Exp till it gets End. So <span class="var">P</span> is called Start times on the first time, Start*Exp on the second, etc.<p><LI>graph_exp The same as graph_exp/3 but with default options </ul> <LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">P</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">M</span> is any term.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Times</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">P</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">M</span> is any term.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">Times</span> is a list of <span class="var">num</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="benchmark/6" href="ciaopdindex.html#benchmark/6">benchmark/6</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>benchmark(P,BenchList,NumTimes,Method,Reserved,OutList)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> The predicate <span class="var">P</span>, which accepts ONE argument, is called with the first member of each pair of the <span class="var">BenchList</span> list <span class="var">NumTimes</span>. The entry list have pairs because the second member of the pair express the meaning of the first one in the X-Axis. For example, if we are doing a benchmark of qsort function, the first member will be a list for being ordered and the second one will be the length of the unordered list. The output is a list of (X,Y) points where Y means the time needed for its entry of &quot;cost&quot; X. <span class="var">OutList</span> can be used as TimeList in predicate generate_plot. <span class="var">Reserved</span> is reserved for future implementations (it will take the value of runtime, memory_used...)<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">P</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">BenchList</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Reserved</span> is any term.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">OutList</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">P</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">BenchList</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Reserved</span> is any term.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">OutList</span> is a list of <span class="var">pair</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="compare_benchmark/7" href="ciaopdindex.html#compare_benchmark/7">compare_benchmark/7</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>compare_benchmark(ListPred,BenchList,Method,NumTimes,BaseName,Reserved,GeneralOptions)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> It is the generalization of execute predicate <a class="idx_anchor" id="15" href="ciaoglindex.html#benchmark/6"><tt>benchmark/6</tt></a> with several predicates. <a class="idx_anchor" id="16" href="ciaoglindex.html#benchmark/6"><tt>benchmark/6</tt></a> predicate is called with each predicate in <span class="var">ListPred</span>, and <span class="var">BaseName</span> is used for the temporaries basename file. <span class="var">GeneralOptions</span> are aplied to the plot<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">ListPred</span> is a list of <span class="var">callable</span>s.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">BenchList</span> is a list.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">BaseName</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Reserved</span> is any term.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">GeneralOptions</span> is a list.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="generate_benchmark_list/7" href="ciaopdindex.html#generate_benchmark_list/7">generate_benchmark_list/7</a>:</div><div class="deftext">No further documentation available for this predicate.</div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="benchmark2/6" href="ciaopdindex.html#benchmark2/6">benchmark2/6</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>benchmark2(P,BenchList,Method,NumTimes,What,OutList)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> The predicate <span class="var">P</span>, which accepts TWO arguments, is called <span class="var">NumTimes</span> with the first member of each pair of the <span class="var">BenchList</span> list and a free variable as the second. The time of execution (in the future, the desired featured for be measured) is expected to be the second argument, that is because it is a variable. The entry list, <span class="var">BenchList</span> have pairs because the second member of the pair express the cost of the first (in X-Axis). For example, if we are doing a benchmark of qsort function, the first member will be a list for being ordered and the second one will represent the lenght of the unordered list. The output is a list of (X,Y) points where Y express the time needed for they entry of &quot;cost&quot; X. <span class="var">OutList</span> can be used as TimeList in predicate generate_plot. <span class="var">What</span> is reserved for future use<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">P</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">BenchList</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">What</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">OutList</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">P</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">BenchList</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">What</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">OutList</span> is a list of <span class="var">pair</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="compare_benchmark2/7" href="ciaopdindex.html#compare_benchmark2/7">compare_benchmark2/7</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>compare_benchmark2(ListPred,BenchList,Method,NumTimes,BaseName,Reserved,GeneralOptions)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> It is the generalization of execute predicate <a class="idx_anchor" id="17" href="ciaoglindex.html#benchmark2/6"><tt>benchmark2/6</tt></a> with several predicates. <a class="idx_anchor" id="18" href="ciaoglindex.html#benchmark2/6"><tt>benchmark2/6</tt></a> is called with each predicate in <span class="var">ListPred</span> and <span class="var">BaseName</span> is used for the temporaries basename file. <span class="var">GeneralOptions</span> are applied to the plot (&apos;default&apos; can be used for default General options)<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">ListPred</span> is a list of <span class="var">callable</span>s.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">BenchList</span> is a list.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">BaseName</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">Reserved</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">GeneralOptions</span> is a list.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">ListPred</span> is a list of <span class="var">callable</span>s.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">BenchList</span> is a list.
</span><br/><span class="on_right"> (time_analyzer:average_mode/1)</span><span>time_analyzer:average_mode(Method)
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">NumTimes</span> is an integer.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">BaseName</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (term_typing:atom/1)</span><span><span class="var">Reserved</span> is currently instantiated to an atom.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">GeneralOptions</span> is a list.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="generate_benchmark_list2/7" href="ciaopdindex.html#generate_benchmark_list2/7">generate_benchmark_list2/7</a>:</div><div class="deftext">No further documentation available for this predicate.</div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="sub_times/3" href="ciaopdindex.html#sub_times/3">sub_times/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>sub_times(A,B,C)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> C is the result of doing A - B, where A, B, C are a list of pairs as (Time,_)<LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">A</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">B</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">C</span> is a list of <span class="var">pair</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="div_times/2" href="ciaopdindex.html#div_times/2">div_times/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>div_times(A,B)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">A</span> is a list of pairs (P1,P2). <span class="var">B</span> is a list of pairs with the form (P1,P2/P1) for each (P1,P2) that belongs to <span class="var">A</span><LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">A</span> is a list of <span class="var">pair</span>s.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">B</span> is a list of <span class="var">pair</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="cost/3" href="ciaopdindex.html#cost/3">cost/3</a>:</div><div class="deftext"><br/>
<em>Meta-predicate</em> with arguments: <tt>cost(goal,?,?)</tt>.<br/><p><strong>Usage:</strong> <tt>cost(A,T,What)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> This pred is thought for measuring constant complexity predicates. <span class="var">T</span> is the expected measured feature. <span class="var">What</span> is reserved for future implementations, just put &apos;runtime&apos; <LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">A</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">T</span> is an integer.
</span><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">What</span> is any term.
</span>
</ul></div></div><p>
<div><span class="on_right">(UNDOC_REEXPORT)</span><div class="defname"><span class="idx_anchor" id="generate_plot/3">generate_plot/3</span>:</div><div class="deftext">
 Imported from <a class="idx_anchor" id="19" href="ciaoglindex.html#gnuplot"><tt>gnuplot</tt></a> (see the corresponding documentation for details).<br/></div></div><p>
<div><span class="on_right">(UNDOC_REEXPORT)</span><div class="defname"><span class="idx_anchor" id="generate_plot/2">generate_plot/2</span>:</div><div class="deftext">
 Imported from <a class="idx_anchor" id="20" href="ciaoglindex.html#gnuplot"><tt>gnuplot</tt></a> (see the corresponding documentation for details).<br/></div></div><p>
<div><span class="on_right">(UNDOC_REEXPORT)</span><div class="defname"><span class="idx_anchor" id="set_general_options/1">set_general_options/1</span>:</div><div class="deftext">
 Imported from <a class="idx_anchor" id="21" href="ciaoglindex.html#gnuplot"><tt>gnuplot</tt></a> (see the corresponding documentation for details).<br/></div></div><p>
<div><span class="on_right">(UNDOC_REEXPORT)</span><div class="defname"><span class="idx_anchor" id="get_general_options/1">get_general_options/1</span>:</div><div class="deftext">
 Imported from <a class="idx_anchor" id="22" href="ciaoglindex.html#gnuplot"><tt>gnuplot</tt></a> (see the corresponding documentation for details).<br/></div></div><p>
</div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="tester.html">&#x25C4;</a><a class="navbutton" href="xdr_handle.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>