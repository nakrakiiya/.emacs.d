<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Generating Installing and Accessing Manuals &mdash; The lpdoc Documentation Generator v3.0</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="Reference.html">&#x25C4;</a><a class="navbutton" href="comments.html">&#x25BA;</a></span><span><a href="lpdoc.html">The lpdoc Documentation Generator</a> &raquo; <a href="Reference.html">PART I - LPdoc Reference Manual</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Generating Installing and Accessing Manuals</h1><a class="idx_anchor" href="lpdocliindex.html#Generating"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Manuel Hermenegildo" href="lpdocauindex.html#Manuel Hermenegildo">Manuel Hermenegildo</a>.<p>
<p><a class="idx_anchor" id="0" href="lpdoccoindex.html#generating manuals"></a> <p><div class="alert"> <strong>Note: significant parts of this are obsolete. They must be updated to describe lpdoc version 2.0.</strong> </div> <p>This section describes how to generate a manual (semi-)automatically from a set of source files using <a class="idx_anchor" id="1" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a>, how to install it in a public area, and how to access it on line. It also includes some recommendations for improving the layout of manuals, <a class="idx_anchor" id="2" href="lpdocglindex.html#usage tips">usage tips</a>, and <a class="idx_anchor" id="3" href="lpdocglindex.html#troubleshooting">troubleshooting</a> advice.<p><div id="Generating a manual from the Ciao Emacs mode"><h2>Generating a manual from the Ciao Emacs mode</h2> <p><a class="idx_anchor" id="4" href="lpdoccoindex.html#Emacs, generating manuals from"></a> <a class="idx_anchor" id="5" href="lpdoccoindex.html#generating from Emacs"></a> <a class="idx_anchor" id="6" href="lpdoccoindex.html#Ciao"></a> <a class="idx_anchor" id="7" href="lpdoccoindex.html#Prolog, Ciao"></a> <a class="idx_anchor" id="8" href="lpdoccoindex.html#Emacs, LPdoc mode"></a> <p>If you use the <a class="idx_anchor" id="9" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> editor (highly recommended in all circumstances), then the simplest way to quickly generate a manual is by doing it from the <a class="idx_anchor" id="10" href="lpdocglindex.html#Ciao Emacs mode">Ciao Emacs mode</a> (this mode comes with the Ciao Prolog distribution and is automatically installed with Ciao). The Ciao Emacs mode provides menu- and keyboard-binding driven facilities for generating a stand-alone document with the documentation corresponding to the file in the buffer being visited by Emacs. This is specially useful while modifying the source of a file, in order to check the output that will be produced when incorporating this file into a larger document. It is also possible to generate more complex documents, by editing the (automatically provided) <a class="idx_anchor" id="11" href="lpdoccoindex.html#SETTINGS.pl"><em>SETTINGS.pl</em></a> in the same way as when generating a manual from the command line (see below). However, when generating complex documents, it is best to devote an independent, permanent directory to the manual, and the full procedure described in the rest of this text is preferred.<p></div><div id="Generating a manual"><h2>Generating a manual</h2> <p>Two possible scenarios are described in this section. The first one is indicated to document quickly a single module and the second one targets the documentation of a larger application or library, in which the settings (which define how the documentation is to be generated, etc.) are read from a file, so that they can be reused as the application / library evolves.<p>In order to make <a class="idx_anchor" id="12" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> generate quickly the documentation of a single file it suffices to execute the command <tt>lpdoc -d doc_structure=modulename dvi</tt>, where <tt>modulename</tt> is the module to be documented (without extension) and (in this example) <tt>dvi</tt> is the desired format of the manual (other accepted formats include html, pfd, ps, etc. -- see later). <a class="idx_anchor" id="13" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> will generate a manual with the name of the module and the format extension (in the example it would be modulename.dvi) in the same directory where it is executed.<p>For the second scenario, the <a class="idx_anchor" id="14" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> library directory includes a generic file which is quite useful for the generation of complete manuals: the <a class="idx_anchor" id="15" href="lpdoccoindex.html#SETTINGS.pl"><em>SETTINGS.pl</em></a> file. Use of this file is strongly recommended. Generating a manual using this file involves the following steps:<p><ul> <p><LI>Create a directory (e.g., <tt>doc</tt>) in which the documentation will be built. The creation of this directory is recommended, as it will be populated with intermediate files which are best kept separate. This directory is typically created in the top directory of the distribution of the application or library to be documented.<LI>Execute the command <tt>lpdoc lpsettings</tt> in the directory where the documentation is to be created (e.g., <tt>doc</tt> in the previous point). <a class="idx_anchor" id="16" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> will create an <a class="idx_anchor" id="17" href="lpdocglindex.html#SETTINGS.pl.generated"><tt>SETTINGS.pl.generated</tt></a> file with the default settings. This file should be renamed to <a class="idx_anchor" id="18" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> once the user agrees with its contents.<p><LI>Edit <a class="idx_anchor" id="19" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> to suit your needs. It is recommended that you review, at least, the following points:<p><ul> <p><LI>Set the variable <tt>filepath</tt> to include all the directories where the files to be documented can be found.<p><LI>Set the variable <tt>systempath</tt> to include all the <em>system</em> directories where system files used can be found, regardless whether they are to be documented or not. This will be used to access definitions of types, etc.<p>It is very important to include <em>all</em> related directories either in <tt>filepath</tt> or in <tt>systempath</tt> because on startup <a class="idx_anchor" id="20" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> has <em>no default search paths for files</em> defined (not even those typically defined by default in the <a class="idx_anchor" id="21" href="lpdocglindex.html#Prolog"><tt>Prolog</tt></a> system under which it was compiled! -- this allows documenting <a class="idx_anchor" id="22" href="lpdocglindex.html#Prolog"><tt>Prolog</tt></a> systems other than that under which <a class="idx_anchor" id="23" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> was compiled).<p>The effect of putting a path in <tt>systempaths</tt> instead of in <tt>filepaths</tt> is that the modules and files in those paths are documented as <a class="idx_anchor" id="24" href="lpdoccoindex.html#system modules"><em>system modules</em></a> (this is useful when documenting an application to distinguish its parts from those which are in the system libraries).<p><LI>Set <tt>doc_structure</tt> to be the <a class="idx_anchor" id="25" href="lpdoccoindex.html#document structure"><em>document structure</em></a> (<a class="idx_anchor" id="26" href="lpdocglindex.html#doc_structure/1"><tt>doc_structure/1</tt></a>).<p></ul> <p>For the rest of the settings in the <a class="idx_anchor" id="27" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file you can simply use the default values indicated. You may however want to change several of these:<p><ul> <p><LI><tt>doc_mainopts</tt> can be set to a series of options which allow more detailed control of what is included in the documentation for the main file and how (i.e., including bug information <a class="idx_anchor" id="28" href="lpdoccoindex.html#including or not bug info"></a>, versions and patches or only patches <a class="idx_anchor" id="29" href="lpdoccoindex.html#including or not versions, patches"></a>, authors <a class="idx_anchor" id="30" href="lpdoccoindex.html#including or not authors"></a>, changelog <a class="idx_anchor" id="31" href="lpdoccoindex.html#including or not changelog"></a>, explanation of modes, <a class="idx_anchor" id="32" href="lpdoccoindex.html#one-sided printing"><em>one-sided printing</em></a> (<a class="idx_anchor" id="33" href="lpdoccoindex.html#two-sided"><em>two-sided</em></a> is the default), etc.). See <a class="idx_anchor" id="34" href="lpdocglindex.html#option_comment/2"><tt>option_comment/2</tt></a> in <a class="idx_anchor" id="35" href="lpdocglindex.html#autodoc"><tt>autodoc</tt></a> or type <tt>lpdoc -help</tt> for a list of these options.<p><LI>In the same way <tt>doc_compopts</tt> sets options for the component files. Currently these options are common to all component files but they can be different from <tt>doc_mainopts</tt>. The allowable options are the same as above.<p><LI><tt>docformat</tt> determines the set of formats (<tt>dvi</tt>, <tt>ps</tt>, <tt>ascii</tt>, <tt>html</tt>, <tt>info</tt>, <tt>manl</tt>, ...) in which the documentation should be generated by default when typing <a class="idx_anchor" id="36" href="lpdocglindex.html#lpdoc all"><tt>lpdoc all</tt></a>. Selecting <tt>htmlindex</tt> and/or <tt>infoindex</tt> requests the generation of (parts of) a master index to be placed in an installation directory and which provide pointers to the documents generated (see below). If the main file is an <strong>application</strong>, and the <tt>manl</tt> option is selected, then <a class="idx_anchor" id="37" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> looks for a <a class="idx_anchor" id="38" href="lpdocglindex.html#usage_message/1"><tt>usage_message/1</tt></a> fact, which should contain a string as argument, and will use that string to document the <a class="idx_anchor" id="39" href="lpdoccoindex.html#usage of the application"><em>usage of the application</em></a> (i.e., it will be used to fill in the <a class="idx_anchor" id="40" href="lpdoccoindex.html#synopsis section of the man page"><em>synopsis section of the man page</em></a>).<p><LI><tt>output_name</tt> determines the base file name of the main documents generated by lpdoc. By default it is equal to the main file name, or, if the main file name ends with <tt>_doc</tt>, then it is equal to the name without the <tt>_doc</tt> suffix. This is useful when the name of the documentation file to be produced needs to have a name that is not directly related to the main file being documented.<p><LI><tt>index</tt> determines the list of indices to be included at the end of the document. These can include indices for defined predicates, modules, concepts, etc. For a complete list of the types of indices available see <a class="idx_anchor" id="41" href="lpdocglindex.html#index_comment/2"><tt>index_comment/2</tt></a> in <a class="idx_anchor" id="42" href="lpdocglindex.html#autodoc"><tt>autodoc</tt></a> or type <a class="idx_anchor" id="43" href="lpdocglindex.html#lpdoc -help"><tt>lpdoc -help</tt></a> for a listing. A setting of <tt>all</tt> generates all the supported indices -- but <em>beware of limitations in the number of simultaneous indices</em> supported in many <a class="idx_anchor" id="44" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a> installations.<p><LI><tt>bibfile</tt> determines a list of <a class="idx_anchor" id="45" href="lpdoccoindex.html#.bib files"><em>.bib files</em></a> (one file per path), i.e., files containing <a class="idx_anchor" id="46" href="lpdoccoindex.html#bibliographic entries"><em>bibliographic entries</em></a> in <a class="idx_anchor" id="47" href="lpdocglindex.html#bibtex"><tt>bibtex</tt></a> <a class="idx_anchor" id="48" href="lpdoccoindex.html#bibtex"></a> format. This is only relevant if you are <a class="idx_anchor" id="49" href="lpdocglindex.html#using citations">using citations</a> in the text (using the <a class="idx_anchor" id="50" href="lpdocglindex.html#@cite command">@cite command</a>). In that case those will be the files in which the citations will be searched for. All the references will appear together in a <em>References</em> appendix at the end of the manual.<p>If you are not using citations, then select the <tt>-nobiblio</tt> option on the main file, which will prevent an empty &apos;References&apos; appendix from appearing in the manual.<p><a class="idx_anchor" id="51" href="lpdoccoindex.html#page numbering, changing"></a> <p><LI><tt>startpage</tt> (default value 1) allows changing the page number of the first page of the manual. This can be useful if the manual is to be included in a larger document or set of manuals. Typically, this should be an <em>odd</em> number.<p><a class="idx_anchor" id="52" href="lpdoccoindex.html#page size, changing"></a> <a class="idx_anchor" id="53" href="lpdoccoindex.html#page style, changing"></a> <p><LI><tt>papertype</tt> (default value <tt>afourpaper</tt>) allows select several paper sizes for the printable outputs (<tt>dvi</tt>, <tt>ps</tt>, etc.). The currently supported outputs (most of them inherited from <a class="idx_anchor" id="54" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a>) are:<p><dl> <p><DT><tt>afourpaper</tt><dd> <p>The default, usable for printing on <a class="idx_anchor" id="55" href="lpdoccoindex.html#A4 paper"><em>A4 paper</em></a>. Rather busy, but saves trees.<p><DT><tt>afourwide</tt><dd> <p>This one crams even more stuff than <tt>afourpaper</tt> on an A4 page. Useful for generating manuals in the least amount of space. It saves more trees.<p><DT><tt>afourlatex</tt><dd> <p>This one is a little less compressed than <tt>afourpaper</tt>.<p><DT><tt>smallbook</tt><dd> <p>Small pages, like in a handbook.<p><DT><tt>letterpaper</tt><dd> <p>For printing on American <a class="idx_anchor" id="56" href="lpdoccoindex.html#letter size paper"><em>letter size paper</em></a>.<p><DT><tt>afourthesis</tt><dd> <p>A <a class="idx_anchor" id="57" href="lpdoccoindex.html#thesis-like style"><em>thesis-like style</em></a> (i.e., double spaced, wide margins etc.). Useful -- for inserting <a class="idx_anchor" id="58" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> output as appendices of a thesis or similar document. It does not save trees.<p></dl> <p></ul> <p><LI>Type <a class="idx_anchor" id="59" href="lpdocglindex.html#lpdoc all"><tt>lpdoc all</tt></a> to generate all the formats defined. <tt>lpdoc dvi</tt>, <tt>lpdoc html</tt>, <tt>lpdoc ps</tt> or <tt>lpdoc info</tt>, etc. will force the generation of a single target format.<p></ul> <p></div><div id="Working on a manual"><h2>Working on a manual</h2> <p>In order to speed up processing while developing a manual, it is recommended to work by first generating a <tt>.dvi</tt> version only (i.e., by typing <tt>lpdoc dvi</tt>). The resulting output can be easily viewed by tools such as <a class="idx_anchor" id="60" href="lpdocglindex.html#xdvi"><tt>xdvi</tt></a> (which can be started by simply typing <tt>lpdoc view</tt>). Note that once an <a class="idx_anchor" id="61" href="lpdocglindex.html#xdvi"><tt>xdvi</tt></a> window is started, it is not necessary to restart it every time the document is reformatted (<tt>lpdoc dvi</tt>), since <a class="idx_anchor" id="62" href="lpdocglindex.html#xdvi"><tt>xdvi</tt></a> automatically updates its view every time the <tt>.dvi</tt> file changes. This can also be forced by typing <span class="emacskey">R</span> in the <a class="idx_anchor" id="63" href="lpdocglindex.html#xdvi"><tt>xdvi</tt></a> window. The other formats can be generated later, once the <tt>.dvi</tt> version has the desired contents.<p></div><div id="Cleaning up the documentation directory"><h2>Cleaning up the documentation directory</h2> <p><a class="idx_anchor" id="64" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> can also take care of tidying up the directory where the documentation is being generated:<p><ul> <p><LI><tt>lpdoc clean</tt> deletes all intermediate files, but leaves the targets (i.e., the <tt>.ps</tt>, <tt>.dvi</tt>, <tt>.ascii</tt>, <tt>.html</tt>, etc. files), as well as all the generated <tt>.texic</tt> files.<p><LI><tt>lpdoc distclean</tt> deletes all intermediate files and the generated <tt>.texic</tt> files, leaving only the targets (i.e., the <tt>.ps</tt>, <tt>.dvi</tt>, <tt>.ascii</tt>, <tt>.html</tt>, etc. files). This is the option normally used when building software distributions in which the manuals come ready made in the distribution itself and will not need to be generated during installation.<p><LI><tt>lpdoc docsclean</tt> deletes all intermediate files and the generated targets, but leaves the <tt>.texic</tt> files. This option can be used in software distributions in which the manuals in the different formats will be generated during installation. This is generally more compact, but requires the presence of several tools, such as <tt>tex</tt>, <tt>Emacs</tt>, etc. (see <a href="lpdoc_install.html#Other software packages required (lpdoc)">Other software packages required (lpdoc)</a>), in order to generate the manuals in the target formats during installation.<p><LI><tt>lpdoc realclean</tt> performs a complete cleanup, deleting also the .texic files, i.e., it typically leaves only the <a class="idx_anchor" id="65" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file. This is is the most compact, but requires the presence of the tools mentioned above, the source files from which the manuals are generated and <a class="idx_anchor" id="66" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> in order to re generate the manuals in the target formats during installation.<p></ul> <p></div><div id="Installing a generated manual in a public area"><h2>Installing a generated manual in a public area</h2> <p><a class="idx_anchor" id="67" href="lpdoccoindex.html#installation, of manuals"></a> <div class="alert"> <strong>Note: This part is obsolete. It must be updated to describe lpdoc version 2.0. -- EMM</strong> </div> <p>Once the manual has been generated in the desired formats, the <a class="idx_anchor" id="68" href="lpdocglindex.html#Makefile"><tt>Makefile</tt></a> provided also allows automatic installation in a different area, specified by the <tt>docdir</tt> option in the <a class="idx_anchor" id="69" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file. This is done by typing <tt>lpdoc install</tt>.<p>As mentioned above, <a class="idx_anchor" id="70" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> can generate directly brief descriptions in html or <a class="idx_anchor" id="71" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> info formats suitable for inclusion in an on-line index of applications. In particular, if the <tt>htmlindex</tt> and/or <tt>infoindex</tt> options are selected, <tt>lpdoc install</tt> will create the installation directory, place the documentation in the desired formats in this directory, and produce and place in the same directory suitable <tt>index.html</tt> and/or <tt>dir</tt> files. These files will contain some basic info on the manual (extracted from the summary and title, respectively) and include pointers to the relevant documents which have been installed. The <tt>infodirheadfile</tt> / <tt>infodirtailfile</tt> (default examples, used in the CLIP group at UPM, are included with the distribution) should point to files which will be used as head and tail templates when generating the <tt>dir</tt> files.Several manuals, coming from different <tt>doc</tt> directories, can be installed in the same <tt>docdir</tt> directory. In this case, the descriptions of and pointers to the different manuals will be automatically combined (appearing in alphabetic order) in the <tt>index.html</tt> and/or <tt>dir</tt> indices, and a <a class="idx_anchor" id="72" href="lpdoccoindex.html#contents area"><em>contents area</em></a> will appear at the beginning of the <a class="idx_anchor" id="73" href="lpdoccoindex.html#html index page"><em>html index page</em></a>.<a class="idx_anchor" id="74" href="lpdoccoindex.html#index pages out of order"></a> <strong>Important Note:</strong> In order for the different components to appear in the correct positions in the index pages mentioned above the traditional (&apos;C&apos;) Lexical order must be active. In recent Un*x systems (e.g., in most current Linux systems) this may not be the case. There are several possible fixes:<p><ul> <LI>For <a class="idx_anchor" id="75" href="lpdocglindex.html#csh"><tt>csh</tt></a> put <tt>setenv LC_COLLATE C</tt> in your <a class="idx_anchor" id="76" href="lpdocglindex.html#.cshrc"><tt>.cshrc</tt></a>. <LI>For <a class="idx_anchor" id="77" href="lpdocglindex.html#bash"><tt>bash</tt></a> put <tt>export LC_COLLATE=C</tt> in your <a class="idx_anchor" id="78" href="lpdocglindex.html#.profile"><tt>.profile</tt></a>. <LI>In many systems this can be done globally by the super-user. E.g., in many Linux systems set <tt>LANG=&quot;C&quot;</tt> in <tt>/etc/sysconfig/i18n</tt>. </ul> <p>Note that, depending on the structure of the manuals being generated, some formats are not very suitable for public installation. For example, the <tt>.dvi</tt> format has the disadvantage that it is not self contained if images are included in the manual.Typing <tt>lpdoc uninstall</tt> in a <tt>doc</tt> directory will uninstall from <tt>docdir</tt> the manuals corresponding to the <a class="idx_anchor" id="79" href="lpdocglindex.html#Makefile"><tt>Makefile</tt></a> in that <tt>doc</tt> directory. If a manual is already installed and changes in the number of formats being installed are desired, <tt>lpdoc uninstall</tt> should be made before changing the <tt>docformats</tt> variable and doing <tt>lpdoc install</tt> again. This is needed in order to ensure that a complete cleanup is performed.<p></div><div id="Enhancing the documentation being generated"><h2>Enhancing the documentation being generated</h2> <p>The quality of the documentation generated can be greatly enhanced by including within the program text:<p><ul> <p><LI><em>assertions</em>, and<p><LI><em>machine-readable comments</em>.<p></ul> <p><strong>Assertions</strong> are declarations which are included in the source program and provide the compiler with information regarding characteristics of the program. Typical assertions include type declarations, modes, general properties (such as <em>does not fail</em>), standard compiler directives (such as <a class="idx_anchor" id="80" href="lpdocglindex.html#dynamic/1"><tt>dynamic/1</tt></a>, <a class="idx_anchor" id="81" href="lpdocglindex.html#op/3"><tt>op/3</tt></a>, <a class="idx_anchor" id="82" href="lpdocglindex.html#meta_predicate/1"><tt>meta_predicate/1</tt></a>...), etc. When documenting a module, <a class="idx_anchor" id="83" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> will use the assertions associated with the module interface to construct a textual description of this interface. In principle, only the exported predicates are documented, although any predicate can be included in the documentation by explicitly requesting it (see the documentation for the <a class="idx_anchor" id="84" href="lpdocglindex.html#doc/2"><tt>doc/2</tt></a> declaration). Judicious use of these assertions allows at the same time documenting the program code, documenting the external use of the module, and greatly improving the debugging process. The latter is possible because the assertions provide the compiler with information on the intended meaning or behaviour of the program (i.e., the specification) which can be checked at compile-time (by a suitable preprocessor/static analyzer) and/or at run-time (via checks inserted by a preprocessor).<p><strong>Machine-readable comments</strong> are also declarations included in the source program but which contain additional information intended to be read by humans (i.e., this is an instantiation of the <a class="idx_anchor" id="85" href="lpdoccoindex.html#literate programming"><em>literate programming</em></a> style of Knuth [<a href="lpdocrefs.html#knuth-lit">Knu84</a>]). Typical comments include title, author(s), bugs, changelog, etc. Judicious use of these comments allows enhancing at the same time the documentation of the program text and the manuals generated from it.<p><a class="idx_anchor" id="86" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> requires these assertions and comments to be written using the <a class="idx_anchor" id="87" href="lpdocglindex.html#Ciao"><tt>Ciao</tt></a> system <em>assertion language</em>. A simple compatibility library is available in order to make it possible to compile programs documented using assertions and comments in traditional (constraint) logic programming systems which lack native support for them (see the <tt>compatibility</tt> directory in the <a class="idx_anchor" id="88" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> library). Using this library, such assertions and comments are simply ignored by the compiler. This compatibility library also allows compiling <a class="idx_anchor" id="89" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> itself under (C)LP systems other than the <a class="idx_anchor" id="90" href="lpdocglindex.html#Ciao"><tt>Ciao</tt></a> system under which it is developed.<p></div><div id="Accessing on-line manuals"><h2>Accessing on-line manuals</h2> <p>As mentioned previously, it is possible to generate on-line manuals automatically from the <tt>.texic</tt> files, essentially <tt>.html</tt>, <tt>.info</tt>, and <a class="idx_anchor" id="91" href="lpdocglindex.html#man"><tt>man</tt></a> files. This is done by simply including the corresponding options in the list of <tt>docformats</tt> in the <a class="idx_anchor" id="92" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file and typing <a class="idx_anchor" id="93" href="lpdocglindex.html#lpdoc all"><tt>lpdoc all</tt></a>. We now address the issue of how the different manuals can be read on-line.<p><div id="Accessing html manuals"><h3>Accessing html manuals</h3> <p>Once generated, the <tt>.html</tt> files can be viewed using any standard <a class="idx_anchor" id="94" href="lpdocglindex.html#WWW"><tt>WWW</tt></a> browser, e.g., <a class="idx_anchor" id="95" href="lpdocglindex.html#Firefox"><tt>Firefox</tt></a> (a command <tt>lpdoc htmlview</tt> is available which, if there is an instance of a web browser running in the machine, will make that instance visit the manual in <tt>html</tt> format). To make these files publicly readable on the WWW, they should be copied into a directory visible by browsers running in other machines, such as <tt>/home/clip/public_html/lpdoc_docs</tt>, <tt>/usr/home/httpd/htmldocs/lpdoc_docs</tt>, etc. As mentioned before, this is easily done by setting the <tt>docdir</tt> variable in the <a class="idx_anchor" id="96" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file to this directory and typing <tt>lpdoc install</tt>.<p></div><div id="Accessing info manuals"><h3>Accessing info manuals</h3> <p>Generated <tt>.info</tt> files are meant to be viewed by the <a class="idx_anchor" id="97" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> editor or by the standalone <a class="idx_anchor" id="98" href="lpdocglindex.html#info"><tt>info</tt></a> application, both publicly available from the GNU project sites. To view the a generated <a class="idx_anchor" id="99" href="lpdocglindex.html#info"><tt>info</tt></a> file from <a class="idx_anchor" id="100" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> manually (i.e., before it is installed in a common area), type <tt>C-u M-x info</tt>. This will prompt for an info file name. <a class="idx_anchor" id="101" href="lpdoccoindex.html#Emacs, accessing info files"></a> Input the name of the info file generated by <a class="idx_anchor" id="102" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> (<tt>main</tt><tt>.info</tt>) and <a class="idx_anchor" id="103" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> will open the manual in info mode.<p>There are several possibilities in order to install an <tt>.info</tt> file so that it is publicly available, i.e., so that it appears automatically with all other <a class="idx_anchor" id="104" href="lpdocglindex.html#info"><tt>info</tt></a> manuals when starting <a class="idx_anchor" id="105" href="lpdocglindex.html#info"><tt>info</tt></a> or typing <tt>C-u M-x info</tt> in Emacs:<p><ul> <p><LI><strong>Installation in the common info directory:</strong> <p><ul> <p><LI>Move the <tt>.info</tt> file to the common info directory (typically <tt>/usr/info</tt>, <tt>/usr/local/info</tt>, ..). This can be done automatically by setting the <tt>docdir</tt> variable in the <a class="idx_anchor" id="106" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file to this directory and typing <tt>lpdoc install</tt>.<p><strong>Warning:</strong> if you are installing in an <a class="idx_anchor" id="107" href="lpdocglindex.html#info"><tt>info</tt></a> directory that is not maintained automatically by <a class="idx_anchor" id="108" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a>, make sure that you have not selected the <tt>infoindex</tt> option in <tt>docformats</tt>, since this will overwrite the existing <a class="idx_anchor" id="109" href="lpdocglindex.html#dir"><tt>dir</tt></a> file).<p><LI>Add an entry to the <a class="idx_anchor" id="110" href="lpdocglindex.html#info"><tt>info</tt></a> index in that directory (normally a file in that directory called <tt>dir</tt>). The manual should appear as part of the normal set of manuals available when typing <tt>M-x info</tt> in <a class="idx_anchor" id="111" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> or <a class="idx_anchor" id="112" href="lpdocglindex.html#info"><tt>info</tt></a> in a shell. See the <a class="idx_anchor" id="113" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> manual for details.<p></ul> <p><LI><strong>Installation in a different info directory:</strong> you may want to place one or more manuals generated by <tt>lpdoc</tt> in their own directory. This has the advantage that <tt>lpdoc</tt> will maintain automatically an index for all the <a class="idx_anchor" id="114" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> generated manuals installed in that directory. In order for such manuals to appear when typing <tt>M-x info</tt> in <a class="idx_anchor" id="115" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> or <a class="idx_anchor" id="116" href="lpdocglindex.html#info"><tt>info</tt></a> in a shell there are two requirements:<p><ul> <p><LI>This directory must contain a <tt>dir</tt> index. The first part of the process can all be done automatically by setting the <tt>docdir</tt> variable in the <a class="idx_anchor" id="117" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file to this directory, including the <tt>infoindex</tt> option in <tt>docformats</tt>, and typing <tt>lpdoc install</tt>. This will install the info manual in directory <tt>docdir</tt> and update the <tt>dir</tt> file there. <tt>lpdoc uninstall</tt> does the opposite, eliminating also the manual from the index.<p><LI>The directory must be added to the <a class="idx_anchor" id="118" href="lpdoccoindex.html#info path list"><em>info path list</em></a>. The easiest way to do this is to set the <tt>INFOPATH</tt> environment variable. For example, assuming that we are installing the <a class="idx_anchor" id="119" href="lpdocglindex.html#info"><tt>info</tt></a> manual in <tt>/home/clip/public_html/lpdoc_docs</tt> and that <tt>/usr/info</tt> is the common <tt>info</tt> directory, for <a class="idx_anchor" id="120" href="lpdocglindex.html#csh"><tt>csh</tt></a> in <tt>.cshrc</tt>:<p><tt>setenv INFOPATH /usr/info:/home/clip/public_html/lpdoc_docs</tt> <p>Adding the directory to the info path list can also be done within Emacs, by including the following line in the <tt>.Emacs</tt> file:<p><pre>(defun add-info-path (newpath)
  (setq Info-default-directory-list
	(cons (expand-file-name newpath) Info-default-directory-list)))
(add-info-path &quot;/home/clip/public_html/lpdoc_docs&quot;)
(add-info-path &quot;/usr/info/&quot;)
</pre> <p>However, this has the disadvantage that it will not be seen by the standalone <a class="idx_anchor" id="121" href="lpdocglindex.html#info"><tt>info</tt></a> command.<p></ul> </ul> <p>Automatic, direct on-line access to the information contained in the info file (e.g., going automatically to predicate descriptions by clicking on predicate names in programs in an <a class="idx_anchor" id="122" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> buffer) can be easily implemented via existing <tt>.el</tt> packages such as <tt>word-help</tt>, written by Jens T. Berger Thielemann (<A HREF="mailto:jensthi@ifi.uio.no">&lt;jensthi@ifi.uio.no&gt;</A>). <a class="idx_anchor" id="123" href="lpdocglindex.html#word-help"><tt>word-help</tt></a> may already be in your <a class="idx_anchor" id="124" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> distribution, but for convenience the file <a class="idx_anchor" id="125" href="lpdocglindex.html#word-help.el"><tt>word-help.el</tt></a> and a <a class="idx_anchor" id="126" href="lpdocglindex.html#word-help-setup.el"><tt>word-help-setup.el</tt></a> file, providing suitable initialization are included in the <tt>lpdoc</tt> library. A suitable interface for <a class="idx_anchor" id="127" href="lpdocglindex.html#word-help"><tt>word-help</tt></a> is also provided by the <tt>ciao.el</tt> <a class="idx_anchor" id="128" href="lpdocglindex.html#Emacs"><tt>Emacs</tt></a> file that comes with the <a class="idx_anchor" id="129" href="lpdocglindex.html#Ciao"><tt>Ciao</tt></a> system distribution (i.e., if <tt>ciao.el</tt> is loaded it is not necessary to load or initialize <tt>word-help</tt>).<p></div><div id="Accessing man manuals"><h3>Accessing man manuals</h3> <p>The <a class="idx_anchor" id="130" href="lpdocglindex.html#Unix"><tt>Unix</tt></a> <a class="idx_anchor" id="131" href="lpdocglindex.html#man"><tt>man</tt></a> format manuals generated by <a class="idx_anchor" id="132" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> can be viewed using the <a class="idx_anchor" id="133" href="lpdocglindex.html#Unix"><tt>Unix</tt></a> <a class="idx_anchor" id="134" href="lpdocglindex.html#man"><tt>man</tt></a> command. In order for <a class="idx_anchor" id="135" href="lpdocglindex.html#man"><tt>man</tt></a> to be able to locate the manuals, they should be copied to one of the subdirectories (e.g., <tt>/usr/local/man/manl</tt>) of one of the main man directories (in the previous case the main directory would be <tt>/usr/local/man</tt>). As usual, any directory can be used as as a man main directory, provided it is included in the environment variable <tt>MANPATH</tt>. Again, this process can be performed automatically by setting the <tt>docdir</tt> variable in the <a class="idx_anchor" id="136" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file to this directory and typing <tt>lpdoc install</tt>.<p></div><div id="Putting it all together"><h3>Putting it all together</h3> <p>A simple, powerful, and very convenient way to use the facilities provided by <a class="idx_anchor" id="137" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> for automatic installation of manuals in different formats is to install all manuals in all formats in the same directory <tt>docdir</tt>, and to choose a directory which is also accessible via <tt>WWW</tt>. After setting <tt>docdir</tt> to this directory in the <a class="idx_anchor" id="138" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file, and selecting <tt>infoindex</tt> and <tt>htmlindex</tt> for the <tt>docformats</tt> variable, <tt>lpdoc install</tt>/<tt>lpdoc uninstall</tt> will install/uninstall all manuals in all the selected formats in this directory and create and maintain the corresponding <tt>html</tt> and <tt>info</tt> indices. Then, setting the environment variables as follows (e.g., for <a class="idx_anchor" id="139" href="lpdocglindex.html#csh"><tt>csh</tt></a> in <tt>.cshrc</tt>):<p><pre>setenv DOCDIR   /home/clip/public_html/lpdoc_docs
setenv INFOPATH /usr/local/info:${DOCDIR}
setenv MANPATH  ${DOCDIR}:${MANPATH}
</pre> <p>Example files for inclusion in user&apos;s or common shell initialization files are included in the <tt>lpdoc</tt> library.<p>More complex setups can be accommodated, as, for example, installing different types of manuals in different directories. However, this currently requires changing the <tt>docformats</tt> and <tt>docdir</tt> variables and performing <tt>lpdoc install</tt> for each installation format/directory.<p></div></div><div id="Some usage tips"><h2>Some usage tips</h2> <p>This section contains additional suggestions on the use of <a class="idx_anchor" id="140" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a>.<p><div id="Ensuring Compatibility with All Supported Target Formats"><h3>Ensuring Compatibility with All Supported Target Formats</h3> <p>One of the nice things about <a class="idx_anchor" id="141" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> is that it allows generating manuals in several formats which are quite different in nature. Because these formats each have widely different requirements it is sometimes a little tricky to get things to work successfully for all formats. The following recommendations are intended to help in achieving useful manuals in all formats:<p><ul> <p><LI>The best results are obtained when documenting code organized as a series of libraries, and with a well-designed module structure.<p><LI><a class="idx_anchor" id="142" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a> supports only a limited number of indices. Thus, if you select too many indices in the <a class="idx_anchor" id="143" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file you may exceed <a class="idx_anchor" id="144" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a>&apos;s capacity (which it will signal by saying something like &ldquo;No room for a new @write&rdquo;).<p><LI>The GNU info format requires all <em>nodes</em> (chapters, sections, etc.) to have different names. This is ensured by <a class="idx_anchor" id="145" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> for the automatically generated sections (by appending the module or file name to all section headings). However, care must be taken when writing section names manually to make them different. For example, use &ldquo;lpdoc usage&rdquo; instead of simply &ldquo;Usage&rdquo;, which is much more likely to be used as a section name in another file being documented.<p><LI>Also due to a limitation of the <a class="idx_anchor" id="146" href="lpdocglindex.html#info"><tt>info</tt></a> format, do not use <tt>:</tt> or <tt>,</tt> or <tt>-</tt><tt>-</tt> in section, chapter, etc. headings.<p><LI>The character &ldquo;<tt>_</tt>&rdquo; in names may sometimes give problems in indices, since current versions of <a class="idx_anchor" id="147" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a> do not always handle it correctly.<p></ul> <p></div><div id="Writing comments which document version/patch changes"><h3>Writing comments which document version/patch changes</h3> <p>When writing version comments (<tt>:- doc(version(...), &quot;...&quot;).</tt>), it is useful to keep in mind that the text can often be used to include in the manual a list of improvements made to the software since the last time that it was distributed. For this to work well, the textual comments should describe the significance of the work done for the user. For example, it is more useful to write &quot;added support for <tt>pred</tt> assertions&quot; than &quot;modifying file so <tt>pred</tt> case is also handled&quot;.<p>Sometimes one would like to write version comments which are internal, i.e., not meant to appear in the manual. This can easily be done with standard Prolog comments (which <a class="idx_anchor" id="148" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> will not read). An alternative and quite useful solution is to put such internal comments in <em>patch</em> changes (e.g., 1.1#2 to 1.1#3), and put the more general comments, which describe major changes to the user and should appear in the manual, in <em>version</em> changes (e.g., 1.1#2 to 1.2#0). Selecting the appropriate options in <a class="idx_anchor" id="149" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> then allows including in the manual the version changes but not the patch changes (which might on the other hand be included in an <a class="idx_anchor" id="150" href="lpdoccoindex.html#internals manual"><em>internals manual</em></a>).<p></div><div id="Documenting Libraries and/or Applications"><h3>Documenting Libraries and/or Applications</h3> <p>As mentioned before, for each a <tt>.pl</tt> file, <a class="idx_anchor" id="151" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> tries to determine whether it is a library or the main file of an application, and documents it accordingly. Any combination of libraries and/or main files of applications can be used arbitrarily as components or main files of a <a class="idx_anchor" id="152" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> manual. Some typical combinations are:<p><ul> <p><LI><em>Main file is a library, no components:</em> A manual of a simple library, which appears externally as a single module. The manual describes the purpose of the library and its interface.<p><LI><em>Main file is an application, no components:</em> A manual of a simple application.<p><LI><em>Main file is a library, components are also libraries:</em> This can be used for example for generating an <a class="idx_anchor" id="153" href="lpdocglindex.html#internals manual">internals manual</a> of a library. The main file describes the purpose and use of the library, while the components describe the internal modules of the library.<p><LI><em>Main file is an application, components are libraries:</em> This can be used similarly for generating an <a class="idx_anchor" id="154" href="lpdocglindex.html#internals manual">internals manual</a> of an application. The main file describes the purpose and use of the application, while the components describe the internal modules which compose the application.<p><LI><em>Main file is a (pseudo-)application, components are libraries:</em> A manual of a complex library made up of smaller libraries (for example, the <a class="idx_anchor" id="155" href="lpdocglindex.html#Prolog"><tt>Prolog</tt></a> library). The (pseudo-)application file contains the introductory material (title, version, etc.). Each chapter describes a particular library.<p><LI><em>Main file is a (pseudo-)application, components are applications:</em> This can be used to generate a manual of a set of applications (e.g., a set of utilities). The (pseudo-)application file contains the introductory material (title, version, etc.). Each chapter describes a particular component application.<p></ul> <p></div><div id="Documenting files which are not modules"><h3>Documenting files which are not modules</h3> <p>Sometimes it is difficult for <a class="idx_anchor" id="156" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> to distinguish <a class="idx_anchor" id="157" href="lpdocglindex.html#include files">include files</a> and Ciao <a class="idx_anchor" id="158" href="lpdocglindex.html#packages">packages</a> from normal <em>user</em> files (i.e., normal code files but which are not modules). The distinction is important because the former are quite different in their form of use (they are loaded via <a class="idx_anchor" id="159" href="lpdocglindex.html#include/1"><tt>include/1</tt></a> or <a class="idx_anchor" id="160" href="lpdocglindex.html#use_package/1"><tt>use_package/1</tt></a> declarations instead of <a class="idx_anchor" id="161" href="lpdocglindex.html#ensure_loaded/1"><tt>ensure_loaded/1</tt></a>) and effect (since they are included, they &apos;export&apos; operators, declarations, etc.), and should typically be documented differently. There is a special <a class="idx_anchor" id="162" href="lpdocglindex.html#doc/2"><tt>doc/2</tt></a> declaration (<tt>:- doc(filetype,...).</tt>) which provides a way of defining the intended use of the file. This declaration is normally not needed in modules, include files, or packages, but should be added in user files (i.e., those meant to be loaded using <a class="idx_anchor" id="163" href="lpdocglindex.html#ensure_loaded/1"><tt>ensure_loaded/1</tt></a>). Adding this declaration will, for example, avoid spurious documentation of the declarations in the <a class="idx_anchor" id="164" href="lpdocglindex.html#assertions"><tt>assertions</tt></a> package themselves when this package is included in a user file.<p></div><div id="Splitting large documents into parts"><h3>Splitting large documents into parts</h3> <p>As mentioned before, in <a class="idx_anchor" id="165" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> each documented file (each component) corresponds to a chapter in the generated manual. In large documents, it is sometimes convenient to build a super-structure of parts, each of which groups several chapters. There is a special value of the second argument of the <tt>:- doc(filetype,...).</tt> declaration mentioned above designed for this purpose. The special <em>filetype</em> value <tt>part</tt> can be used to flag that the file in which it appears should be documented as the start of one of the major <a class="idx_anchor" id="166" href="lpdoccoindex.html#parts in a large document"><em>parts in a large document</em></a>. In order to introduce such a part, a <tt>.pl</tt> file with a declaration <tt>:- doc(filetype,part).</tt> should be inserted in the sequence of files that make up the <tt>components</tt> variable of the <a class="idx_anchor" id="167" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file at each point in which a major part starts. The <tt>:- doc(title,&quot;...&quot;).</tt> declaration of this file will be used as the part title, and the <tt>:- doc(module,&quot;...&quot;).</tt> declaration text will be used as the introduction to the part.<p></div><div id="Documenting reexported predicates"><h3>Documenting reexported predicates</h3> <p>Reexported predicates, i.e., predicates which are exported by a module <tt>m1</tt> but defined in another module <tt>m2</tt> which is used by <tt>m1</tt>, are normally not documented in the original module, but instead a simple reference is included to the module in which it is defined. This can be changed, so that the documentation is included in the original module, by using a <a class="idx_anchor" id="168" href="lpdocglindex.html#doc/2"><tt>doc/2</tt></a> declaration with <tt>doinclude</tt> in the first argument (see the <a class="idx_anchor" id="169" href="lpdocglindex.html#comments"><tt>comments</tt></a> library). This is often useful when documenting a library made of several components. For a simple user&apos;s manual, it is often sufficient to include in the <a class="idx_anchor" id="170" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> <a class="idx_anchor" id="171" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file the principal module, which is the one which users will do a <a class="idx_anchor" id="172" href="lpdocglindex.html#use_module/1"><tt>use_module/1</tt></a> of, in the manual. This module typically exports or reexports all the predicates which define the library&apos;s user interface. Note, however, that currently, due to limitations in the implementation, only the comments inside <a class="idx_anchor" id="173" href="lpdocglindex.html#assertions">assertions</a> (but not those in <a class="idx_anchor" id="174" href="lpdocglindex.html#doc/2"><tt>doc/2</tt></a> declarations) are included for reexported predicates.<p></div><div id="Separating the documentation from the source file"><h3>Separating the documentation from the source file</h3> <p>Sometimes one would not like to include long introductory comments in the module itself but would rather have them in a different file. This can be done quite simply by using the @include command. For example, the following declaration:<p><pre>:- doc(module,&quot;@include{Intro.lpdoc}&quot;).
</pre> <p>will include the contents of the file <tt>Intro.lpdoc</tt> as the module description.<p>Alternatively, sometimes one may want to generate the documentation from a completely different file. Assuming that the original module is <tt>m1.pl</tt>, this can be done by calling the module containing the documentation <tt>m1_doc.pl</tt>. This <tt>m1_doc.pl</tt> file is the one that will be included in the <a class="idx_anchor" id="175" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> <a class="idx_anchor" id="176" href="lpdocglindex.html#SETTINGS.pl"><tt>SETTINGS.pl</tt></a> file, instead of <tt>m1.pl</tt>. <a class="idx_anchor" id="177" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> recognizes and treats such <tt>_doc</tt> files specially so that the name without the <tt>_doc</tt> part is used in the different parts of the documentation, in the same way as if the documentation were placed in file <tt>m1</tt>.<p></div><div id="Generating auxiliary files (e.g. READMEs)"><h3>Generating auxiliary files (e.g. READMEs)</h3> <p><div class="alert"> <strong>Note: significant parts of this are obsolete. They must be updated to describe lpdoc version 2.0.</strong> </div> <p>Using <a class="idx_anchor" id="178" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> it is often possible to use a common source for documentation text which should appear in several places. For example, assume a file <a class="idx_anchor" id="179" href="lpdocglindex.html#INSTALLATION.lpdoc"><tt>INSTALLATION.lpdoc</tt></a> contains text (with <tt>lpdoc</tt> formatting commands) describing an application. This text can be included in a section of the main file documentation as follows:<p><pre>:- doc(module,&quot;
   ...
   @section{Installation instructions}
   @include{INSTALLATION.lpdoc}
   ...
   &quot;).
</pre> <p>At the same time, this text can be used to generate a nicely formatted <tt>INSTALLATION</tt> file in ascii, which can perhaps be included in the top level of the source directory of the application. To this end, an <tt>INSTALL.pl</tt> file as follows can be constructed:<p><pre>:- use_package([assertions]).
:- doc(filetype, application). %% forces file to be documented as an application
:- doc(title,&quot;Installation instructions&quot;).
:- doc(module,&quot;@include{INSTALLATION.lpdoc}&quot;).
</pre> <p>Then, the ascii <tt>INSTALLATION</tt> file can be generated by simply running <tt>lpdoc ascii</tt> in a directory with a <tt>SETTINGS.pl</tt> file where <tt>MAIN</tt> is set to <tt>INSTALLATION.pl</tt>.<p></div></div><div id="Troubleshooting"><h2>Troubleshooting</h2> <p>These are some common errors which may be found using <a class="idx_anchor" id="180" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> and the usual fix:<p><ul> <p><LI> Sometimes, messages of the type: <pre>  gmake: *** No rule to make target `myfile.texic&apos;, needed by
  `main.texic&apos;.  Stop.
</pre> appear (i.e., in the case above when running (<tt>g</tt>)<tt>make</tt> <tt>main.</tt><em>target</em>). Since <a class="idx_anchor" id="181" href="lpdocglindex.html#lpdoc"><tt>lpdoc</tt></a> definitely knows how to make a <tt>.texic</tt> file given a <tt>.pl</tt> file, this means (in make&apos;s language) that it <em>cannot find the corresponding</em> <tt>.pl</tt> <em>file</em> (<tt>myfile.pl</tt> in the case above). The usual reason for this is that there is no directory path to this file declared in the <tt>SETTINGS.pl</tt> file.<p><LI>Messages of the type: <pre> ! No room for a new @write .

</pre> while converting from <tt>.texi</tt> to <tt>.dvi</tt> (i.e., while running <a class="idx_anchor" id="182" href="lpdocglindex.html#tex"><tt>tex</tt></a>). These messages are <a class="idx_anchor" id="183" href="lpdocglindex.html#tex"><tt>tex</tt></a>&apos;s way of saying that an internal area (typically for an index) is full. This is normally because more indices were selected in the <tt>INDICES</tt> variable of the <tt>SETTINGS.pl</tt> file than the maximum number supported by the installed version of <a class="idx_anchor" id="184" href="lpdocglindex.html#tex"><tt>tex</tt></a>/<a class="idx_anchor" id="185" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a> installations, as mentioned in <a href="#Generating a manual">Generating a manual</a>. The easiest fix is to reduce the number of indices generated. Alternatively, it may be possible to recompile your local <a class="idx_anchor" id="186" href="lpdocglindex.html#tex"><tt>tex</tt></a>/<a class="idx_anchor" id="187" href="lpdocglindex.html#texinfo"><tt>texinfo</tt></a> installation with a higher number of indices.<p><LI>Missing links in <a class="idx_anchor" id="188" href="lpdocglindex.html#info"><tt>info</tt></a> files (a section which exists in the printed document cannot be accessed in the on-line document) can be due to the presence of a colon (<tt>:</tt>), a comma (<tt>,</tt>), a double dash (<tt>--</tt>), or other such separators in a section name. Due to limitations of <a class="idx_anchor" id="189" href="lpdocglindex.html#info"><tt>info</tt></a> section names cannot contain these symbols.<p><LI>Menu listings in <a class="idx_anchor" id="190" href="lpdocglindex.html#info"><tt>info</tt></a> which <em>do not work</em> (i.e., the menu listings are there, but they cannot be followed): see if they are indented. In that case it is due to an <tt>itemize</tt> or <tt>enumerate</tt> which was not closed.<p></ul> <p></div><br/></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofiglpdoc-logo-128.png"><h2>Sections</h2><ul><LI><a href="#Generating a manual from the Ciao Emacs mode">Generating a manual from the Ciao Emacs mode</a><LI><a href="#Generating a manual">Generating a manual</a><LI><a href="#Working on a manual">Working on a manual</a><LI><a href="#Cleaning up the documentation directory">Cleaning up the documentation directory</a><LI><a href="#Installing a generated manual in a public area">Installing a generated manual in a public area</a><LI><a href="#Enhancing the documentation being generated">Enhancing the documentation being generated</a><LI><a href="#Accessing on-line manuals">Accessing on-line manuals</a><ul><LI><a href="#Accessing html manuals">Accessing html manuals</a><LI><a href="#Accessing info manuals">Accessing info manuals</a><LI><a href="#Accessing man manuals">Accessing man manuals</a><LI><a href="#Putting it all together">Putting it all together</a></ul><LI><a href="#Some usage tips">Some usage tips</a><ul><LI><a href="#Ensuring Compatibility with All Supported Target Formats">Ensuring Compatibility with All Supported Target Formats</a><LI><a href="#Writing comments which document version/patch changes">Writing comments which document version/patch changes</a><LI><a href="#Documenting Libraries and/or Applications">Documenting Libraries and/or Applications</a><LI><a href="#Documenting files which are not modules">Documenting files which are not modules</a><LI><a href="#Splitting large documents into parts">Splitting large documents into parts</a><LI><a href="#Documenting reexported predicates">Documenting reexported predicates</a><LI><a href="#Separating the documentation from the source file">Separating the documentation from the source file</a><LI><a href="#Generating auxiliary files (e.g. READMEs)">Generating auxiliary files (e.g. READMEs)</a></ul><LI><a href="#Troubleshooting">Troubleshooting</a></ul><h2>Global Links</h2><ul><LI><a href="lpdocfulltoc.html">Table of Contents</a><LI><a href="lpdocchanges.html">Version/Change Log</a><LI><a href="lpdocrefs.html">References</a><LI><a href="lpdoccopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="lpdocliindex.html">Library/Module Index</a><LI><a href="lpdocpdindex.html">Predicate/Method Index</a><LI><a href="lpdocprindex.html">Property Index</a><LI><a href="lpdocteindex.html">Regular Type Index</a><LI><a href="lpdocdeindex.html">Declaration Index</a><LI><a href="lpdoccoindex.html">Concept Index</a><LI><a href="lpdocauindex.html">Author Index</a><LI><a href="lpdocglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="Reference.html">&#x25C4;</a><a class="navbutton" href="comments.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>