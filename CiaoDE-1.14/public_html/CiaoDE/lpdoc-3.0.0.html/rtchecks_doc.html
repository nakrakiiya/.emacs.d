<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Run-time checking of assertions &mdash; The lpdoc Documentation Generator v3.0</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="example_module.html">&#x25C4;</a><a class="navbutton" href="unittest_doc.html">&#x25BA;</a></span><span><a href="lpdoc.html">The lpdoc Documentation Generator</a> &raquo; <a href="Reference.html">PART I - LPdoc Reference Manual</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Run-time checking of assertions</h1><a class="idx_anchor" href="lpdocliindex.html#rtchecks"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Edison Mera" href="lpdocauindex.html#Edison Mera">Edison Mera</a>.<p>
This package provides a complete implementation of run-time checks of predicate assertions. The program is instrumented to check such assertions at run time, and in case a property does not hold, the error is reported. Note that there is also an older package called rtchecks, by David Trallero. The advantage of this one is that it can be used independently of CiaoPP and also has updated functionality.<p> There are two main applications of run-time checks:<p><ul> <p><LI>To improve debugging of certain predicates, specifying some expected behavior that is checked at run-time with the assertions.<p><LI>To avoid manual implementation of run-time checks that should be done in some predicates, leaving the code clean and understandable.<p></ul> <p>The run-time checks can be configured using prolog flags. Below we itemize the valid prolog flags with its values and a brief explanation of the meaning:<p><ul> <p><LI><a class="idx_anchor" id="0" href="lpdocglindex.html#rtchecks_level"><tt>rtchecks_level</tt></a> <ul> <LI><a class="idx_anchor" id="1" href="lpdocglindex.html#exports"><tt>exports</tt></a>: Only use rtchecks for external calls of the exported predicates. <LI><a class="idx_anchor" id="2" href="lpdocglindex.html#inner"><tt>inner</tt></a> : Use also rtchecks for internal calls. Default. </ul> <p><LI><a class="idx_anchor" id="3" href="lpdocglindex.html#rtchecks_trust"><tt>rtchecks_trust</tt></a> <ul> <LI><a class="idx_anchor" id="4" href="lpdocglindex.html#no"><tt>no</tt></a> : Disable rtchecks for trust assertions. <LI><a class="idx_anchor" id="5" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Enable rtchecks for trust assertions. Default. </ul> <p><LI><a class="idx_anchor" id="6" href="lpdocglindex.html#rtchecks_entry"><tt>rtchecks_entry</tt></a> <ul> <LI><a class="idx_anchor" id="7" href="lpdocglindex.html#no"><tt>no</tt></a> : Disable rtchecks for entry assertions. <LI><a class="idx_anchor" id="8" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Enable rtchecks for entry assertions. Default. </ul> <p><LI><a class="idx_anchor" id="9" href="lpdocglindex.html#rtchecks_exit"><tt>rtchecks_exit</tt></a> <ul> <LI><a class="idx_anchor" id="10" href="lpdocglindex.html#no"><tt>no</tt></a> : Disable rtchecks for exit assertions. <LI><a class="idx_anchor" id="11" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Enable rtchecks for exit assertions. Default. </ul> <p><LI><a class="idx_anchor" id="12" href="lpdocglindex.html#rtchecks_test"><tt>rtchecks_test</tt></a> <ul> <LI><a class="idx_anchor" id="13" href="lpdocglindex.html#no"><tt>no</tt></a> : Disable rtchecks for test assertions. Default. <LI><a class="idx_anchor" id="14" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Enable rtchecks for test assertions. Used for debugging purposes, but is better to use the unittest library. </ul> <p><LI><a class="idx_anchor" id="15" href="lpdocglindex.html#rtchecks_inline"><tt>rtchecks_inline</tt></a> <ul> <LI><a class="idx_anchor" id="16" href="lpdocglindex.html#no"><tt>no</tt></a> : Instrument rtchecks using call to library predicates present in <a class="idx_anchor" id="17" href="lpdocglindex.html#rtchecks_rt.pl"><tt>rtchecks_rt.pl</tt></a>, <a class="idx_anchor" id="18" href="lpdocglindex.html#nativeprops.pl"><tt>nativeprops.pl</tt></a> and <a class="idx_anchor" id="19" href="lpdocglindex.html#basic_props.pl"><tt>basic_props.pl</tt></a>. In this way, space is saved, but sacrifying performance due to usage of meta calls and external methods in the libraries. Default. <LI><a class="idx_anchor" id="20" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Expand library predicates inline as far as possible. In this way, the code is faster, because its avoids metacalls and usage of external methods, but the final executable could be bigger. </ul> <p><LI><a class="idx_anchor" id="21" href="lpdocglindex.html#rtchecks_asrloc"><tt>rtchecks_asrloc</tt></a> Controls the usage of locators for the assertions in the error messages. The locator says the file and lines that contains the assertion that had failed. Valid values are: <ul> <LI><a class="idx_anchor" id="22" href="lpdocglindex.html#no"><tt>no</tt></a> : Disabled. <LI><a class="idx_anchor" id="23" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Enabled. Default. </ul> <p><LI><a class="idx_anchor" id="24" href="lpdocglindex.html#rtchecks_predloc"><tt>rtchecks_predloc</tt></a> Controls the usage of locators for the predicate that caused the run-time check error. The locator says the first clause of the predicate that the violated assertion refers to. <ul> <LI><a class="idx_anchor" id="25" href="lpdocglindex.html#no"><tt>no</tt></a> : Disabled. <LI><a class="idx_anchor" id="26" href="lpdocglindex.html#yes"><tt>yes</tt></a> : Enabled, Default. </ul> <p><LI><a class="idx_anchor" id="27" href="lpdocglindex.html#rtchecks_callloc"><tt>rtchecks_callloc</tt></a> <ul> <LI><a class="idx_anchor" id="28" href="lpdocglindex.html#no"><tt>no</tt></a> : Do not show the stack of predicates that caused the failure <LI><a class="idx_anchor" id="29" href="lpdocglindex.html#predicate"><tt>predicate</tt></a>: Show the stack of predicates that caused the failure. Instrument it in the predicate. Default. <LI><a class="idx_anchor" id="30" href="lpdocglindex.html#literal"><tt>literal</tt></a> : Show the stack of predicates that caused the failure. Instrument it in the literal. This mode provides more information, because reports also the literal in the body of the predicate. </ul> <p><LI><a class="idx_anchor" id="31" href="lpdocglindex.html#rtchecks_namefmt"><tt>rtchecks_namefmt</tt></a> <ul> <LI><a class="idx_anchor" id="32" href="lpdocglindex.html#long"><tt>long</tt></a> : Show the name of predicates, properties and the values of the variables <LI><a class="idx_anchor" id="33" href="lpdocglindex.html#short"><tt>short</tt></a> : Only show the name of the predicate in a reduced format. Default. </ul> <p></ul> <br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_package(rtchecks).</tt>

or

<tt>:- module(...,...,[rtchecks]).</tt><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>Internal (engine) modules:</em><br/><a class="idx_anchor" id="34" href="lpdocglindex.html#term_basic"><tt>term_basic</tt></a>, <a class="idx_anchor" id="35" href="lpdocglindex.html#arithmetic"><tt>arithmetic</tt></a>, <a class="idx_anchor" id="36" href="lpdocglindex.html#atomic_basic"><tt>atomic_basic</tt></a>, <a class="idx_anchor" id="37" href="lpdocglindex.html#attributes"><tt>attributes</tt></a>, <a class="idx_anchor" id="38" href="lpdocglindex.html#basic_props"><tt>basic_props</tt></a>, <a class="idx_anchor" id="39" href="lpdocglindex.html#basiccontrol"><tt>basiccontrol</tt></a>, <a class="idx_anchor" id="40" href="lpdocglindex.html#data_facts"><tt>data_facts</tt></a>, <a class="idx_anchor" id="41" href="lpdocglindex.html#exceptions"><tt>exceptions</tt></a>, <a class="idx_anchor" id="42" href="lpdocglindex.html#io_aux"><tt>io_aux</tt></a>, <a class="idx_anchor" id="43" href="lpdocglindex.html#io_basic"><tt>io_basic</tt></a>, <a class="idx_anchor" id="44" href="lpdocglindex.html#prolog_flags"><tt>prolog_flags</tt></a>, <a class="idx_anchor" id="45" href="lpdocglindex.html#streams_basic"><tt>streams_basic</tt></a>, <a class="idx_anchor" id="46" href="lpdocglindex.html#system_info"><tt>system_info</tt></a>, <a class="idx_anchor" id="47" href="lpdocglindex.html#term_compare"><tt>term_compare</tt></a>, <a class="idx_anchor" id="48" href="lpdocglindex.html#term_typing"><tt>term_typing</tt></a>, <a class="idx_anchor" id="49" href="lpdocglindex.html#hiord_rt"><tt>hiord_rt</tt></a>, <a class="idx_anchor" id="50" href="lpdocglindex.html#debugger_support"><tt>debugger_support</tt></a>.
</ul></ul></div></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofiglpdoc-logo-128.png"><h2>Package Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a></ul><h2>Global Links</h2><ul><LI><a href="lpdocfulltoc.html">Table of Contents</a><LI><a href="lpdocchanges.html">Version/Change Log</a><LI><a href="lpdocrefs.html">References</a><LI><a href="lpdoccopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="lpdocliindex.html">Library/Module Index</a><LI><a href="lpdocpdindex.html">Predicate/Method Index</a><LI><a href="lpdocprindex.html">Property Index</a><LI><a href="lpdocteindex.html">Regular Type Index</a><LI><a href="lpdocdeindex.html">Declaration Index</a><LI><a href="lpdoccoindex.html">Concept Index</a><LI><a href="lpdocauindex.html">Author Index</a><LI><a href="lpdocglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="example_module.html">&#x25C4;</a><a class="navbutton" href="unittest_doc.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>