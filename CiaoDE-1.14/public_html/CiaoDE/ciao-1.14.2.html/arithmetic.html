<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Arithmetic &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="atomic_basic.html">&#x25C4;</a><a class="navbutton" href="streams_basic.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="Builtins.html">PART II - The Ciao basic language (engine)</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Arithmetic</h1><a class="idx_anchor" href="ciaoliindex.html#arithmetic"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Daniel Cabeza" href="ciaoauindex.html#Daniel Cabeza">Daniel Cabeza</a>, <a class="idx_anchor" id="Manuel Hermenegildo" href="ciaoauindex.html#Manuel Hermenegildo">Manuel Hermenegildo</a>.<p>
Arithmetic is performed by built-in predicates which take as arguments arithmetic expressions (see <a class="idx_anchor" id="0" href="ciaoglindex.html#arithexpression/1"><tt>arithexpression/1</tt></a>) and evaluate them. Terms representing arithmetic expressions can be created dynamically, but at the time of evaluation, each variable in an arithmetic expression must be bound to a non-variable expression (the term must be ground). For example, given the code in the first line a possible shell interaction follows: <pre>evaluate(Expression, Answer) :- Answer is Expression.

?- _X=24*9, evaluate(_X+6, Ans).

Ans = 222 ?

yes
</pre> <br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/>These predicates are builtin in Ciao, so nothing special has to be done to use them.<LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="1" href="ciaoglindex.html#is/2"><tt>is/2</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#&lt;/2"><tt>&lt;/2</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#=&lt;/2"><tt>=&lt;/2</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#&gt;/2"><tt>&gt;/2</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#&gt;=/2"><tt>&gt;=/2</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#=:=/2"><tt>=:=/2</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#=\=/2"><tt>=\=/2</tt></a>.
<LI><em>Regular Types:</em><br/><a class="idx_anchor" id="8" href="ciaoglindex.html#arithexpression/1"><tt>arithexpression/1</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#intexpression/1"><tt>intexpression/1</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="10" href="ciaoglindex.html#assertions/native_props"><tt>assertions/native_props</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="is/2" href="ciaopdindex.html#is/2">is/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Val is Exp</tt></span>
<p>The arithmetic expression <span class="var">Exp</span> is evaluated and the result is unified with <span class="var">Val</span><br/>
<strong>General properties:</strong> <tt>X is Y</tt>
<ul class="itemize_minus"><LI><em>Description:</em> is/2, sqrt test<LI><em>If the following properties should hold at call time:</em><br/><span class="on_right"> (term_basic:= /2)</span><span>term_basic:Y=sqrt(4)
</span>


<em>then the following properties should hold upon exit:</em>
<br/><span class="on_right"> (term_basic:= /2)</span><span>term_basic:X=2.0
</span>
</ul><tt>A is B</tt>
<ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul><ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Val is Exp</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Val is Exp</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Val is Exp</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Val is Exp</span> produces <span class="var">inf</span> solutions.
</span>
</ul><p><strong>Usage 1:</strong> <tt>A is B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">A</span> is a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">A</span> is a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:num/1)</span><span><span class="var">A</span> is a number.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span><br/><span class="on_right"> (native_props:size/2)</span><span><span class="var">int(B)</span> is the size of argument <span class="var">A</span>, for any approximation.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (native_props:not_fails/1)</span><span>All the calls of the form <span class="var">A is B</span> do not fail.
</span><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A is B</span> is evaluable at compile-time.
</span>
</ul><p><strong>Usage 2:</strong> <tt>A is B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">A</span> is a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">A</span> is a free variable.
</span><br/><span class="on_right"> (arithmetic:intexpression/1)</span><span><span class="var">B</span> is an integer expression.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">A</span> is an integer.
</span><br/><span class="on_right"> (arithmetic:intexpression/1)</span><span><span class="var">B</span> is an integer expression.
</span><br/><span class="on_right"> (native_props:size/2)</span><span><span class="var">int(B)</span> is the size of argument <span class="var">A</span>, for any approximation.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (native_props:not_fails/1)</span><span>All the calls of the form <span class="var">A is B</span> do not fail.
</span><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A is B</span> is evaluable at compile-time.
</span>
</ul><p><strong>Usage 3:</strong> <tt>A is B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:num/1)</span><span><span class="var">A</span> is a number.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage 4:</strong> <tt>A is B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">A</span> is an integer.
</span><br/><span class="on_right"> (arithmetic:intexpression/1)</span><span><span class="var">B</span> is an integer expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="&lt;/2" href="ciaopdindex.html#</2">&lt;/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Exp1&lt;Exp2</tt></span>
<p>The numeric value of <span class="var">Exp1</span> is less than the numeric value of <span class="var">Exp2</span> when both are evaluated as arithmetic expressions.<br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Exp1&lt;Exp2</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Exp1&lt;Exp2</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Exp1&lt;Exp2</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Exp1&lt;Exp2</span> produces <span class="var">inf</span> solutions.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>A&lt;B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">A</span> is an arithmetic expression.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A&lt;B</span> is evaluable at compile-time.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="=&lt;/2" href="ciaopdindex.html#=</2">=&lt;/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Exp1=&lt;Exp2</tt></span>
<p>The numeric value of <span class="var">Exp1</span> is less than or equal to the numeric value of <span class="var">Exp2</span> when both are evaluated as arithmetic expressions.<br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Exp1=&lt;Exp2</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Exp1=&lt;Exp2</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Exp1=&lt;Exp2</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Exp1=&lt;Exp2</span> produces <span class="var">inf</span> solutions.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>A=&lt;B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">A</span> is an arithmetic expression.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A=&lt;B</span> is evaluable at compile-time.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="&gt;/2" href="ciaopdindex.html#>/2">&gt;/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Exp1&gt;Exp2</tt></span>
<p>The numeric value of <span class="var">Exp1</span> is greater than the numeric value of <span class="var">Exp2</span> when both are evaluated as arithmetic expressions.<br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Exp1&gt;Exp2</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Exp1&gt;Exp2</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Exp1&gt;Exp2</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Exp1&gt;Exp2</span> produces <span class="var">inf</span> solutions.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>A&gt;B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">A</span> is an arithmetic expression.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A&gt;B</span> is evaluable at compile-time.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="&gt;=/2" href="ciaopdindex.html#>=/2">&gt;=/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Exp1&gt;=Exp2</tt></span>
<p>The numeric value of <span class="var">Exp1</span> is greater than or equal to the numeric value of <span class="var">Exp2</span> when both are evaluated as arithmetic expressions.<br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Exp1&gt;=Exp2</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Exp1&gt;=Exp2</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Exp1&gt;=Exp2</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Exp1&gt;=Exp2</span> produces <span class="var">inf</span> solutions.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>A&gt;=B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">A</span> is an arithmetic expression.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A&gt;=B</span> is evaluable at compile-time.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="=:=/2" href="ciaopdindex.html#=:=/2">=:=/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Exp1=:=Exp2</tt></span>
<p>The numeric values of <span class="var">Exp1</span> and <span class="var">Exp2</span> are equal when both are evaluated as arithmetic expressions.<br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Exp1=:=Exp2</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Exp1=:=Exp2</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Exp1=:=Exp2</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Exp1=:=Exp2</span> produces <span class="var">inf</span> solutions.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>A=:=B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">A</span> is an arithmetic expression.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A=:=B</span> is evaluable at compile-time.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="=\=/2" href="ciaopdindex.html#=\=/2">=\=/2</a>:</div><div class="deftext"><span class="on_right"><span class="iso">ISO</span></span><span><tt>Exp1=\=Exp2</tt></span>
<p>The numeric values of <span class="var">Exp1</span> and <span class="var">Exp2</span> are not equal when both are evaluated as arithmetic expressions.<br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">Exp1=\=Exp2</span> is side-effect <span class="var">free</span>.
</span><br/><span class="on_right"> (basic_props:bind_ins/1)</span><span><span class="var">Exp1=\=Exp2</span> is binding insensitive.
</span><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">Exp1=\=Exp2</span> are deterministic.
</span><br/><span class="on_right"> (native_props:relations/2)</span><span>Goal <span class="var">Exp1=\=Exp2</span> produces <span class="var">inf</span> solutions.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>A=\=B</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">A</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">B</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">A</span> is an arithmetic expression.
</span><br/><span class="on_right"> (arithmetic:arithexpression/1)</span><span><span class="var">B</span> is an arithmetic expression.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:eval/1)</span><span><span class="var">A=\=B</span> is evaluable at compile-time.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">A</span>, for any approximation.
</span><br/><span class="on_right"> (native_props:size_metric/3)</span><span><span class="var">int</span> is the metric of the variable <span class="var">B</span>, for any approximation.
</span>
</ul></div></div><p>
<div><span class="on_right">REGTYPE</span><div class="defname"><a class="idx_anchor" id="arithexpression/1" href="ciaoteindex.html#arithexpression/1">arithexpression/1</a>:</div><div class="deftext">An arithmetic expression is a term built from numbers and <a class="idx_anchor" id="11" href="ciaoglindex.html#evaluable functors">evaluable functors</a> that represent arithmetic functions. An arithmetic expression evaluates to a number, which may be an integer (<a class="idx_anchor" id="12" href="ciaoglindex.html#int/1"><tt>int/1</tt></a>) or a float (<a class="idx_anchor" id="13" href="ciaoglindex.html#flt/1"><tt>flt/1</tt></a>). The evaluable functors allowed in an arithmetic expression are listed below, together with an indication of the functions they represent. All evaluable functors defined in <a class="idx_anchor" id="14" href="ciaoglindex.html#ISO-Prolog">ISO-Prolog</a> are implemented, as well as some other useful or traditional. Unless stated otherwise, an expression evaluates to a float if any of its arguments is a float, otherwise to an integer.<p><ul> <p><LI><a class="idx_anchor" id="15" href="ciaoglindex.html#- /1"><tt>- /1</tt></a>: sign reversal. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="16" href="ciaoglindex.html#+ /1"><tt>+ /1</tt></a>: identity.<p><LI><a class="idx_anchor" id="17" href="ciaoglindex.html#-- /1"><tt>-- /1</tt></a>: decrement by one.<p><LI><a class="idx_anchor" id="18" href="ciaoglindex.html#++ /1"><tt>++ /1</tt></a>: increment by one.<p><LI><a class="idx_anchor" id="19" href="ciaoglindex.html#+ /2"><tt>+ /2</tt></a>: addition. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="20" href="ciaoglindex.html#- /2"><tt>- /2</tt></a>: subtraction. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="21" href="ciaoglindex.html#* /2"><tt>* /2</tt></a>: multiplication. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="22" href="ciaoglindex.html#// /2"><tt>// /2</tt></a>: integer division. Float arguments are truncated to integers, result always integer. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="23" href="ciaoglindex.html#/ /2"><tt>/ /2</tt></a>: division. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="24" href="ciaoglindex.html#rem/2"><tt>rem/2</tt></a>: integer remainder. The result is always an integer, its sign is the sign of the first argument. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="25" href="ciaoglindex.html#mod/2"><tt>mod/2</tt></a>: modulo. The result is always a positive integer. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="26" href="ciaoglindex.html#abs/1"><tt>abs/1</tt></a>: absolute value. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="27" href="ciaoglindex.html#sign/1"><tt>sign/1</tt></a>: sign of. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="28" href="ciaoglindex.html#float_integer_part/1"><tt>float_integer_part/1</tt></a>: float integer part. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="29" href="ciaoglindex.html#float_fractional_part/1"><tt>float_fractional_part/1</tt></a>: float fractional part. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="30" href="ciaoglindex.html#truncate/1"><tt>truncate/1</tt></a>: The result is the integer equal to the integer part of the argument. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="31" href="ciaoglindex.html#integer/1"><tt>integer/1</tt></a>: same as <a class="idx_anchor" id="32" href="ciaoglindex.html#truncate/1"><tt>truncate/1</tt></a>.<p><LI><a class="idx_anchor" id="33" href="ciaoglindex.html#float/1"><tt>float/1</tt></a>: conversion to float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="34" href="ciaoglindex.html#floor/1"><tt>floor/1</tt></a>: largest integer not greater than. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="35" href="ciaoglindex.html#round/1"><tt>round/1</tt></a>: integer nearest to. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="36" href="ciaoglindex.html#ceiling/1"><tt>ceiling/1</tt></a>: smallest integer not smaller than. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="37" href="ciaoglindex.html#** /2"><tt>** /2</tt></a>: exponentiation. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="38" href="ciaoglindex.html#&gt;&gt; /2"><tt>&gt;&gt; /2</tt></a>: integer bitwise right shift. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="39" href="ciaoglindex.html#&lt;&lt; /2"><tt>&lt;&lt; /2</tt></a>: integer bitwise left shift. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="40" href="ciaoglindex.html#/\ /2"><tt>/\ /2</tt></a>: integer bitwise and. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="41" href="ciaoglindex.html#\/ /2"><tt>\/ /2</tt></a>: integer bitwise or. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="42" href="ciaoglindex.html#\ /1"><tt>\ /1</tt></a>: integer bitwise complement. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="43" href="ciaoglindex.html## /2"><tt># /2</tt></a>: integer bitwise exclusive or (xor).<p><LI><a class="idx_anchor" id="44" href="ciaoglindex.html#exp/1"><tt>exp/1</tt></a>: exponential (<em>e</em> to the power of). Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="45" href="ciaoglindex.html#log/1"><tt>log/1</tt></a>: natural logarithm (base <em>e</em>). Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="46" href="ciaoglindex.html#sqrt/1"><tt>sqrt/1</tt></a>: square root. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="47" href="ciaoglindex.html#sin/1"><tt>sin/1</tt></a>: sine. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="48" href="ciaoglindex.html#cos/1"><tt>cos/1</tt></a>: cosine. Result always float. <span class="iso">ISO</span> <LI><a class="idx_anchor" id="49" href="ciaoglindex.html#atan/1"><tt>atan/1</tt></a>: arc tangent. Result always float. <span class="iso">ISO</span> <p><LI><a class="idx_anchor" id="50" href="ciaoglindex.html#gcd/2"><tt>gcd/2</tt></a>: Greatest common divisor. Arguments must evaluate to integers, result always integer.<p></ul> <p>In addition to these functors, a list of just a number evaluates to this number. Since a <a class="idx_anchor" id="51" href="ciaoglindex.html#quoted string">quoted string</a> is just a list of integers, this allows a quoted character to be used in place of its <a class="idx_anchor" id="52" href="ciaoglindex.html#ASCII code">ASCII code</a>; e.g. <tt>&quot;A&quot;</tt> behaves within arithmetic expressions as the integer 65. Note that this is not <a class="idx_anchor" id="53" href="ciaocoindex.html#ISO-Prolog"></a>ISO-compliant, and that can be achieved by using the ISO notation <tt>0&apos;A</tt>.<p>Arithmetic expressions, as described above, are just data structures. If you want one evaluated you must pass it as an argument to one of the arithmetic predicates defined in this library. <br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">arithexpression(Arg1)</span> is side-effect <span class="var">free</span>.
</span>
</ul><ul class="itemize_minus"><LI><em>If the following properties hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Arg1</span> is currently a term which is not a free variable.
</span>


<em>then the following properties hold globally:</em>
<br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">arithexpression(Arg1)</span> are deterministic.
</span><br/><span class="on_right"> (native_props:test_type/2)</span><span>Indicates the type of test that a predicate performs. Required by the nonfailure analyisis.
</span>
</ul><p><strong>Usage:</strong> <tt>arithexpression(E)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">E</span> is an arithmetic expression.</ul></div></div><p>
<div><span class="on_right">REGTYPE</span><div class="defname"><a class="idx_anchor" id="intexpression/1" href="ciaoteindex.html#intexpression/1">intexpression/1</a>:</div><div class="deftext"><br/>
<strong>General properties:</strong> <ul class="itemize_minus"><LI><em>The following properties hold globally:</em><br/><span class="on_right"> (basic_props:sideff/2)</span><span><span class="var">intexpression(Arg1)</span> is side-effect <span class="var">free</span>.
</span>
</ul><p><strong>Usage:</strong> <tt>intexpression(E)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">E</span> is an integer expression.</ul></div></div><p>
</div><div id="Known bugs and planned improvements"><h2>Known bugs and planned improvements</h2><ul><LI>Run-time checks have been reported not to work with this code. That means that either the assertions here, or the code that implements the run-time checks are erroneous.<LI>We could improve the precision if we had (arithexpression,+intexpression) but we need a relational domain. -- EMM, JFMC</ul></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Known bugs and planned improvements">Known bugs and planned improvements</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="atomic_basic.html">&#x25C4;</a><a class="navbutton" href="streams_basic.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>