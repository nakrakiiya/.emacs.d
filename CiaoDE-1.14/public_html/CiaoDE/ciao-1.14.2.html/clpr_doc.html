<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Constraint programming over reals &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="clpq_doc.html">&#x25C4;</a><a class="navbutton" href="fuzzy_doc.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="ExtendProlog.html">PART VII - Ciao extensions</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Constraint programming over reals</h1><a class="idx_anchor" href="ciaoliindex.html#clpr"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Christian Holzbaur" href="ciaoauindex.html#Christian Holzbaur">Christian Holzbaur</a>, <a class="idx_anchor" id="Daniel Cabeza" href="ciaoauindex.html#Daniel Cabeza">Daniel Cabeza</a>, <a class="idx_anchor" id="Samir Genaim" href="ciaoauindex.html#Samir Genaim">Samir Genaim (Meta-programming predicates)</a>.<p>
<p><strong>Note</strong>: This package is currently being adapted to the new characteristics of the Ciao module system. This new version now works right now to some extent, but it under further development at the moment. Use with (lots of) caution.<p><br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_package(clpr).</tt>

or

<tt>:- module(...,...,[clpr]).</tt><LI><strong>New operators defined:</strong><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#.=./2"><tt>.=./2</tt></a> [700,xfx], <a class="idx_anchor" id="1" href="ciaoglindex.html#.&lt;&gt;./2"><tt>.&lt;&gt;./2</tt></a> [700,xfx], <a class="idx_anchor" id="2" href="ciaoglindex.html#.&lt;./2"><tt>.&lt;./2</tt></a> [700,xfx], <a class="idx_anchor" id="3" href="ciaoglindex.html#.=&lt;./2"><tt>.=&lt;./2</tt></a> [700,xfx], <a class="idx_anchor" id="4" href="ciaoglindex.html#.&gt;./2"><tt>.&gt;./2</tt></a> [700,xfx], <a class="idx_anchor" id="5" href="ciaoglindex.html#.&gt;=./2"><tt>.&gt;=./2</tt></a> [700,xfx].
</ul></div></div><div id="Other information"><h2>Other information</h2>
<p><div id="Some CLP(R) examples"><h3>Some CLP(R) examples</h3> <p>(Other examples can be found in the source and library directories.)<p><ul> <LI>&apos;Reversible&apos; Fibonacci (clpr): </ul> <p><pre>:- module(_, [fib/2], []).
:- use_package(clpr).

fib(X,Y):- X .=. 0, Y .=. 0.
fib(X,Y):- X .=. 1, Y .=. 1.
fib(N,F) :-
        N .&gt;. 1,
        N1 .=. N - 1,
        N2 .=. N - 2,
        fib(N1, F1),
        fib(N2, F2),
        F .=. F1+F2.

</pre> <p><ul> <LI>Dirichlet problem for Laplace&apos;s equation (clpr): </ul> <p><pre>

%
% Solve the Dirichlet problem for Laplace&apos;s equation using
% Leibman&apos;s five-point finit-differenc approximation. 
% The goal ?- go1 is a normal example, while the goal ?- go2
% shows output constraints for a small region where the boundary conditions
% are not specified.
%
:- use_package(clpq).
:- use_module(library(format)).

laplace([_, _]).
laplace([H1, H2, H3|T]):-
	laplace_vec(H1, H2, H3), 
	laplace([H2, H3|T]).

laplace_vec([_, _], [_, _], [_, _]).
laplace_vec([_TL, T, TR|T1], [ML, M, MR|T2], [_BL, B, BR|T3]):-
	B + T + ML + MR - 4 * M .=. 0, 
	laplace_vec([T, TR|T1], [M, MR|T2], [B, BR|T3]).

printmat([]).
printmat([H|T]):-
	printvec(H), 
	printmat(T).

printvec([]):- nl.
printvec([H|T]):-
	printrat(H), 
	printvec(T).

printrat(rat(N,D)) :- !,
        X is N/D,
        format(&quot; ~2f&quot;,X).
printrat(N) :-
        X is N*100,
        format(&quot; ~2d&quot;,X).

go1:-
	X =  [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, _, _, _, _, _, _, _, _, _, 100], 
    [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100]
    ], 
	laplace(X),
	printmat(X).

% Answer:
% 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
% 100.00 51.11 32.52 24.56 21.11 20.12 21.11 24.56 32.52 51.11 100.00
% 100.00 71.91 54.41 44.63 39.74 38.26 39.74 44.63 54.41 71.91 100.00
% 100.00 82.12 68.59 59.80 54.97 53.44 54.97 59.80 68.59 82.12 100.00
% 100.00 87.97 78.03 71.00 66.90 65.56 66.90 71.00 78.03 87.97 100.00
% 100.00 91.71 84.58 79.28 76.07 75.00 76.07 79.28 84.58 91.71 100.00
% 100.00 94.30 89.29 85.47 83.10 82.30 83.10 85.47 89.29 94.30 100.00
% 100.00 96.20 92.82 90.20 88.56 88.00 88.56 90.20 92.82 96.20 100.00
% 100.00 97.67 95.59 93.96 92.93 92.58 92.93 93.96 95.59 97.67 100.00
% 100.00 98.89 97.90 97.12 96.63 96.46 96.63 97.12 97.90 98.89 100.00
% 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0

go2([B31, M32, M33, B34, B42, B43, B12, B13, B21, M22, M23, B24]) :-
	laplace([
    	[_B11, B12, B13, _B14], 
    	[B21, M22, M23, B24], 
    	[B31, M32, M33, B34], 
    	[_B41, B42, B43, _B44]
    ]).
    	  

% Answer:
% 
% B34.=. -4*M22+B12+B21+4*M33-B43,
% M23.=.4*M22-M32-B12-B21,
% B31.=. -M22+4*M32-M33-B42,
% B24.=.15*M22-4*M32-4*B12-4*B21-M33-B13 ? 

</pre> <p></div><div id="Meta-programming with CLP(R)"><h3>Meta-programming with CLP(R)</h3> <p>see <a href="clpq_doc.html#Meta-programming with CLP(Q)">Meta-programming with CLP(Q)</a> <p></div><br/></div><div id="Known bugs and planned improvements"><h2>Known bugs and planned improvements</h2><ul><LI>clp(Q) and clp(R) cannot be used simultaneously in the same program, or even within the same toplevel session.</ul></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Package Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Other information">Other information</a><ul><LI><a href="#Some CLP(R) examples">Some CLP(R) examples</a><LI><a href="#Meta-programming with CLP(R)">Meta-programming with CLP(R)</a></ul><LI><a href="#Known bugs and planned improvements">Known bugs and planned improvements</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="clpq_doc.html">&#x25C4;</a><a class="navbutton" href="fuzzy_doc.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>