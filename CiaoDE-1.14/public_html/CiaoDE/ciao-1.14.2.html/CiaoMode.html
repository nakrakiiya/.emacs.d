<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Using Ciao inside GNU emacs &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="libpaths.html">&#x25C4;</a><a class="navbutton" href="Builtins.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="DevEnv.html">PART I - The program development environment</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Using Ciao inside GNU emacs</h1><a class="idx_anchor" href="ciaoliindex.html#CiaoMode"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Manuel Hermenegildo" href="ciaoauindex.html#Manuel Hermenegildo">Manuel Hermenegildo</a>, <a class="idx_anchor" id="Manuel C. Rodriguez" href="ciaoauindex.html#Manuel C. Rodriguez">Manuel C. Rodriguez</a>, <a class="idx_anchor" id="Daniel Cabeza" href="ciaoauindex.html#Daniel Cabeza">Daniel Cabeza</a>.<p>
<p>The Ciao <a class="idx_anchor" id="0" href="ciaoglindex.html#emacs interface">emacs interface</a> (or <em>mode</em> <a class="idx_anchor" id="1" href="ciaocoindex.html#emacs mode"></a> in <a class="idx_anchor" id="2" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> terms) provides a rich, integrated user interface to the Ciao <a class="idx_anchor" id="3" href="ciaocoindex.html#program development environment"><em>program development environment</em></a> components, including the <a class="idx_anchor" id="4" href="ciaoglindex.html#ciaosh"><tt>ciaosh</tt></a> interactive top level and the <a class="idx_anchor" id="5" href="ciaoglindex.html#ciaopp"><tt>ciaopp</tt></a> preprocessor. While most features of the Ciao development environment are available from the command line of the preprocessor and the top-level shell, using Ciao inside <a class="idx_anchor" id="6" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> is highly recommended. The facilities that this mode provides include:<p><ul> <p><LI><a class="idx_anchor" id="7" href="ciaocoindex.html#Syntax-based highlighting"><em>Syntax-based highlighting</em></a> (coloring), <a class="idx_anchor" id="8" href="ciaocoindex.html#coloring, syntax"></a> <a class="idx_anchor" id="9" href="ciaocoindex.html#auto-indentation"><em>auto-indentation</em></a>, <a class="idx_anchor" id="10" href="ciaocoindex.html#auto-fill"><em>auto-fill</em></a>, etc. of code. This includes the assertions used by the preprocessor and the documentation strings used by the Ciao auto-documenter, <a class="idx_anchor" id="11" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a>.<p><LI>Providing automatic access to <a class="idx_anchor" id="12" href="ciaoglindex.html#on-line help">on-line help</a> for all predicates by accessing the Ciao system manuals in <a class="idx_anchor" id="13" href="ciaoglindex.html#info"><tt>info</tt></a> format.<p><LI>Starting and communicating with <a class="idx_anchor" id="14" href="ciaoglindex.html#ciaopp"><tt>ciaopp</tt></a>, the <a class="idx_anchor" id="15" href="ciaocoindex.html#Ciao preprocessor"><em>Ciao preprocessor</em></a>, running in its own <a class="idx_anchor" id="16" href="ciaoglindex.html#sub-shell">sub-shell</a>. This allows easily performing certain kinds of <a class="idx_anchor" id="17" href="ciaocoindex.html#static checks"><em>static checks</em></a> (useful for finding errors in programs before running them), program analysis tasks, and <a class="idx_anchor" id="18" href="ciaocoindex.html#program transformations"><em>program transformations</em></a> on source programs.<p><LI>Starting and communicating with the <a class="idx_anchor" id="19" href="ciaocoindex.html#Ciao top-level"><em>Ciao top-level</em></a>, running in its own <a class="idx_anchor" id="20" href="ciaoglindex.html#sub-shell">sub-shell</a>. This facilitates loading programs, checking the <em>syntax</em> of programs (and of <a class="idx_anchor" id="21" href="ciaocoindex.html#assertions"><em>assertions</em></a> within programs), marking and unmarking modules for interactive debugging, <a class="idx_anchor" id="22" href="ciaocoindex.html#tracing the source code"><em>tracing the source code</em></a> <a class="idx_anchor" id="23" href="ciaocoindex.html#source-level debugging"></a> <a class="idx_anchor" id="24" href="ciaocoindex.html#debugging, source-level"></a> during debugging, making stand-alone executables, compiling modules to dynamically linkable Ciao objects, compiling modules to active objects, etc.<p><LI>Syntax highlighting and coloring of the error and warning messages produced by the top level, preprocessor, or any other tool using the same message format (such as the <a class="idx_anchor" id="25" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> auto-documenter), and <em>locating automatically the points in the source files where such errors occur</em>.<p><LI>Performing automatic <a class="idx_anchor" id="26" href="ciaocoindex.html#version control"><em>version control</em></a> and keeping a <a class="idx_anchor" id="27" href="ciaocoindex.html#changelog"><em>changelog</em></a> of individual files or whole applications. This is done by automatically including changelog entries in source files, which can then be processed by the <a class="idx_anchor" id="28" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> auto-documenter.<p></ul> <p>This chapter explains how to use the Ciao <a class="idx_anchor" id="29" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interface and how to set up your <a class="idx_anchor" id="30" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> environment for correct operation. The Ciao <a class="idx_anchor" id="31" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interface can also be used to work with traditional Prolog or CLP systems.<p><div id="Conventions for writing Ciao programs under Emacs"><h2>Conventions for writing Ciao programs under Emacs</h2> <a class="idx_anchor" id="32" href="ciaocoindex.html#formatting conventions, for emacs"></a> <p>This is particularly important for the <a class="idx_anchor" id="33" href="ciaoglindex.html#source-level debugger">source-level debugger</a> and the <a class="idx_anchor" id="34" href="ciaoglindex.html#syntax-based coloring">syntax-based coloring</a> capabilities. This is due to the fact that it would be unrealistic to write a complete Ciao parser in Emacs lisp. These conventions are the following, in order of importance:<p><ul> <p><LI>Clauses should begin on the first column (this is used to recognize the beginning of a clause).<p><LI>C style comments should not be used in a clause, but can be used outside any clause.<p></ul> <p> The following suggestion is not strictly necessary but can improve operation:<p><ul> <p><LI>Body literals should be indented. There should be not more than one literal per line. This allows more precision in the location of program points during source-level debugging, i.e., when marking breakpoints and during line tracing.<p></ul> <p>Comments which start with <tt>%</tt>s are indented to the right if indentation is asked for.<p>For syntax-based highlighting to be performed font-lock must be available and not disabled (the Ciao mode enables it but it may be disabled elsewhere in, e.g., the <a class="idx_anchor" id="35" href="ciaoglindex.html#.emacs"><tt>.emacs</tt></a> file).<p></div><div id="Checking the installation"><h2>Checking the installation</h2> <p>Typically, a complete pre-installation of the Ciao <a class="idx_anchor" id="36" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interface is completed during Ciao installation. To check that installation was done and sucessful, open a file with a <tt>.pl</tt> ending. You should see that <a class="idx_anchor" id="37" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> enters Ciao mode: the mode is identified in the <a class="idx_anchor" id="38" href="ciaoglindex.html#status bar">status bar</a> below the <a class="idx_anchor" id="39" href="ciaoglindex.html#buffer">buffer</a> and, if the <a class="idx_anchor" id="40" href="ciaoglindex.html#emacs menu bar">emacs menu bar</a> is enabled, you should see the Ciao menus. You should be able from the menu-bar, for example, to go to the Ciao manuals in the info or load the <tt>.pl</tt> file that you just opened into a Ciao top level.<p>If things don&apos;t work properly, see the section <a href="#Installation of the Ciao emacs interface">Installation of the Ciao emacs interface</a> later in this chapter.<p></div><div id="Functionality and associated key sequences (bindings)"><h2>Functionality and associated key sequences (bindings)</h2> <p>The following sections summarize the capabilities of the Ciao emacs interface and the (default) <a class="idx_anchor" id="41" href="ciaocoindex.html#key sequences"><em>key sequences</em></a> used to access those capabilities. Most of these functions are accessible also from the menu bar.<p></div><div id="Syntax coloring and syntax-based editing"><h2>Syntax coloring and syntax-based editing</h2> <p>Syntax-based highlighting (coloring) of code is provided automatically when opening Ciao files. This includes also the assertions used by the preprocessor and the documentation strings used by the Ciao auto-documenter, <a class="idx_anchor" id="42" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a>. The mode should be set to Ciao and the Ciao mode menus should appear on the menu bar. The colors and fonts used can be changed through the <a class="idx_anchor" id="43" href="ciaocoindex.html#customize"><em>customize</em></a> options in the help menu (see <a href="#Customization">Customization</a>).<p>During editing this coloring may be refreshed by calling the appropriate function (see below).<p>Limited syntax-based auto-indentation and auto-fill of code and comments is also provided. Syntax highlighting and coloring is also available for the error and warning messages produced by the top level, preprocessor, and auto-documenter, and, in general, for the output produced by these tools.<p>Commands:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">h</span> <dd> Undate (recompute) syntax-based highlighting (coloring). </dl> <p> <dl> <p><DT><span class="emacskey">TAB</span> <dd> Indent current line as Ciao code. With argument, indent any additional lines of the same clause rigidly along with this one. </dl> <p> </div><div id="Getting on-line help"><h2>Getting on-line help</h2> <p>The following commands are useful for getting on-line help. This is done by accessing the <a class="idx_anchor" id="44" href="ciaoglindex.html#info"><tt>info</tt></a> version of the Ciao manuals or the <a class="idx_anchor" id="45" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> built-in help strings. Note also that the <a class="idx_anchor" id="46" href="ciaoglindex.html#info"><tt>info</tt></a> standard <tt>search</tt> command (generally bound to <span class="emacskey">s</span>) can be used inside <a class="idx_anchor" id="47" href="ciaoglindex.html#info"><tt>info</tt></a> buffers to search for a given string.<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">TAB</span> <dd> Find help for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Opens a (hopefully) relevant part of the Ciao manuals in <a class="idx_anchor" id="48" href="ciaoglindex.html#info"><tt>info</tt></a> mode. Requires that the Ciao manuals in <a class="idx_anchor" id="49" href="ciaoglindex.html#info"><tt>info</tt></a> format be installed and accessible to <a class="idx_anchor" id="50" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> (i.e., they should appear somewhere in the info directory when typing <tt>M-x info</tt>). It also requires <a class="idx_anchor" id="51" href="ciaoglindex.html#word-help.el"><tt>word-help.el</tt></a>, which is provided with Ciao. Refer to the installation instructions if this is not the case. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">/</span> <dd> Find a completion for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Uses for completion the contents of the indices of the Ciao manuals. Same requirements as for finding help for the symbol. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">RET</span> <dd> Go to the part of the info directory containing the Ciao manuals. </dl> <p> <dl> <p><DT><span class="emacskey">C-h</span> <span class="emacskey">m</span> <dd> Show a short description of the Ciao emacs mode, including all key bindings. </dl> <p> </div><div id="Loading and compiling programs"><h2>Loading and compiling programs</h2> <p>These commands allow <a class="idx_anchor" id="52" href="ciaocoindex.html#loading programs"><em>loading programs</em></a>, <a class="idx_anchor" id="53" href="ciaocoindex.html#creating executables"><em>creating executables</em></a>, etc. by issuing the appropriate commands to a Ciao top level shell, running in its own buffer as a subprocess. See <a href="toplevel_doc.html">The interactive top-level shell</a> for details. The following commands implement the communication with the Ciao top level:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">t</span> <dd> Ensure that an inferior Ciao top-level process is running.<p>This opens a top-level window (if one did not exist already) where queries can be input directly. Programs can be loaded into this top level by typing the corresponding commands in this window (such as use_module, etc.), or, more typically, by opening the file to be loaded in an emacs window (where it can be edited) and issuing a load command (such as C-c l or C-c L) directly from there (see the loading commands of this mode and their bindings).<p>Note that many useful commands (e.g., to repeat and edit previous commands, interrupt jobs, locate errors, automatic completions, etc.) are available in this top-level window (see <a href="#Commands available in toplevel and preprocessor buffers">Commands available in toplevel and preprocessor buffers</a>).<p>Often, it is not necessary to use this function since execution of any of the other functions related to the top level (e.g., loading buffers into the top level) ensures that a top level is started (starting one if required). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">l</span> <dd> Load the current buffer (and any auxiliary files it may use) into the top level.<p>The type of compilation performed (<a class="idx_anchor" id="54" href="ciaocoindex.html#compiling"><em>compiling</em></a> or <a class="idx_anchor" id="55" href="ciaocoindex.html#interpreting"><em>interpreting</em></a>) is selected automatically depending on whether the buffer has been marked for debugging or not -- see below. In case you try to load a file while in the middle of the debugging process the debugger is first aborted and then the buffer is loaded. Also, if there is a defined query, the user is asked whether it should be called. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">f</span> <dd> Load CiaoPP and then the current buffer (and any auxiliary files it may use) into the top level. Use CiaoPP auto_check_assrt predicate to check current buffer assertions and then load the buffer if there was no error. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">x</span> <dd> Make an executable from the code in the current buffer. The buffer must contain a <a class="idx_anchor" id="56" href="ciaoglindex.html#main/0"><tt>main/0</tt></a> or <a class="idx_anchor" id="57" href="ciaoglindex.html#main/1"><tt>main/1</tt></a> predicate. Note that compiler options can be set to determine whether the libraries and auxiliary files used by the executable will be statically linked, dynamically linked, auto-loaded, etc. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">o</span> <dd> Make a Ciao object (.po) file from the code in the current buffer. This is useful for example while debugging during development of a very large application which is compiled into an excutable, and only one or a few files are modified. If the application executable is dynamically linked, i.e., the component .po files are loaded dynamically during startup of the application, then this command can be used to recompile only the file or files which have changed, and the correct version will be loaded dynamically the next time the application is started. However, note that this must be done with care since it only works if the inter-module interfaces have not changed. The recommended, much safer way is to generate the executable again, letting the Ciao compiler, which is inherently incremental, determine what needs to be recompiled. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">a</span> <dd> Make an active module executable from the code in the current buffer. An active module is a remote procedure call server (see the <a class="idx_anchor" id="58" href="ciaoglindex.html#activemod"><tt>activemod</tt></a> library documentation for details). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">s</span> <dd> Set the current buffer as the principal file in a multiple module programming environment. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">L</span> <dd> Load the module designated as <a class="idx_anchor" id="59" href="ciaocoindex.html#main module"><em>main module</em></a> (and all related files that it uses) into the top level. If no main module is defined it will load the current buffer.<p>The type of compilation performed (<a class="idx_anchor" id="60" href="ciaocoindex.html#compiling"><em>compiling</em></a> or <a class="idx_anchor" id="61" href="ciaocoindex.html#interpreting"><em>interpreting</em></a>) is selected automatically depending on whether the buffer has been marked for debugging or not -- see below. In case you try to load a file while in the middle of the debugging process the debugger is first aborted and then the buffer is loaded. Also, if there is a defined query, the user is asked whether is should be called. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">q</span> <dd> Set a default query. This may be useful specially during debugging sessions. However, as mentioned elsewhere, note that commands that repeat previous queries are also available.<p>This query can be recalled at any time using C-c Q. It is also possible to set things up so that this query will be issued automatically any time a program is (re)loaded. The functionality is available in the major mode (i.e., from a buffer containing a source file) and in the inferior mode (i.e., from the buffer running the top-level shell). When called from the major mode (i.e., from window containing a source file) then the user is prompted in the minibuffer for the query. When called from the inferior mode (i.e., from a top-level window) then the query on the current line, following the Ciao prompt, is taken as the default query.<p>To clear the default query use M-x ciao-clear-query or simply set it to an empty query: i.e., in a source buffer select C-c q and enter an empty query. In an inferior mode simply select C-c q on a line that contains only the system prompt. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">Q</span> <dd> Issue predefined query. </dl> <p> </div><div id="Commands available in toplevel and preprocessor buffers"><h2>Commands available in toplevel and preprocessor buffers</h2> <p>The interactive top level and the preprocessor both are typically run in an iteractive buffer, in which it is possible to communicate with them in the same way as if they had been started from a standard shell. These interactive buffers run in the so-called <em>Ciao inferior mode</em>. This is a particular version of the standard emacs shell package (comint) and thus all the commands typically available when running shells inside emacs also work in these buffers. In addition, many of the commands and key bindings available in buffers containing Ciao source code are also available in these interactive buffers, when applicable. The Ciao-specific commands available include:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">TAB</span> <dd> Find help for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Opens a (hopefully) relevant part of the Ciao manuals in <a class="idx_anchor" id="62" href="ciaoglindex.html#info"><tt>info</tt></a> mode. Requires that the Ciao manuals in <a class="idx_anchor" id="63" href="ciaoglindex.html#info"><tt>info</tt></a> format be installed and accessible to <a class="idx_anchor" id="64" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> (i.e., they should appear somewhere in the info directory when typing <tt>M-x info</tt>). It also requires <a class="idx_anchor" id="65" href="ciaoglindex.html#word-help.el"><tt>word-help.el</tt></a>, which is provided with Ciao. Refer to the installation instructions if this is not the case. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">/</span> <dd> Find a completion for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Uses for completion the contents of the indices of the Ciao manuals. Same requirements as for finding help for the symbol. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">`</span> <dd> Go to the location in the source file containing the next error reported by the last Ciao subprocess (preprocessor or toplevel) which was run. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">e</span> <dd> Remove error marks from last run (and also debugging marks if present). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">q</span> <dd> Set a default query. This may be useful specially during debugging sessions. However, as mentioned elsewhere, note that commands that repeat previous queries are also available.<p>This query can be recalled at any time using C-c Q. It is also possible to set things up so that this query will be issued automatically any time a program is (re)loaded. The functionality is available in the major mode (i.e., from a buffer containing a source file) and in the inferior mode (i.e., from the buffer running the top-level shell). When called from the major mode (i.e., from window containing a source file) then the user is prompted in the minibuffer for the query. When called from the inferior mode (i.e., from a top-level window) then the query on the current line, following the Ciao prompt, is taken as the default query.<p>To clear the default query use M-x ciao-clear-query or simply set it to an empty query: i.e., in a source buffer select C-c q and enter an empty query. In an inferior mode simply select C-c q on a line that contains only the system prompt. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">Q</span> <dd> Issue predefined query. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-v</span> <dd> Show last output file produced by Ciao preprocessor. The preprocessor works by producing a file which is a transformed and/or adorned (with assertions) version of the input file. This command is often used after running the preprocessor in order to visit the output file and see the results from running the preprocessor. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">v</span> <dd> Report the version of the emacs Ciao mode. </dl> <p> <p> The following are some of the commands from the comint shell package which may be specially useful (type <tt>&lt;f1&gt; m</tt> while in a Ciao interactive buffer for a complete list of commands):<p><dl> <p><DT><span class="emacskey">M-p</span> <dd> Cycle backwards through input history, saving input.<p>(fn ARG) </dl> <p> <dl> <p><DT><span class="emacskey">M-n</span> <dd> Cycle forwards through input history.<p>(fn ARG) </dl> <p> <dl> <p><DT><span class="emacskey">M-x</span> <tt> comint-previous-matching-input</tt><dd> Search backwards through input history for match for REGEXP. (Previous history elements are earlier commands.) With prefix argument N, search for Nth previous match. If N is negative, find the next or Nth next match.<p>(fn REGEXP N) </dl> <p> <dl> <p><DT><span class="emacskey">TAB</span> <dd> Dynamically find completion of the item at point. Note that this completion command refers generally to filenames (rather than, e.g., predicate names, as in the previous functions). </dl> <p> <dl> <p><DT><span class="emacskey">M-?</span> <dd> List all (filename) completions of the item at point. </dl> <p> <dl> <p><DT><span class="emacskey">RET</span> <dd> Return at any point of the a line at the end of a buffer sends that line as input. Return not at end copies the rest of the current line to the end of the buffer and sends it as input. </dl> <p> <dl> <p><DT><span class="emacskey">^D</span> <dd> Delete ARG characters forward or send an EOF to subprocess. Sends an EOF only if point is at the end of the buffer and there is no input.<p>(fn ARG) </dl> <p> <dl> <p><DT><span class="emacskey">^C</span> <span class="emacskey">^U</span> <dd> Kill all text from last stuff output by interpreter to point.<p>(fn) </dl> <p> <dl> <p><DT><span class="emacskey">^C</span> <span class="emacskey">^W</span> <dd> Kill characters backward until encountering the beginning of a word. With argument ARG, do this that many times. </dl> <p> <dl> <p><DT><span class="emacskey">^C</span> <span class="emacskey">^C</span> <dd> Interrupt the current subjob. This command also kills the pending input between the process mark and point.<p>(fn) </dl> <p> <dl> <p><DT><span class="emacskey">^C</span> <span class="emacskey">^Z</span> <dd> Stop the current subjob. This command also kills the pending input between the process mark and point.<p>WARNING: if there is no current subjob, you can end up suspending the top-level process running in the buffer. If you accidentally do this, use M-x comint-continue-subjob to resume the process. (This is not a problem with most shells, since they ignore this signal.)<p>(fn) </dl> <p> <dl> <p><DT><span class="emacskey">^C</span> <span class="emacskey">^\</span> <dd> Send quit signal to the current subjob. This command also kills the pending input between the process mark and point.<p>(fn) </dl> <p> </div><div id="Locating errors and checking the syntax of assertions"><h2>Locating errors and checking the syntax of assertions</h2> <p>These commands allow locating quickly the point in the source code corresponding to errors flagged by the compiler or preprocessor as well as performing several syntactic checks of assertions: <a class="idx_anchor" id="66" href="ciaocoindex.html#locating errors"></a> <p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">`</span> <dd> Go to the location in the source file containing the next error reported by the last Ciao subprocess (preprocessor or toplevel) which was run. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">e</span> <dd> Remove error marks from last run (and also debugging marks if present). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">E</span> <dd> Check the <em>syntax</em> of the code and assertions in the current buffer, as well as imports and exports. This uses the standard top level (i.e., does not call the preprocessor and thus does not require the preprocessor to be installed). Note that full (semantic) assertion checking must be done with the preprocessor. </dl> <p> </div><div id="Commands which help typing in programs"><h2>Commands which help typing in programs</h2> <p>The following commands are intended to help in the process of writing programs: <a class="idx_anchor" id="67" href="ciaocoindex.html#script header, inserting automatically"></a> <p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">I</span> <span class="emacskey">S</span> <dd> Insert a (Unix) header at the top of the current buffer so that the Ciao script interpreter will be called on this file if <em>run</em> from the command line. It also makes the file &ldquo;executable&rdquo; (e.g., &apos;<tt>chmod +x &lt;file&gt;</tt>&apos; in Unix). See <a href="ciao-shell.html">The script interpreter</a> for details. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">i</span> <dd> Indent a Ciao or Prolog file. </dl> <p> </div><div id="Debugging programs"><h2>Debugging programs</h2> <p>These commands allow marking modules for <a class="idx_anchor" id="68" href="ciaocoindex.html#debugging"><em>debugging</em></a> by issuing the appropiate commands to a Ciao top level shell, running in its own buffer as a subprocess. There are two differents types of debugging: traditional debugging (using the <a class="idx_anchor" id="69" href="ciaoglindex.html#byrd-box model">byrd-box model</a> and <a class="idx_anchor" id="70" href="ciaoglindex.html#spy-points">spy-points</a>) and <a class="idx_anchor" id="71" href="ciaocoindex.html#source-level debugging"><em>source-level debugging</em></a> (same as traditional debugging plus source tracing and <a class="idx_anchor" id="72" href="ciaoglindex.html#breakpoints">breakpoints</a>). <a class="idx_anchor" id="73" href="ciaocoindex.html#debugging, source-level"></a> In order to use <a class="idx_anchor" id="74" href="ciaocoindex.html#breakpoints"><em>breakpoints</em></a>, source debugging must be on. The following commands implement comunication with the Ciao top level:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">d</span> <dd> Debug (or stop debugging) buffer source. This is a shortcut which is particularly useful when using the source debugger on a single module. It corresponds to several lower-level actions. Those lower-level actions depend on how the module was selected for debugging. In case the module was not marked for source-level debugging, it marks the module corresponding to the current buffer for source-level debugging, reloads it to make sure that it is loaded in the correct way for debugging (same as C-c l), and sets the debugger in trace mode (i.e., issues the <tt>trace.</tt> command to the top-level shell). Conversely, if the module was already marked for source-level debugging then it will take the opposite actions, i.e., it unmarks the module for source-level debugging, reloads it, and sets the debugger to non-debug mode. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">m</span> <dd> Mark, or unmark, the current buffer for debugging (traditional debugging or source debugging). Note that if the buffer has already been loaded while it was unmarked for debugging (and has therefore been loaded in &ldquo;compile&rdquo; mode) it has to be loaded again. The minibuffer shows how the module is loaded now and allows selecting another mode for it. There are three posibilities: N for no debug, S for source debug and D for traditional debug. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">M-m</span> <dd> Visits all Ciao files which are currently open in a buffer allowing selecting for each of them whether to debug them or not and the type of debugging performed. When working on a multiple module program, it is possible to have many modules open at a time. In this case, you will navigate through all open Ciao files and select the debug mode for each of them (same as doing C-c m for each). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">b</span> <dd> Set a breakpoint on the current literal (goal). This can be done at any time (while debugging or not). The cursor must be <em>on the predicate symbol of the literal</em>. Breakpoints are only useful when using source-level debugging. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">v</span> <dd> Remove a breakpoint from the current literal (goal). This can be done at any time (while debugging or not). The cursor must be <em>on the predicate symbol of the literal</em>. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">n</span> <dd> Remove all breakpoints. This can be done at any time (while debugging or not). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">l</span> <dd> Redisplay breakpoints in all Ciao buffers. This ensures that the marks in the source files and the Ciao toplevel are synchronized. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">r</span> <dd> Remove breakpoint coloring in all Ciao files. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">t</span> <dd> Set the debugger to the trace state. In this state, the program is executed step by step. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">d</span> <dd> Set the debugger to the debug state. In this state, the program will only stop in breakpoints and spypoints. Breakpoints are specially supported in <a class="idx_anchor" id="75" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> and using source debug. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">r</span> <dd> Load the current region (between the cursor and a previous mark) into the top level. Since loading a region of a file is typically done for debugging and/or testing purposes, this command always loads the region in debugging mode (interpreted). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">p</span> <dd> Load the predicate around the cursor into the top level. Since loading a single predicate is typically done for debugging and/or testing purposes, this command always loads the predicate in debugging mode (interpreted). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">u</span> <dd> Run the test over the current buffer.<p>The test should be specified using a test assertion in the module. </dl> <p> </div><div id="Preprocessing programs"><h2>Preprocessing programs</h2> <p>These commands allow <a class="idx_anchor" id="76" href="ciaocoindex.html#preprocessing programs"><em>preprocessing programs</em></a> with <a class="idx_anchor" id="77" href="ciaoglindex.html#ciaopp"><tt>ciaopp</tt></a>, the <a class="idx_anchor" id="78" href="ciaocoindex.html#Ciao preprocessor"><em>Ciao preprocessor</em></a>.<p><p>See the preprocessor manual for details. The following commands implement the communication with the Ciao preprocessor:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">A</span> <dd> Call the preprocessor to perform a number of pre-selected analyses on the current buffer (and related modules). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">T</span> <dd> Call the preprocessor to perform compile-time checking of the assertions (types, modes, determinacy, nonfailure, cost, ...) in the current buffer (and against those in related modules). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">O</span> <dd> Uses the preprocessor to perform optimizations (partial evaluation, abstract specialization, parallelization, ...) on the current buffer (and related modules). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">M</span> <dd> Browse and select (using the preprocessor menus) the actions to be performed by the preprocessor when performing analisys used by M-x ciao- C-c A, C-c T, C-c O, and the corresponding toolbar buttons. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-v</span> <dd> Show last output file produced by Ciao preprocessor. The preprocessor works by producing a file which is a transformed and/or adorned (with assertions) version of the input file. This command is often used after running the preprocessor in order to visit the output file and see the results from running the preprocessor. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-r</span> <dd> Ensure that an inferior Ciao preprocessor process is running.<p>This opens a preprocessor top-level window (if one did not exist already) where preprocessing commands and preprocessing menu options can be input directly. Programs can be preprocessed by typing commands in this window, or, more typically, by opening the file to be preprocessed in an emacs window (where it can be edited) and issuing a command (such as C-c A, C-c T, C-c O, or C-c M) directly from there (see the preprocessing commands of this mode and their bindings).<p>Note that many useful commands (e.g., to repeat and edit previous commands, interrupt jobs, locate errors, automatic completions, etc.) are available in this top-level window (see <a href="#Commands available in toplevel and preprocessor buffers">Commands available in toplevel and preprocessor buffers</a>).<p>Often, it is not necessary to use this function since execution of any of the other functions related to the top level (e.g., loading buffers into the top level) ensures that a top level is started (starting one if required). </dl> <p> </div><div id="Version control"><h2>Version control</h2> <p>The following commands can be used to carry out a simple but effective form of <a class="idx_anchor" id="79" href="ciaoglindex.html#version control">version control</a> by keeping a <a class="idx_anchor" id="80" href="ciaoglindex.html#log of changes">log of changes</a> on a file or a group of related files. Interestingly, this log is kept in a format that is understood by <a class="idx_anchor" id="81" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a>, the Ciao documenter [<a href="ciaorefs.html#lpdoc-tr">Her99</a>]. As a result, if these version comments are present, then <a class="idx_anchor" id="82" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> will be able to automatically assign up to date version numbers to the manuals that it generates. This way it is always possible to identify to which version of the software a manual corresponds. Also, <a class="idx_anchor" id="83" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> can create automatically sections describing the changes made since previous versions, which are extracted from the comments in the changelog entries.<p>The main effect of these commands is to automatically associate the following information to a set of changes performed in the file and/or in a set of related files:<p><ul> <p><LI>a <a class="idx_anchor" id="84" href="ciaocoindex.html#version number"><em>version number</em></a> (such as, e.g., <tt>1.2</tt>, where <tt>1</tt> is the <a class="idx_anchor" id="85" href="ciaoglindex.html#major version number">major version number</a> and <tt>2</tt> is the <a class="idx_anchor" id="86" href="ciaoglindex.html#minor version number">minor version number</a>),<p><LI>a <a class="idx_anchor" id="87" href="ciaoglindex.html#patch number">patch number</a> (such as, e.g., the <tt>4</tt> in <tt>1.2#4</tt>),<p><LI>a <a class="idx_anchor" id="88" href="ciaoglindex.html#time stamp">time stamp</a> (such as, e.g., <tt>1998/12/14,17:20*28+MET</tt>),<p><LI>the author of the change, <a class="idx_anchor" id="89" href="ciaocoindex.html#change, author"></a> and<p><LI>a comment explaining the change. <a class="idx_anchor" id="90" href="ciaocoindex.html#change, comment"></a> </ul> <p>The <a class="idx_anchor" id="91" href="ciaoglindex.html#version numbering">version numbering</a> used can be local to a single file or common to a number of related files. A simple version numbering policy is implemented: when a relevant change is made, the user typically inserts a <a class="idx_anchor" id="92" href="ciaoglindex.html#changelog entry">changelog entry</a> for it, using the appropriate command (or selecting the corresponding option when prompted while saving a file). This will cause the <em>patch number</em> for the file (or for the whole system that the file is part of) to be incremented automatically and the corresponding machine-readable comment to be inserted in the file. Major and minor version numbers can also be changed, but this is always invoked by hand (see below).<p>The changelog entry is written in the form of a <a class="idx_anchor" id="93" href="ciaoglindex.html#comment/2"><tt>comment/2</tt></a> declaration. As mentioned before, the advantage of using this kind of changelog entries is that these declarations can be processed by the <a class="idx_anchor" id="94" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> automatic documenter (see the <a class="idx_anchor" id="95" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> reference manual [<a href="ciaorefs.html#lpdoc-tr">Her99</a>] or the <a class="idx_anchor" id="96" href="ciaoglindex.html#assertions"><tt>assertions</tt></a> library documentation for more details on these declarations).<p>Whether the user is asked or not to introduce such changelog entries, and how the patch and version numbers should be increased is controlled by the presence in the file of a <a class="idx_anchor" id="97" href="ciaoglindex.html#comment/2"><tt>comment/2</tt></a> declaration of the type:<p><tt>:- doc(version_maintenance,&lt;type&gt;).</tt> <p>(note that this requires including the <a class="idx_anchor" id="98" href="ciaoglindex.html#assertions"><tt>assertions</tt></a> library in the source file). These declarations themselves are also typically introduced automatically when using this mode (see below).<p>The version maintenance mode can also be set alternatively by inserting a comment such as:<p><pre>%% Local Variables: 
%% mode: ciao
%% update-version-comments: &quot;off&quot;
%% End:
</pre> <p>The lines above instruct emacs to put the buffer visiting the file in <a class="idx_anchor" id="99" href="ciaoglindex.html#emacs Ciao mode">emacs Ciao mode</a> and to turn version maintenance off. Setting the version maintenance mode in this way has the disadvantage that <a class="idx_anchor" id="100" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a>, the auto-documenter, and other related tools will not be aware of the type of version maintenance being performed (the lines above are comments for Ciao). However, this can be useful in fact for setting the <a class="idx_anchor" id="101" href="ciaocoindex.html#version maintenance mode for packages"><em>version maintenance mode for packages</em></a> and other files meant for inclusion in other files, since that way the settings will not affect the file in which the package is included.<p>The following commands implement the version control support:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-a</span> <dd> Used to turn on or off version control for the file being visited in the current buffer. The user will be prompted to choose among the following options:<p><dl> <p><DT><span class="emacskey">y</span><dd> Turn version control on for this file.<p><DT><span class="emacskey">n</span><dd> Turn version control off for this file. A version control comment such as:<p><tt>:- doc(version_maintenance,off).</tt> <p>will be added to the buffer and the file saved. No version control will be performed on this file until the line above is removed or modified (i.e., from now on C-x C-s simply saves the buffer).<p><DT><span class="emacskey">q</span><dd> Turn off prompting for the introduction of changelog entries for now. <a class="idx_anchor" id="102" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> will not ask again while the buffer is loaded, but it may ask again when saving after the next time you load the buffer (if <tt>ciao-ask-for-version-maintenance-type</tt> is set to <tt>yes</tt>).<p></dl> <p>If <span class="emacskey">y</span> is selected, then the system prompts again regarding how and where the version and patch number information is to be maintained. The following options are available:<p><dl> <p><DT><tt>on</tt><dd> All version control information will be contained within this file. When saving a buffer (C-x C-s) emacs will ask if a changelog entry should be added to the file before saving. If a comment is entered by the user, a new patch number is assigned to it and the comment is added to the file. This patch number will be the one that follows the most recent changelog entry already in the file. This is obviously useful when maintaining version numbers individually for each file.<p><DT><tt>&lt;directory_name&gt;</tt><dd> Global version control will be performed coherently on several files. When saving a buffer (C-x C-s) emacs will ask if a changelog entry should be added to the file before saving. If a comment is given, the global patch number (which will be kept in the file: <tt>&lt;directory_name&gt;/GlobalPatch</tt>) is atomically incremented and the changelog entry is added to the current file, associated to that patch number. Also, a small entry is added to a file <tt>&lt;directory_name&gt;/GlobalChangeLog</tt> which points to the current file. This allows inspecting all changes sequentially by visiting all the files where the changes were made (see C-c C-n). This is obviously useful when maintaining a single thread of version and patch numbers for a set of files.<p><DT><tt>off</tt><dd> Turns off version control: C-x C-s then simply saves the file as usual.<p></dl> <p><strong>Some useful tips:</strong> <p><ul> <p><LI>If a changelog entry is in fact introduced, the cursor is left at the point in the file where the comment was inserted and the mark is left at the original file point. This allows inspecting (and possibly modifying) the changelog entry, and then returning to the original point in the file by simply typing C-x C-x.<p><LI><a class="idx_anchor" id="103" href="ciaocoindex.html#moving changelog entries"></a> The first changelog entry is entered by default at the end of the buffer. Later, the changelog entries can be moved anywhere else in the file. New changelog entries are always inserted just above the first changelog entry which appears in the file.<p><LI>The comments in changelog entries can be edited at any time.<p><LI>If a changelog entry is moved to another file, and version numbers are shared by several files through a directory, the corresponding file pointer in the <tt>&lt;directory_name&gt;/GlobalChangeLog</tt> file needs to be changed also, for the entry to be locatable later using C-c C-n.<p></ul> <p> </dl> <p> <dl> <p><DT><span class="emacskey">C-x</span> <span class="emacskey">C-s</span> <dd> This is the standard <a class="idx_anchor" id="104" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> command that saves a buffer by writing the contents into the associated <tt>.pl</tt> file. However, in the Ciao mode, if version control is set to on for ths file, then this command will ask the user before saving whether to introduce a changelog entry documenting the changes performed.<p>In addition, if:<p><ul> <p><LI>the buffer does not already contain a comment specifying the <a class="idx_anchor" id="105" href="ciaoglindex.html#type of version control">type of version control</a> to be performed,<p><LI>and the customizable variable <tt>ciao-ask-for-version-maintenance-type</tt> is set to <tt>yes</tt> (go to the Ciao options menu, LPdoc area to change this, which is by default set to <tt>no</tt>),<p></ul> <p>then, before saving a buffer, the user will be also automatically asked to choose which kind of version control is desired for the file, as in C-c C-a.<p> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-s</span> <dd> Same as C-x C-s except that it forces prompting for inclusion of a changelog entry even if the buffer is unmodified. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">n</span> <dd> Force a move to a new major/minor version number (the user will be prompted for the new numbers). Only applicable if using directory-based version maintenance. Note that otherwise it suffices with introducing a changelog entry in the file and changing its version number by hand. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-n</span> <dd> When a unique version numbering is being maintained across several files, this command allows inspecting all changes sequentially by visiting all the files in which the changes were made:<p><ul> <p><LI>If in a source file, find the next changelog entry in the source file, open in another window the corresponding <a class="idx_anchor" id="106" href="ciaoglindex.html#GlobalChangeLog"><tt>GlobalChangeLog</tt></a> file, and position the cursor at the corresponding entry. This allows browsing the previous and following changes made, which may perhaps reside in other files in the system.<p><LI>If in a <a class="idx_anchor" id="107" href="ciaoglindex.html#GlobalChangeLog"><tt>GlobalChangeLog</tt></a> file, look for the next entry in the file, and open in another window the source file in which the corresponding comment resides, positioning the corresponding comment at the top of the screen. This allows going through a section of the <a class="idx_anchor" id="108" href="ciaoglindex.html#GlobalChangeLog"><tt>GlobalChangeLog</tt></a> file checking all the corresponding comments in the different files in which they occur.<p></ul> <p> </dl> <p> </div><div id="Generating program documentation"><h2>Generating program documentation</h2> <p>These commands provide some bindings and facilities for generating and viewing the documentation corresponding to the current buffer. The documentation is generated in a temporary directory, which is created automatically. This is quite useful while modifying the documentation for a file, in order to check the output that will be produced, whithout having to set up a documentation directory by hand or to regenerate a large manual of which the file may be a part.<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">D</span> <span class="emacskey">B</span> <dd> Generate the documentation for the current buffer in the default format. This allows generating a simple document for the current buffer. Basically, it creates a simple, default <tt>SETTINGS.pl</tt> file, sets <tt>mainfile</tt> in <tt>SETTINGS.pl</tt> to the current buffer and then generates the documentation in a temporary directory. This is useful for seeing how the documentation of a file will format. Note that for generating manuals the best approach is to set up a permanent documentation directory with the appropriate <tt>SETTINGS.pl</tt> file (see the LPdoc manual). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">D</span> <span class="emacskey">F</span> <dd> Change the default output format used by the LPdoc auto-documenter. It is set by default to <tt>html</tt> or to the environment variable <tt>LPDOCFORMAT</tt> if it is defined. <a class="idx_anchor" id="109" href="ciaocoindex.html#lpdoc default format, setting"></a> <a class="idx_anchor" id="110" href="ciaocoindex.html#auto-documenter default format, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">D</span> <span class="emacskey">S</span> <dd> Visit, or create, the default <tt>SETTINGS.pl</tt> file (which controls all auto-documenter options). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">D</span> <span class="emacskey">G</span> <dd> Generate the documentation according to <tt>SETTINGS.pl</tt> in the default format. This allows generating complex documents but it assumes that <tt>SETTINGS.pl</tt> exists and that the options that it contains (main file, component files, paths, etc.) have been set properly. Documentation is generated in a temporary directory. Note however that for generating complex manuals the best approach is to set up a permanent documentation directory with the appropriate <tt>SETTINGS.pl</tt> and <tt>Makefile</tt> files (see the LPdoc manual). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">D</span> <span class="emacskey">V</span> <dd> Start a viewer on the documentation for the current buffer in the default format. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">D</span> <span class="emacskey">W</span> <dd> Change the root working dir used by the LPdoc auto-documenter. It is set by default to a new dir under <tt>/tmp</tt> or to the environment variable <tt>LPDOCWDIR</tt> if it is defined. <a class="idx_anchor" id="111" href="ciaocoindex.html#lpdoc working dir, setting"></a> <a class="idx_anchor" id="112" href="ciaocoindex.html#auto-documenter working dir, setting"></a> </dl> <p> </div><div id="Setting top level preprocessor and documenter executables"><h2>Setting top level preprocessor and documenter executables</h2> <p>These commands allow <a class="idx_anchor" id="113" href="ciaocoindex.html#changing the executables used"><em>changing the executables used</em></a> when starting the top-level, the preprocessor, or the auto-documenter. They also allow changing the arguments that these executables take, and changing the path where the libraries reside. In the case of the top-level and preprocessor, this should be done only by users which understand the implications, but it is very useful if several versions of Ciao or the preprocessor are available in the system. All these settings can be changed through the <a class="idx_anchor" id="114" href="ciaocoindex.html#customize"><em>customize</em></a> options in the help menu (see <a href="#Customization">Customization</a>).<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">A</span> <dd> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">C</span> <dd> Change the Ciao executable used to run the top level. It is set by default to <tt>ciao</tt> or, to the environment variable <tt>CIAO</tt> if it is defined. <a class="idx_anchor" id="115" href="ciaocoindex.html#toplevel command, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">C-c</span> <dd> Change the arguments passed to the Ciao executable. They are set by default to none or, to the environment variable <tt>CIAOARGS</tt> if it is defined. <a class="idx_anchor" id="116" href="ciaocoindex.html#toplevel command args, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">P</span> <dd> Change the executable used to run the Ciao Preprocessor toplevel. It is set by default to <tt>ciaopp</tt> or, to the environment variable <tt>CIAOPP</tt> if it is defined. <a class="idx_anchor" id="117" href="ciaocoindex.html#preprocessor command, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">C-p</span> <dd> Change the arguments passed to the Ciao preprocessor executable. They are set by default to none or to the environment variable <tt>CIAOPPARGS</tt> if it is defined. <a class="idx_anchor" id="118" href="ciaocoindex.html#preprocessor command args, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">L</span> <dd> Change the location of the Ciao library paths (changes the environment variable <tt>CIAOLIB</tt>). </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">D</span> <dd> Change the executable used to run the LPdoc auto-documenter. It is set by default to <tt>lpdoc</tt> or to the environment variable <tt>LPDOC</tt> if it is defined. <a class="idx_anchor" id="119" href="ciaocoindex.html#lpdoc command, setting"></a> <a class="idx_anchor" id="120" href="ciaocoindex.html#auto-documenter command, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">C-d</span> <dd> Change the arguments passed to the LPdoc auto-documenter. They are set by default to none or to the environment variable <tt>LPDOCARGS</tt> if it is defined. <a class="idx_anchor" id="121" href="ciaocoindex.html#lpdoc command args, setting"></a> <a class="idx_anchor" id="122" href="ciaocoindex.html#auto-documenter command args, setting"></a> </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">S</span> <span class="emacskey">C-l</span> <dd> Change the path in which the LPdoc library is installed. It is set by default to <tt>/home/clip/lib</tt> or to the environment variable <tt>LPDOCLIB</tt> if it is defined. <a class="idx_anchor" id="123" href="ciaocoindex.html#lpdoc lib path, setting"></a> <a class="idx_anchor" id="124" href="ciaocoindex.html#auto-documenter lib path, setting"></a> </dl> <p> </div><div id="Other commands"><h2>Other commands</h2> <p>Some other commands which are active in the Ciao mode:<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-l</span> <dd> Recenter the most recently used Ciao inferior process buffer (top level or preprocessor). </dl> <p> </div><div id="Traditional Prolog Mode Commands"><h2>Traditional Prolog Mode Commands</h2> <p>These commands provide some bindings and facilities for loading programs, which are present in emacs Prolog modes of traditional Prolog systems (e.g., SICStus). This is useful mainly if the Ciao emacs mode is used with such Prolog systems. Note that these commands (<a class="idx_anchor" id="125" href="ciaoglindex.html#compile/1"><tt>compile/1</tt></a> and <a class="idx_anchor" id="126" href="ciaoglindex.html#consult/1"><tt>consult/1</tt></a>) are deprecated in Ciao (due to the more advanced, separate compilation model in Ciao) and their use in the Ciao top-level is not recommended.<p><dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">K</span> <dd> Compile the entire buffer. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">k</span> <dd> Compile a given region. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-k</span> <dd> Compile the predicate around point. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C</span> <dd> Consult the entire buffer. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">c</span> <dd> Consult a given region. </dl> <p> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">C-c</span> <dd> Consult the predicate around point. </dl> <p> </div><div id="Coexistence with other Prolog-like interfaces"><h2>Coexistence with other Prolog-like interfaces</h2> <p>As mentioned previously, the Ciao <a class="idx_anchor" id="127" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interface can also be used to work with traditional Prolog or CLP systems. Also, the Ciao <a class="idx_anchor" id="128" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interface (<em>mode</em>) can coexist with other Prolog-related <a class="idx_anchor" id="129" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interfaces (<em>modes</em>) <a class="idx_anchor" id="130" href="ciaocoindex.html#emacs mode, loading several"></a> (such as, e.g., the <a class="idx_anchor" id="131" href="ciaoglindex.html#SICStus"><tt>SICStus</tt></a> Prolog interface). Only one of the interfaces can be active at a time for a given buffer (i.e., for each given file opened inside <a class="idx_anchor" id="132" href="ciaoglindex.html#emacs"><tt>emacs</tt></a>). In order the change a buffer to a given interface, move the cursor to that buffer and type <tt>M-x ...-mode</tt> (e.g., for the Ciao mode, <tt>M-x ciao-mode</tt>).<p>If several Prolog-related <a class="idx_anchor" id="133" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> interfaces are loaded, then typically the <em>last</em> one to be loaded takes precedence, in the sense that this will be the interface in which <a class="idx_anchor" id="134" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> will be set when opening files which have a <tt>.pl</tt> ending (this depends a bit on how things are set up in your <tt>.emacs</tt> file). </div><div id="Getting the Ciao mode version"><h2>Getting the Ciao mode version</h2> <p><a class="idx_anchor" id="135" href="ciaocoindex.html#Ciao mode version"></a> <dl> <p><DT><span class="emacskey">C-c</span> <span class="emacskey">v</span> <dd> Report the version of the emacs Ciao mode. </dl> <p> <p> </div><div id="Using Ciao mode capabilities in standard shells"><h2>Using Ciao mode capabilities in standard shells</h2> <p>The capabilities (commands, coloring, error location, ...) which are active in the Ciao <em>inferior</em> mode can also be made available in any standard command line shell which is being run within emacs. This can be enabled by going to the buffer in which the shell is running and typing &ldquo;<span class="emacskey">M-x</span> <tt>ciao-inferior-mode</tt>&rdquo;. This is very useful for example when running the stand-alone compiler, the <a class="idx_anchor" id="136" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a> auto-documenter, or even certain user applications (those that use the standard error message library) in an emacs sub-shell. Turning the Ciao inferior mode on on that sub-shell will highlight and color the error messages, and automatically find and visit the locations in the files in which the errors are reported.<p>Finally, one the most useful applications of this is when using the <a class="idx_anchor" id="137" href="ciaoglindex.html#embedded debugger">embedded debugger</a> (a version of the debugger which can be embedded into executables so that an interactive debugging session can be triggered at any time while running that executable without needing the top-level shell). If an application is run in a shell buffer which has been set with Ciao inferior mode (<span class="emacskey">M-x</span> <tt>ciao-inferior-mode</tt>) and this application starts emitting output from the embedded debugger (i.e., which contains the embedded debugger and is debugging its code) then the Ciao emacs mode will be able to follow these messages, for example tracking execution in the source level code. This also works if the application is written in a combination of languages, provided the parts written in Ciao are compiled with the embedded debugger package and is thus a covenient way of debugging multi-language applications. The only thing needed is to make sure that the output messages appear in a shell buffer that is in Ciao inferior mode.<p> <p></div><div id="Customization"><h2>Customization</h2> <p>This section explains all variables used in the Ciao emacs mode which can be customized by users. Such customization can be performed (in later versions of <a class="idx_anchor" id="138" href="ciaoglindex.html#emacs"><tt>emacs</tt></a>) from the <a class="idx_anchor" id="139" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> menus (<tt>Help -&gt; Customize -&gt; Top-level Customization Group</tt>), or also by adding a <tt>setq</tt> expression in the <tt>.emacs</tt> file. Such <tt>setq</tt> expression should be similar to:<p><tt>(setq &lt;variable&gt; &lt;new_value&gt;)</tt> <p>The following sections list the different variables which can be customized for <a class="idx_anchor" id="140" href="ciaoglindex.html#ciao"><tt>ciao</tt></a>, <a class="idx_anchor" id="141" href="ciaoglindex.html#ciaopp"><tt>ciaopp</tt></a> and <a class="idx_anchor" id="142" href="ciaoglindex.html#lpdoc"><tt>lpdoc</tt></a>.<p><div id="Ciao general variables"><h3>Ciao general variables</h3> <dl> <DT><tt>ciao-ask-for-version-maintenance-type</tt> (<em>string</em>)<dd> If turned to yes the system asks prompts to set version control when saving files that do not set a version control system explicitly within the file. <DT><tt>ciao-clip-logo</tt> (<em>file</em>)<dd> CLIP logo image. <DT><tt>ciao-create-sample-file-on-startup</tt> (<em>boolean</em>)<dd> When starting the Ciao environment using ciao-startup two buffers are opened: one with a toplevel and another with a sample file. This toggle controls whether the sample file, meant for novice users, is created or not. Set by default, non-novice users will probably want to turn it off. <DT><tt>ciao-first-indent-width</tt> (<em>integer</em>)<dd> First level indentation for a new goal. <DT><tt>ciao-indent-width</tt> (<em>integer</em>)<dd> Indentation for a new goal. <DT><tt>ciao-inhibit-toolbar</tt> (<em>boolean</em>)<dd> *Non-nil means don&apos;t use the specialized Ciao toolbar. <DT><tt>ciao-library-path</tt> (<em>string</em>)<dd> Path to the Ciao System libraries (reads/sets the CIAOLIB environment variable ). Typically left empty, since ciao executables know which library to use. <DT><tt>ciao-locate-also-note-messages</tt> (<em>boolean</em>)<dd> If set, also when errors of type NOTE are detected the corresponding file is visited and the location marked. It is set to nil by default because sometimes the user prefers not to take any action with respect to these messages (for example, many come from the documenter, indicating that adding certain declarations the documentation would be improved). <DT><tt>ciao-locate-errors-after-run</tt> (<em>boolean</em>)<dd> If set, location of any errors produced when running Ciao tools (loading or preprocessing code, running the documenter, etc.) will be initiated automatically. I.e., after running a command, the system will automatically highlight any error messages and the corresponding areas in source files if possible. If set to nil this location will only happen after typing C-c ` or accessing the corresponding menu or tool bar button. <DT><tt>ciao-logo</tt> (<em>file</em>)<dd> Ciao logo image. <DT><tt>ciao-main-filename</tt> (<em>string</em>)<dd> Name of main file in a multiple module program. Setting thsi is very useful when working on a multi-module program because it allows issuing a load command after working on an inferior module which will reload from the main module, thus also reloading automatically all dependent modules. <DT><tt>ciao-os-shell-prompt-pattern</tt> (<em>string</em>)<dd> Regular expression used to describe the shell prompt pattern, so that error location works in inferior shells. This is useful for example so that errors are located when generating documentation, and also when using the embedded debugger or any other application in a shell. It is best to be as precise as possible when defining this so that the standard Ciao error location does not get confused. <DT><tt>ciao-query</tt> (<em>string</em>)<dd> Query to use in Ciao. Setting this is useful when using a long or complicated query because it saves from having to type it over and over again. It is possible to set that this query will be issued any time a program is (re)loaded. <DT><tt>ciao-system</tt> (<em>string</em>)<dd> Name of Ciao executable which runs the classical top level. <DT><tt>ciao-system-args</tt> (<em>string</em>)<dd> Arguments passed to Ciao toplevel executable. <DT><tt>ciao-toplevel-buffer-name</tt> (<em>string</em>)<dd> Basic name of the buffer running the Ciao toplevel inferior process. <DT><tt>ciao-user-directives</tt> (<em>list</em>)<dd> List of identifiers of any directives defined by users which you would like highlighted (colored). Be careful, since wrong entries may affect other syntax highlighting. </dl> <p></div><div id="CiaoPP variables"><h3>CiaoPP variables</h3> <dl> <DT><tt>ciao-ciaopp-buffer-name</tt> (<em>string</em>)<dd> Basic name of the buffer running the Ciao preprocessor inferior process. <DT><tt>ciao-ciaopp-gmenu-buffer-name</tt> (<em>string</em>)<dd> Basic name of the buffer running the Ciao preprocessor graphical menu interface. <DT><tt>ciao-ciaopp-system</tt> (<em>string</em>)<dd> Name of Ciao preprocessor executable. <DT><tt>ciao-ciaopp-system-args</tt> (<em>string</em>)<dd> Arguments passed to Ciao preprocessor executable. <DT><tt>ciao-ciaopp-use-graphical-menu</tt> (<em>boolean</em>)<dd> If set, an interactive graphical menu is used for controlling CiaoPP, instead of asking ascii questions in the CiaoPP buffer. </dl> <p></div><div id="LPdoc variables"><h3>LPdoc variables</h3> <dl> <DT><tt>ciao-lpdoc-buffer-name</tt> (<em>string</em>)<dd> Basic name of the buffer running the auto-documenter inferior process. <DT><tt>ciao-lpdoc-docformat</tt> (<em>symbol</em>)<dd> Name of default output format used by LPdoc. <DT><tt>ciao-lpdoc-libpath</tt> (<em>directory</em>)<dd> Path in which the LPdoc library is installed. <DT><tt>ciao-lpdoc-system</tt> (<em>string</em>)<dd> Name of LPdoc auto-documenter executable. <DT><tt>ciao-lpdoc-system-args</tt> (<em>string</em>)<dd> Arguments passed to LPdoc executable. <DT><tt>ciao-lpdoc-wdir-root</tt> (<em>directory</em>)<dd> Name of root working dir used by LPdoc. </dl> <p></div><div id="Faces used in syntax-based highlighting (coloring)"><h3>Faces used in syntax-based highlighting (coloring)</h3> <dl> <DT><tt>ciao-button-pressed-widget-face</tt> (<em>face</em>)<dd> Face used for documentation text. <DT><tt>ciao-button-widget-face</tt> (<em>face</em>)<dd> Face used for documentation text. <DT><tt>ciao-edit-widget-face</tt> (<em>face</em>)<dd> Face used for documentation text. <DT><tt>ciao-face-answer-val</tt> (<em>face</em>)<dd> Face to use for answer values in top level. <DT><tt>ciao-face-answer-var</tt> (<em>face</em>)<dd> Face to use for answer variables in top level. <DT><tt>ciao-face-builtin-directive</tt> (<em>face</em>)<dd> Face to use for the standard directives. <DT><tt>ciao-face-check-assrt</tt> (<em>face</em>)<dd> Face to use for check assertions. <DT><tt>ciao-face-checked-assrt</tt> (<em>face</em>)<dd> Face to use for checked assertions. <DT><tt>ciao-face-ciaopp-option</tt> (<em>face</em>)<dd> Face to use for CiaoPP option menus. <DT><tt>ciao-face-clauseheadname</tt> (<em>face</em>)<dd> Face to use for clause head functors. <DT><tt>ciao-face-comment</tt> (<em>face</em>)<dd> Face to use for code comments using fixed pitch (double %). <DT><tt>ciao-face-comment-variable-pitch</tt> (<em>face</em>)<dd> Face to use for code comments using variable pitch (single %). <DT><tt>ciao-face-concurrency-op</tt> (<em>face</em>)<dd> Face to use for concurrency operators. <DT><tt>ciao-face-condcode-directive</tt> (<em>face</em>)<dd> Face to use for the conditional code directives. <DT><tt>ciao-face-cut</tt> (<em>face</em>)<dd> Face to use for cuts. <DT><tt>ciao-face-debug-breakpoint</tt> (<em>face</em>)<dd> Face to use with breakpoints in source debugger. <DT><tt>ciao-face-debug-call</tt> (<em>face</em>)<dd> Face to use when at call port in source debugger. <DT><tt>ciao-face-debug-exit</tt> (<em>face</em>)<dd> Face to use when at exit port in source debugger. <DT><tt>ciao-face-debug-expansion</tt> (<em>face</em>)<dd> Face to use in source debugger when source literal not located. <DT><tt>ciao-face-debug-fail</tt> (<em>face</em>)<dd> Face to use when at fail port in source debugger. <DT><tt>ciao-face-debug-mess</tt> (<em>face</em>)<dd> Face to use for debug messages. <DT><tt>ciao-face-debug-redo</tt> (<em>face</em>)<dd> Face to use when at redo port in source debugger. <DT><tt>ciao-face-entry-assrt</tt> (<em>face</em>)<dd> Face to use for entry assertions. <DT><tt>ciao-face-error-mess</tt> (<em>face</em>)<dd> Face to use for error messages. <DT><tt>ciao-face-false-assrt</tt> (<em>face</em>)<dd> Face to use for false assertions. <DT><tt>ciao-face-fontify-sectioning</tt> (<em>symbol</em>)<dd> Whether to fontify sectioning macros with varying height or a color face.<p>If it is a number, use varying height faces. The number is used for scaling starting from `ciao-face-sectioning-5-face&apos;. Typically values from 1.05 to 1.3 give best results, depending on your font setup. If it is the symbol `color&apos;, use `font-lock-type-face&apos;.<p>Caveats: Customizing the scaling factor applies to all sectioning faces unless those face have been saved by customize. Setting this variable directly does not take effect unless you call `ciao-face-update-sectioning-faces&apos; or restart Emacs.<p>Switching from `color&apos; to a number or vice versa does not take effect unless you call M-x font-lock-fontify-buffer or restart Emacs. <DT><tt>ciao-face-funexp-atom</tt> (<em>face</em>)<dd> Face to use for atoms in functional notation. <DT><tt>ciao-face-highlight-code</tt> (<em>face</em>)<dd> Face to use for highlighting code areas (e.g., when locating the code area that an error message refers to). <DT><tt>ciao-face-library-directive</tt> (<em>face</em>)<dd> Face to use for directives defined in the library. <DT><tt>ciao-face-lpdoc-bug-comment</tt> (<em>face</em>)<dd> Face to use for LPdoc bug comments. <DT><tt>ciao-face-lpdoc-command</tt> (<em>face</em>)<dd> Face to use LPdoc commands inserted in documentation text. <DT><tt>ciao-face-lpdoc-comment</tt> (<em>face</em>)<dd> Face to use for LPdoc textual comments. <DT><tt>ciao-face-lpdoc-comment-variable-pitch</tt> (<em>face</em>)<dd> Face to use for LPdoc textual comments in variable pitch. <DT><tt>ciao-face-lpdoc-crossref</tt> (<em>face</em>)<dd> Face to use for LPdoc cross-references. <DT><tt>ciao-face-lpdoc-include</tt> (<em>face</em>)<dd> Face to use for LPdoc include commands. <DT><tt>ciao-face-lpdoc-verbatim</tt> (<em>face</em>)<dd> Face to use for LPdoc verbatim text. <DT><tt>ciao-face-lpdoc-version-comment</tt> (<em>face</em>)<dd> Face to use for LPdoc version comments. <DT><tt>ciao-face-modedef-assrt</tt> (<em>face</em>)<dd> Face to use for modedef definitions. <DT><tt>ciao-face-module-directive</tt> (<em>face</em>)<dd> Face to use for the module-related directives. <DT><tt>ciao-face-no-answer</tt> (<em>face</em>)<dd> Face to use for no answer in top level. <DT><tt>ciao-face-note-mess</tt> (<em>face</em>)<dd> Face to use for note messages. <DT><tt>ciao-face-other-mess</tt> (<em>face</em>)<dd> Face to use for other messages. <DT><tt>ciao-face-predicate-directive</tt> (<em>face</em>)<dd> Face to use for the predicate-related directives. <DT><tt>ciao-face-prompt</tt> (<em>face</em>)<dd> Face to use for prompts in top-level and shells. <DT><tt>ciao-face-prop-assrt</tt> (<em>face</em>)<dd> Face to use for property definitions. <DT><tt>ciao-face-quoted-atom</tt> (<em>face</em>)<dd> Face to use for quoted atoms. <DT><tt>ciao-face-script-header</tt> (<em>face</em>)<dd> Face to use for script headers. <DT><tt>ciao-face-sectioning-0-face</tt> (<em>face</em>)<dd> Face for sectioning commands at level 0.<p>Probably you don&apos;t want to customize this face directly. Better change the base face `ciao-face-sectioning-5-face&apos; or customize the variable `ciao-face-fontify-sectioning&apos;. <DT><tt>ciao-face-sectioning-1-face</tt> (<em>face</em>)<dd> Face for sectioning commands at level 1.<p>Probably you don&apos;t want to customize this face directly. Better change the base face `ciao-face-sectioning-5-face&apos; or customize the variable `ciao-face-fontify-sectioning&apos;. <DT><tt>ciao-face-sectioning-2-face</tt> (<em>face</em>)<dd> Face for sectioning commands at level 2.<p>Probably you don&apos;t want to customize this face directly. Better change the base face `ciao-face-sectioning-5-face&apos; or customize the variable `ciao-face-fontify-sectioning&apos;. <DT><tt>ciao-face-sectioning-3-face</tt> (<em>face</em>)<dd> Face for sectioning commands at level 3.<p>Probably you don&apos;t want to customize this face directly. Better change the base face `ciao-face-sectioning-5-face&apos; or customize the variable `ciao-face-fontify-sectioning&apos;. <DT><tt>ciao-face-sectioning-4-face</tt> (<em>face</em>)<dd> Face for sectioning commands at level 4.<p>Probably you don&apos;t want to customize this face directly. Better change the base face `ciao-face-sectioning-5-face&apos; or customize the variable `ciao-face-fontify-sectioning&apos;. <DT><tt>ciao-face-sectioning-5-face</tt> (<em>face</em>)<dd> Face for sectioning commands at level 5. <DT><tt>ciao-face-startup-mess</tt> (<em>face</em>)<dd> Face to use for system splash message. <DT><tt>ciao-face-string</tt> (<em>face</em>)<dd> Face to use for strings. <DT><tt>ciao-face-test-assrt</tt> (<em>face</em>)<dd> Face to use for test assertions. <DT><tt>ciao-face-texec-assrt</tt> (<em>face</em>)<dd> Face to use for texec assertions. <DT><tt>ciao-face-true-assrt</tt> (<em>face</em>)<dd> Face to use for true assertions. <DT><tt>ciao-face-trust-assrt</tt> (<em>face</em>)<dd> Face to use for trust assertions. <DT><tt>ciao-face-type-assrt</tt> (<em>face</em>)<dd> Face to use for type definitions. <DT><tt>ciao-face-user-directive</tt> (<em>face</em>)<dd> Face to use for directives defined by the user (see ciao-user-directives custom variable to add new ones). <DT><tt>ciao-face-variable</tt> (<em>face</em>)<dd> Face to use for variables. <DT><tt>ciao-face-warning-mess</tt> (<em>face</em>)<dd> Face to use for warning messages. <DT><tt>ciao-face-yes-answer</tt> (<em>face</em>)<dd> Face to use for yes answer in top level. <DT><tt>ciao-faces-use-variable-pitch-in-comments</tt> (<em>boolean</em>)<dd> Controls whether variable pitch fonts are used when highlighting comments. Unset by default. After changing this you must exit and reinitialize for the change to take effect. <DT><tt>ciao-menu-error-widget-face</tt> (<em>face</em>)<dd> Face used for menu error representation in graphical interface. <DT><tt>ciao-menu-note-widget-face</tt> (<em>face</em>)<dd> Face used for menu note representation in graphical interface. <DT><tt>ciao-text-widget-face</tt> (<em>face</em>)<dd> Face used for documentation text. </dl> <p> </div></div><div id="Installation of the Ciao emacs interface"><h2>Installation of the Ciao emacs interface</h2> <p>If opening a file ending with <tt>.pl</tt> puts emacs in another mode (such as <a class="idx_anchor" id="143" href="ciaoglindex.html#perl"><tt>perl</tt></a> mode, which is the --arguably incorrect-- default setting in some <a class="idx_anchor" id="144" href="ciaoglindex.html#emacs"><tt>emacs</tt></a> distributions), then either the emacs mode was not installed or the installation settings are being overwritten by other settings in your <tt>.emacs</tt> file or in some library. In any case, you can set things manually so that the Ciao mode is loaded by default in your system. This can be done by including in your <a class="idx_anchor" id="145" href="ciaoglindex.html#.emacs"><tt>.emacs</tt></a> file a line such as:<p><tt>(load &lt;CIAOLIBDIR&gt;/ciao-mode-init)</tt> <p>This loads the above mentioned file from the Ciao library, which contains the following lines (except that the paths are changed during installation to appropriate values for your system):<p><pre>; -*- mode: emacs-lisp; -*-
;;
;; Ciao/Prolog mode initialization
;; -------------------------------
;; (can normally be used with other Prolog modes and the default prolog.el)
;; 
(setq load-path (cons &lt;v&gt;CIAOLIBDIR&lt;/v&gt; load-path))
;; Java mode in ciao                                 
(setq load-path
   (cons &lt;v&gt;CIAOLIBDIR&lt;/v&gt; load-path))
(defun load-java-ciaopp-mode ()
  (require &apos;java-ciaopp)
  (java-ciaopp-setup))
(add-hook &apos;java-mode-hook &apos;load-java-ciaopp-mode)

(autoload &apos;run-ciao-toplevel &quot;ciao&quot;
          &quot;Start a Ciao/Prolog top-level sub-process.&quot; t)
(autoload &apos;ciao-startup &quot;ciao&quot;
          &quot;The Ciao/Prolog program development system startup screens.&quot; t)
(autoload &apos;ciao &quot;ciao&quot;
          &quot;Start a Ciao/Prolog top-level sub-process.&quot; t)
(autoload &apos;prolog &quot;ciao&quot;
          &quot;Start a Ciao/Prolog top-level sub-process.&quot; t)
(autoload &apos;run-ciao-preprocessor &quot;ciao&quot;
          &quot;Start a Ciao/Prolog preprocessor sub-process.&quot; t)
(autoload &apos;ciaopp &quot;ciao&quot;
          &quot;Start a Ciao/Prolog preprocessor sub-process.&quot; t)
(autoload &apos;ciao-mode &quot;ciao&quot;
          &quot;Major mode for editing and running Ciao/Prolog&quot; t)
(autoload &apos;ciao-inferior-mode &quot;ciao&quot;
          &quot;Major mode for running Ciao/Prolog, CiaoPP, LPdoc, etc.&quot; t)
(setq auto-mode-alist (cons &apos;(&quot;\\.pl$&quot; . ciao-mode) auto-mode-alist))
(setq auto-mode-alist (cons &apos;(&quot;\\.pls$&quot; . ciao-mode) auto-mode-alist))
(setq auto-mode-alist (cons &apos;(&quot;\\.lpdoc$&quot; . ciao-mode) auto-mode-alist))
(setq completion-ignored-extensions
      (append &apos;(&quot;.dep&quot; &quot;.itf&quot; &quot;.po&quot; &quot;.asr&quot; &quot;.cpx&quot;)
              completion-ignored-extensions))
;; ------------------------------------------------------------------------
;; In Un*x, the following (or similar) lines should be included in your
;; .cshrc or .profile to find the manuals (the Ciao installation leaves
;; in the Ciao library directory &apos;DOTcshrc&apos; and &apos;DOTprofile&apos; files with
;; the right paths which can be included directly in your startup scripts):
;; 
;; setenv INFOPATH /usr/local/info:/usr/info:&lt;v&gt;LPDOCDIR&lt;/v&gt;
;; ------------------------------------------------------------------------

</pre> <p>If you would like to configure things in a different way, you can also copy the contents of this file to your <a class="idx_anchor" id="146" href="ciaoglindex.html#.emacs"><tt>.emacs</tt></a> file and make the appropriate changes. For example, if you do not want <tt>.pl</tt> files to be put automatically in Ciao mode, then comment out (or remove) the line:<p><tt>(setq auto-mode-alist</tt> ... <tt>)</tt> <p>You will then need to switch manually to Ciao mode by typing <tt>M-x ciao-mode</tt> after opening a Ciao file.<p>If you are able to open the Ciao menu but the Ciao manuals are not found or the <a class="idx_anchor" id="147" href="ciaoglindex.html#ciao"><tt>ciao</tt></a> command (the top-level) is not found when loading <tt>.pl</tt> files, the probable cause is that you do not have the Ciao paths in the <tt>INFOPATH</tt> and <tt>MANPATH</tt> <a class="idx_anchor" id="148" href="ciaocoindex.html#environment variables"><em>environment variables</em></a> (whether these variables are set automatically or not for users depends on how the Ciao system was installed). Under Un*x, you can add these paths easily by including the line:<p><tt>source &lt;CIAOLIBDIR&gt;/DOTcshrc</tt> <p>in your <tt>.login</tt> or <tt>.cshrc</tt> files if you are using <a class="idx_anchor" id="149" href="ciaoglindex.html#csh"><tt>csh</tt></a> (or <a class="idx_anchor" id="150" href="ciaoglindex.html#tcsh"><tt>tcsh</tt></a>, etc.), or, alternatively, the line:<p><tt>. &lt;CIAOLIBDIR&gt;/DOTprofile</tt> <p>in your <tt>.login</tt> or <tt>.profile</tt> files if you are using <a class="idx_anchor" id="151" href="ciaoglindex.html#sh"><tt>sh</tt></a> (or <a class="idx_anchor" id="152" href="ciaoglindex.html#bash"><tt>bash</tt></a>, etc.). See the Ciao installation instructions (<a href="Install.html">Installing Ciao from the source distribution</a> or <a href="InstallWin32bin.html">Installing Ciao from a Win32 binary distribution</a>) for details.<p></div><div id="Emacs version compatibility"><h2>Emacs version compatibility</h2> This mode is currently being developed within <a class="idx_anchor" id="153" href="ciaoglindex.html#GNU emacs"><tt>GNU emacs</tt></a> version 21.3. It should also (hopefully) work with all other 21.XX, 20.XX, and later 19.XX versions. We also try our best to keep things working under <a class="idx_anchor" id="154" href="ciaoglindex.html#xemacs"><tt>xemacs</tt></a> and under the diverse emacs native ports for the mac.<p></div><div id="Acknowledgments (ciao.el)"><h2>Acknowledgments (ciao.el)</h2> <p>This code is derived from the 1993 version of the emacs interface for <a class="idx_anchor" id="155" href="ciaoglindex.html#&amp;-Prolog">&amp;-Prolog</a> by M. Hermenegildo, itself derived from the original <a class="idx_anchor" id="156" href="ciaoglindex.html#prolog.el"><tt>prolog.el</tt></a> by <a class="idx_anchor" id="157" href="ciaocoindex.html#Masanobu Umeda"><em>Masanobu Umeda</em></a> with changes by <a class="idx_anchor" id="158" href="ciaocoindex.html#Johan Andersson"><em>Johan Andersson</em></a>, <a class="idx_anchor" id="159" href="ciaocoindex.html#Peter Olin"><em>Peter Olin</em></a>, <a class="idx_anchor" id="160" href="ciaocoindex.html#Mats Carlsson"><em>Mats Carlsson</em></a>, and <a class="idx_anchor" id="161" href="ciaocoindex.html#Johan Bevemyr"><em>Johan Bevemyr</em></a> of <a class="idx_anchor" id="162" href="ciaocoindex.html#SICS"><em>SICS</em></a>, Sweden. Other changes also by Daniel Cabeza and Manuel C. Rodriguez. See the changelog for details.</div><br/></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Sections</h2><ul><LI><a href="#Conventions for writing Ciao programs under Emacs">Conventions for writing Ciao programs under Emacs</a><LI><a href="#Checking the installation">Checking the installation</a><LI><a href="#Functionality and associated key sequences (bindings)">Functionality and associated key sequences (bindings)</a><LI><a href="#Syntax coloring and syntax-based editing">Syntax coloring and syntax-based editing</a><LI><a href="#Getting on-line help">Getting on-line help</a><LI><a href="#Loading and compiling programs">Loading and compiling programs</a><LI><a href="#Commands available in toplevel and preprocessor buffers">Commands available in toplevel and preprocessor buffers</a><LI><a href="#Locating errors and checking the syntax of assertions">Locating errors and checking the syntax of assertions</a><LI><a href="#Commands which help typing in programs">Commands which help typing in programs</a><LI><a href="#Debugging programs">Debugging programs</a><LI><a href="#Preprocessing programs">Preprocessing programs</a><LI><a href="#Version control">Version control</a><LI><a href="#Generating program documentation">Generating program documentation</a><LI><a href="#Setting top level preprocessor and documenter executables">Setting top level preprocessor and documenter executables</a><LI><a href="#Other commands">Other commands</a><LI><a href="#Traditional Prolog Mode Commands">Traditional Prolog Mode Commands</a><LI><a href="#Coexistence with other Prolog-like interfaces">Coexistence with other Prolog-like interfaces</a><LI><a href="#Getting the Ciao mode version">Getting the Ciao mode version</a><LI><a href="#Using Ciao mode capabilities in standard shells">Using Ciao mode capabilities in standard shells</a><LI><a href="#Customization">Customization</a><ul><LI><a href="#Ciao general variables">Ciao general variables</a><LI><a href="#CiaoPP variables">CiaoPP variables</a><LI><a href="#LPdoc variables">LPdoc variables</a><LI><a href="#Faces used in syntax-based highlighting (coloring)">Faces used in syntax-based highlighting (coloring)</a></ul><LI><a href="#Installation of the Ciao emacs interface">Installation of the Ciao emacs interface</a><LI><a href="#Emacs version compatibility">Emacs version compatibility</a><LI><a href="#Acknowledgments (ciao.el)">Acknowledgments (ciao.el)</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="libpaths.html">&#x25C4;</a><a class="navbutton" href="Builtins.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>