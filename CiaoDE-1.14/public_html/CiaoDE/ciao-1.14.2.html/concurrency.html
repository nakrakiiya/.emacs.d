<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Low-level concurrency/multithreading primitives &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="expansion_tools.html">&#x25C4;</a><a class="navbutton" href="conc_aggregates.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="MiscProlog.html">PART VI - Ciao library miscellanea</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Low-level concurrency/multithreading primitives</h1><a class="idx_anchor" href="ciaoliindex.html#concurrency"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Manuel Carro" href="ciaoauindex.html#Manuel Carro">Manuel Carro</a>.<p>
This module provides basic mechanisms for using concurrency and implementing multi-goal applications.<a class="idx_anchor" id="0" href="ciaocoindex.html#concurrency"></a> It provides a means for arbitrary goals to be specified to be run in a separate stack set; in that case, they are assigned a goal identifier with which further accesses (e.g., asking for more solutions) to the goal can be made. Additionally, in some architectures, these goals can be assigned an O.S. thread, separate from the one which made the initial call, thus providing concurrency and, in multiprocessors, parallelism capabilities.<br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(concurrency)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="1" href="ciaoglindex.html#eng_call/4"><tt>eng_call/4</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#eng_call/3"><tt>eng_call/3</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#eng_backtrack/2"><tt>eng_backtrack/2</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#eng_cut/1"><tt>eng_cut/1</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#eng_release/1"><tt>eng_release/1</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#eng_wait/1"><tt>eng_wait/1</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#eng_kill/1"><tt>eng_kill/1</tt></a>, <a class="idx_anchor" id="8" href="ciaoglindex.html#eng_killothers/0"><tt>eng_killothers/0</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#eng_self/1"><tt>eng_self/1</tt></a>, <a class="idx_anchor" id="10" href="ciaoglindex.html#goal_id/1"><tt>goal_id/1</tt></a>, <a class="idx_anchor" id="11" href="ciaoglindex.html#eng_goal_id/1"><tt>eng_goal_id/1</tt></a>, <a class="idx_anchor" id="12" href="ciaoglindex.html#eng_status/0"><tt>eng_status/0</tt></a>, <a class="idx_anchor" id="13" href="ciaoglindex.html#lock_atom/1"><tt>lock_atom/1</tt></a>, <a class="idx_anchor" id="14" href="ciaoglindex.html#unlock_atom/1"><tt>unlock_atom/1</tt></a>, <a class="idx_anchor" id="15" href="ciaoglindex.html#atom_lock_state/2"><tt>atom_lock_state/2</tt></a>, <a class="idx_anchor" id="16" href="ciaoglindex.html#concurrent/1"><tt>concurrent/1</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="17" href="ciaoglindex.html#foreign_interface/foreign_interface_properties"><tt>foreign_interface/foreign_interface_properties</tt></a>, <a class="idx_anchor" id="18" href="ciaoglindex.html#prolog_sys"><tt>prolog_sys</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_call/4" href="ciaopdindex.html#eng_call/4">eng_call/4</a>:</div><div class="deftext"><br/>
<em>Meta-predicate</em> with arguments: <tt>eng_call(goal,?,?,?)</tt>.<br/><p><strong>Usage:</strong> <tt>eng_call(Goal,EngineCreation,ThreadCreation,GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Calls <span class="var">Goal</span> in a new engine (stack set), possibly using a new thread, and returns a <span class="var">GoalId</span> to designate this new goal henceforth. <span class="var">EngineCreation</span> can be either <tt>wait</tt> or <tt>create</tt>; the distinction is not yet meaningful. <span class="var">ThreadCreation</span> can be one of <tt>self</tt>, <tt>wait</tt>, or <tt>create</tt>. In the first case the creating thread is used to execute <span class="var">Goal</span>, and thus it has to wait until its first result or failure. The call will fail if <span class="var">Goal</span> fails, and succeed otherwise. However, the call will always suceed when a remote thread is started. The space and identifiers reclaimed for the thread must be explicitly deallocated by calling <a class="idx_anchor" id="19" href="ciaoglindex.html#eng_release/1"><tt>eng_release/1</tt></a>. <span class="var">GoalId</span>s are unique in each execution of a Ciao Prolog program.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Goal</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">EngineCreation</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">ThreadCreation</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">GoalId</span> is a free variable.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Goal</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">EngineCreation</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">ThreadCreation</span> is an atom.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_call/3" href="ciaopdindex.html#eng_call/3">eng_call/3</a>:</div><div class="deftext"><br/>
<em>Meta-predicate</em> with arguments: <tt>eng_call(goal,?,?)</tt>.<br/><p><strong>Usage:</strong> <tt>eng_call(Goal,EngineCreation,ThreadCreation)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Similar to <a class="idx_anchor" id="20" href="ciaoglindex.html#eng_call/4"><tt>eng_call/4</tt></a>, but the thread (if created) and stack areas are automatically released upon success or failure of the goal. No <span class="var">GoalId</span> is provided for further interaction with the goal.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Goal</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">EngineCreation</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">ThreadCreation</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Goal</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">EngineCreation</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">ThreadCreation</span> is an atom.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_backtrack/2" href="ciaopdindex.html#eng_backtrack/2">eng_backtrack/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_backtrack(GoalId,ThreadCreation)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Performs backtracking on the goal designed by <span class="var">GoalId</span>. A new thread can be used to perform backtracking, according to <span class="var">ThreadCreation</span> (same as in <a class="idx_anchor" id="21" href="ciaoglindex.html#eng_call/4"><tt>eng_call/4</tt></a>). Fails if the goal is backtracked over by the local thread, and there are no more solutions. Always succeeds if executed by a remote thread. The engine is <strong>not</strong> automatically released up upon failure: <a class="idx_anchor" id="22" href="ciaoglindex.html#eng_release/1"><tt>eng_release/1</tt></a> must be called to that end.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">GoalId</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">ThreadCreation</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">ThreadCreation</span> is an atom.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_cut/1" href="ciaopdindex.html#eng_cut/1">eng_cut/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_cut(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Performs a <em>cut</em> in the execution of the goal <span class="var">GoalId</span>. The next call to <a class="idx_anchor" id="23" href="ciaoglindex.html#eng_backtrack/2"><tt>eng_backtrack/2</tt></a> will therefore backtrack all the way and fail.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">GoalId</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_release/1" href="ciaopdindex.html#eng_release/1">eng_release/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_release(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Cleans up and releases the engine executing the goal designed by <span class="var">GoalId</span>. The engine must be idle, i.e., currently not executing any goal. <a class="idx_anchor" id="24" href="ciaoglindex.html#eng_wait/1"><tt>eng_wait/1</tt></a> can be used to ensure this.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">GoalId</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_wait/1" href="ciaopdindex.html#eng_wait/1">eng_wait/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_wait(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Waits for the engine executing the goal denoted by <span class="var">GoalId</span> to finish the computation (i.e., it has finished searching for a solution, either with success or failure).<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">GoalId</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_kill/1" href="ciaopdindex.html#eng_kill/1">eng_kill/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_kill(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Kills the thread executing <span class="var">GoalId</span> (if any), and frees the memory used up by the stack set. Usually one should wait (<a class="idx_anchor" id="25" href="ciaoglindex.html#eng_wait/1"><tt>eng_wait/1</tt></a>) for a goal, and then release it, but killing the thread explicitly allows recovering from error states. A goal cannot kill itself. This feature should be used with caution, because there are situations where killing a thread might render the system in an unstable state. Threads should cooperate in their killing, but if the killed thread is blocked in a I/O operation, or inside an internal critical region, this cooperation is not possible and the system, although stopped, might very well end up in a incosistent state.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">GoalId</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_killothers/0" href="ciaopdindex.html#eng_killothers/0">eng_killothers/0</a>:</div><div class="deftext"><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Kills threads and releases stack sets of all active goals, but the one calling <a class="idx_anchor" id="26" href="ciaoglindex.html#eng_killothers"><tt>eng_killothers</tt></a>. Again, a safety measure. The same cautions as with <a class="idx_anchor" id="27" href="ciaoglindex.html#eng_kill/1"><tt>eng_kill/1</tt></a> should be taken.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_self/1" href="ciaopdindex.html#eng_self/1">eng_self/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_self(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">GoalId</span> is unified with the identifier of the goal within which <a class="idx_anchor" id="28" href="ciaoglindex.html#eng_self/1"><tt>eng_self/1</tt></a> is executed. <a class="idx_anchor" id="29" href="ciaoglindex.html#eng_self/1"><tt>eng_self/1</tt></a> is deprecated, and eng_goal_id/1 should be used instead.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="goal_id/1" href="ciaopdindex.html#goal_id/1">goal_id/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>goal_id(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">GoalId</span> is unified with the identifier of the goal within which <a class="idx_anchor" id="30" href="ciaoglindex.html#goal_id/1"><tt>goal_id/1</tt></a> is executed. <a class="idx_anchor" id="31" href="ciaoglindex.html#goal_id/1"><tt>goal_id/1</tt></a> is deprecated, and eng_goal_id/1 should be used instead.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_goal_id/1" href="ciaopdindex.html#eng_goal_id/1">eng_goal_id/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>eng_goal_id(GoalId)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">GoalId</span> is unified with the identifier of the goal within which <a class="idx_anchor" id="32" href="ciaoglindex.html#eng_goal_id/1"><tt>eng_goal_id/1</tt></a> is executed.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">GoalId</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="eng_status/0" href="ciaopdindex.html#eng_status/0">eng_status/0</a>:</div><div class="deftext"><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Prints to standard output the current status of the stack sets.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="lock_atom/1" href="ciaopdindex.html#lock_atom/1">lock_atom/1</a>:</div><div class="deftext"><p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Arg1</span> is an integer.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign_low/2)</span><span>The Prolog predicate <a class="idx_anchor" id="33" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the function <tt>ForeignName</tt>. The same considerations as above example are to be applied.
</span>
</ul><p><strong>Usage 2:</strong> <tt>lock_atom(Atom)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> The <a class="idx_anchor" id="34" href="ciaoglindex.html#semaphore">semaphore</a> associated to <span class="var">Atom</span> is accessed; if its value is nonzero, it is atomically decremented and the execution of this thread proceeds. Otherwise, the goal waits until a nonzero value is reached. The semaphore is then atomically decremented and the execution of this thread proceeds.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Atom</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Atom</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="unlock_atom/1" href="ciaopdindex.html#unlock_atom/1">unlock_atom/1</a>:</div><div class="deftext"><p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Arg1</span> is an integer.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign_low/2)</span><span>The Prolog predicate <a class="idx_anchor" id="35" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the function <tt>ForeignName</tt>. The same considerations as above example are to be applied.
</span>
</ul><p><strong>Usage 2:</strong> <tt>unlock_atom(Atom)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> The <a class="idx_anchor" id="36" href="ciaoglindex.html#semaphore">semaphore</a> associated to <span class="var">Atom</span> is atomically incremented.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Atom</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Atom</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="atom_lock_state/2" href="ciaopdindex.html#atom_lock_state/2">atom_lock_state/2</a>:</div><div class="deftext"><p><strong>Usage 1:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Arg1</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Arg2</span> is an integer.
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign_low/2)</span><span>The Prolog predicate <a class="idx_anchor" id="37" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the function <tt>ForeignName</tt>. The same considerations as above example are to be applied.
</span>
</ul><p><strong>Usage 2:</strong> <tt>atom_lock_state(Atom,Value)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Sets the semaphore associated to <span class="var">Atom</span> to <span class="var">Value</span>. This is usually done at the beginning of the execution, but can be executed at any time. If not called, semaphore associated to atoms are by default inited to 1. It should be used with caution: arbitrary use can transform programs using locks in a mess of internal relations. The change of a semaphore value in a place other than the initialization stage of a program is <strong>not</strong> among the allowed operations as defined by Dijkstra [<a href="ciaorefs.html#dijkstra-semaphores">Dij65</a>,<a href="ciaorefs.html#ben-ari">BA82</a>].<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Atom</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Value</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Atom</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Value</span> is an integer.
</span>
</ul><p><strong>Usage 3:</strong> <tt>atom_lock_state(Atom,Value)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Consults the <span class="var">Value</span> of the semaphore associated to <span class="var">Atom</span>. Use sparingly and mainly as a medium to check state correctness. Not among the operations on semaphore by Djikstra.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Atom</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Value</span> is a free variable.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Atom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Value</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="concurrent/1" href="ciaopdindex.html#concurrent/1">concurrent/1</a>:</div><div class="deftext"><tt>concurrent PredName</tt>
<p>The predicate named <span class="var">PredName</span> is made <a class="idx_anchor" id="38" href="ciaoglindex.html#concurrent">concurrent</a> in the current module at runtime (useful for predicate names generated on-the-fly). This difficults a better compile-time analysis, but in turn offers more flexibility to applications. It is also faster for some applications: if several agents have to share data in a stuctured fashion (e.g., the generator knows and wants to restrict the data generated to a set of other threads), a possibility is to use the same concurrent fact and emply a field within the fact to distinguish the receiver/sender. This can cause many threads to access and wait on the same fact, which in turns can create contention problems. It is much better to create a new concurrent fact and to use that new name as a channel to communicate the different threads. <a class="idx_anchor" id="39" href="ciaoglindex.html#concurrent/1"><tt>concurrent/1</tt></a> can either be given a <a class="idx_anchor" id="40" href="ciaoglindex.html#predicate spec">predicate spec</a> in the form <span class="var">Name/Arity</span>, with <span class="var">Name</span> and <span class="var">Arity</span> bound, or to give a value only to <span class="var">Arity</span>, and let the system choose a new, unused <span class="var">Name</span> for the fact.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:predname/1)</span><span><span class="var">PredName</span> is a Name/Arity structure denoting a predicate name: <pre>predname(P/A) :-
        atm(P),
        nnegint(A).
</pre>
</span>
</ul></div></div><p>
</div><div id="Known bugs and planned improvements"><h2>Known bugs and planned improvements</h2><ul><LI>Available only for Windows 32 environments and for architectures implementing POSIX threads.<LI>Some implementation of threads have a limit on the total number of threads that can be created by a process. Thread creation, in this case, just hangs. A better solution is planned for the future.</ul></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Known bugs and planned improvements">Known bugs and planned improvements</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="expansion_tools.html">&#x25C4;</a><a class="navbutton" href="conc_aggregates.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>