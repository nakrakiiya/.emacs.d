<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Quintus-like internal database &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="dec10_io.html">&#x25C4;</a><a class="navbutton" href="ttyout.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="ClassicProlog.html">PART IV - Classic Prolog library (classic)</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Quintus-like internal database</h1><a class="idx_anchor" href="ciaoliindex.html#old_database"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="The CLIP Group" href="ciaoauindex.html#The CLIP Group">The CLIP Group</a>.<p>
 The predicates described in this section were introduced in early implementations of Prolog to provide efficient means of performing operations on large quantities of data. The introduction of indexed dynamic predicates have rendered these predicates obsolete, and the sole purpose of providing them is to support existing code. There is no reason whatsoever to use them in new code.<p>These predicates store arbitrary terms in the database without interfering with the clauses which make up the program. The terms which are stored in this way can subsequently be retrieved via the key on which they were stored. Many terms may be stored on the same key, and they can be individually accessed by pattern matching. Alternatively, access can be achieved via a special identifier which uniquely identifies each recorded term and which is returned when the term is stored. <br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(old_database)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#recorda/3"><tt>recorda/3</tt></a>, <a class="idx_anchor" id="1" href="ciaoglindex.html#recordz/3"><tt>recordz/3</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#recorded/3"><tt>recorded/3</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#current_key/2"><tt>current_key/2</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="recorda/3" href="ciaopdindex.html#recorda/3">recorda/3</a>:</div><div class="deftext"><tt>recorda(Key,Term,Ref)</tt>
<p>The term <span class="var">Term</span> is recorded in the internal database as the first item for the key <span class="var">Key</span>, where <span class="var">Ref</span> is its implementation-defined identifier. The key must be given, and only its principal functor is significant. Any uninstantiated variables in the <span class="var">Term</span> will be replaced by new private variables, along with copies of any subgoals blocked on these variables.<p><strong>Usage:</strong> <tt>recorda(Key,Term,Ref)</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Key</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Ref</span> is a free variable.
</span>
<LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="recordz/3" href="ciaopdindex.html#recordz/3">recordz/3</a>:</div><div class="deftext"><tt>recordz(Key,Term,Ref)</tt>
<p>Like <tt>recorda/3</tt>, except that the new term becomes the <em>last</em> item for the key <span class="var">Key</span>.<p><strong>Usage:</strong> <tt>recordz(Key,Term,Ref)</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Key</span> is currently a term which is not a free variable.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Ref</span> is a free variable.
</span>
<LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="recorded/3" href="ciaopdindex.html#recorded/3">recorded/3</a>:</div><div class="deftext"><tt>recorded(Key,Term,Ref)</tt>
<p>The internal database is searched for terms recorded under the key <span class="var">Key</span>. These terms are successively unified with <span class="var">Term</span> in the order they occur in the database. At the same time, <span class="var">Ref</span> is unified with the implementation-defined identifier uniquely identifying the recorded item. If the key is instantiated to a compound term, only its principal functor is significant. If the key is uninstantiated, all terms in the database are successively unified with <span class="var">Term</span> in the order they occur.<p><strong>Usage:</strong> <tt>recorded(Key,Term,Ref)</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="current_key/2" href="ciaopdindex.html#current_key/2">current_key/2</a>:</div><div class="deftext"><tt>current_key(KeyName,KeyTerm)</tt>
<p><span class="var">KeyTerm</span> is the most general form of the key for a currently recorded term, and <span class="var">KeyName</span> is the name of that key. This predicate can be used to enumerate in undefined order all keys for currently recorded terms through backtracking.<p><strong>Usage:</strong> <tt>current_key(Name,Key)</tt>
<ul class="itemize_minus"><LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (basic_props:native/1)</span><span>This predicate is understood natively by CiaoPP.
</span>
</ul></div></div><p>
</div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="dec10_io.html">&#x25C4;</a><a class="navbutton" href="ttyout.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>