<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Ciao bindings for ZeroMQ messaging library &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="ddlist.html">&#x25C4;</a><a class="navbutton" href="dht_doc.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="Contrib.html">PART XI - Contributed libraries</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Ciao bindings for ZeroMQ messaging library</h1><a class="idx_anchor" href="ciaoliindex.html#zeromq"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Dragan Ivanovic" href="ciaoauindex.html#Dragan Ivanovic">Dragan Ivanovic (idragan@clip.dia.fi.upm.es)</a>.<p>
Access to the basic <a href="http://www.zeromq.org/">ZMQ</a> functionality from Ciao Prolog<br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(zeromq)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#zmq_init/0"><tt>zmq_init/0</tt></a>, <a class="idx_anchor" id="1" href="ciaoglindex.html#zmq_term/0"><tt>zmq_term/0</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#zmq_socket/2"><tt>zmq_socket/2</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#zmq_close/1"><tt>zmq_close/1</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#zmq_bind/2"><tt>zmq_bind/2</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#zmq_connect/2"><tt>zmq_connect/2</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#zmq_subscribe/3"><tt>zmq_subscribe/3</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#zmq_unsubscribe/3"><tt>zmq_unsubscribe/3</tt></a>, <a class="idx_anchor" id="8" href="ciaoglindex.html#zmq_send/4"><tt>zmq_send/4</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#zmq_recv/5"><tt>zmq_recv/5</tt></a>, <a class="idx_anchor" id="10" href="ciaoglindex.html#zmq_multipart_pending/2"><tt>zmq_multipart_pending/2</tt></a>, <a class="idx_anchor" id="11" href="ciaoglindex.html#zmq_poll/3"><tt>zmq_poll/3</tt></a>, <a class="idx_anchor" id="12" href="ciaoglindex.html#zmq_device/3"><tt>zmq_device/3</tt></a>, <a class="idx_anchor" id="13" href="ciaoglindex.html#zmq_error_check/1"><tt>zmq_error_check/1</tt></a>, <a class="idx_anchor" id="14" href="ciaoglindex.html#zmq_errors/1"><tt>zmq_errors/1</tt></a>, <a class="idx_anchor" id="15" href="ciaoglindex.html#zmq_send_multipart/3"><tt>zmq_send_multipart/3</tt></a>, <a class="idx_anchor" id="16" href="ciaoglindex.html#zmq_recv_multipart/4"><tt>zmq_recv_multipart/4</tt></a>, <a class="idx_anchor" id="17" href="ciaoglindex.html#zmq_send_terms/3"><tt>zmq_send_terms/3</tt></a>, <a class="idx_anchor" id="18" href="ciaoglindex.html#zmq_recv_terms/4"><tt>zmq_recv_terms/4</tt></a>, <a class="idx_anchor" id="19" href="ciaoglindex.html#demo_responder/0"><tt>demo_responder/0</tt></a>, <a class="idx_anchor" id="20" href="ciaoglindex.html#demo_requester/1"><tt>demo_requester/1</tt></a>, <a class="idx_anchor" id="21" href="ciaoglindex.html#demo_requester/2"><tt>demo_requester/2</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="22" href="ciaoglindex.html#foreign_interface/foreign_interface_properties"><tt>foreign_interface/foreign_interface_properties</tt></a>, <a class="idx_anchor" id="23" href="ciaoglindex.html#lists"><tt>lists</tt></a>, <a class="idx_anchor" id="24" href="ciaoglindex.html#zeromq/term_ser"><tt>zeromq/term_ser</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_init/0" href="ciaopdindex.html#zmq_init/0">zmq_init/0</a>:</div><div class="deftext"><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Initializes the ZMQ context for the current thread. This is done automatically on any call to ZMQ routines that require the context.<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="25" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_term/0" href="ciaopdindex.html#zmq_term/0">zmq_term/0</a>:</div><div class="deftext"><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Terminates the ZMQ context for the current thread. Previously attempts to close all open sockets.<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="26" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_socket/2" href="ciaopdindex.html#zmq_socket/2">zmq_socket/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_socket(SocketAtom,TypeAtom)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Creates a new socket named by atom <span class="var">SocketAtom</span>. <span class="var">TypeAtom</span> corresponds to a ZMQ socket type. It can be one of: <tt>req</tt>, <tt>rep</tt>, <tt>pub</tt>, <tt>sub</tt>, <tt>push</tt>, <tt>pull</tt>, <tt>pair</tt>, <tt>router</tt>, <tt>dealer</tt>. No other socket must be associated with <span class="var">SocketAtom</span> at the time of calling.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">TypeAtom</span> is an atom.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">TypeAtom</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">TypeAtom</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="27" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_close/1" href="ciaopdindex.html#zmq_close/1">zmq_close/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_close(SocketAtom)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Closes socket identified with the atom <span class="var">SocketAtom</span>.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="28" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_bind/2" href="ciaopdindex.html#zmq_bind/2">zmq_bind/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_bind(SocketAtom,Endpoint)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Binds socket <span class="var">SocketAtom</span> to the given <span class="var">Endpoint</span> address. Addresses are strings of the form &ldquo;tcp://HOST:PORT&rdquo;, or &ldquo;ipc://ENDPOINT&rdquo;, or &ldquo;inproc://IDENTIFIER&rdquo;. See ZMQ documentation for more details. A socket can be simultaneously bound to several endpoints.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">Endpoint</span> is a string (a list of character codes).
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Endpoint</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Endpoint</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="29" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_connect/2" href="ciaopdindex.html#zmq_connect/2">zmq_connect/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_connect(SocketAtom,Endpoint)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Connects socket to the given endpoint. See <a class="idx_anchor" id="30" href="ciaoglindex.html#zmq_bind/2"><tt>zmq_bind/2</tt></a> for more details. A socket can be simultaneously connected to several endpoints.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:string/1)</span><span><span class="var">Endpoint</span> is a string (a list of character codes).
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Endpoint</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Endpoint</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="31" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_subscribe/3" href="ciaopdindex.html#zmq_subscribe/3">zmq_subscribe/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_subscribe(SocketAtom,Len,Prefix)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Subscribes socket <span class="var">SocketAtom</span> of type <tt>sub</tt> to listen for messages that start with the given <span class="var">Prefix</span> byte list of size <span class="var">Len</span>. A <tt>sub</tt> socket <em>must</em> be subscribed to receive messages, even if the prefix is an empty list. If <span class="var">Size</span>&lt;0, the actual size will be the length of <span class="var">Prefix</span>, otherwise at most <span class="var">Size</span> bytes from <span class="var">Prefix</span> will be used. If <span class="var">Size</span>&gt;<tt>length(</tt><span class="var">Prefix</span><tt>)</tt>, the remaining bytes will be zeroes.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Len</span> is an integer.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Prefix</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Len</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Prefix</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Len</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Prefix</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="32" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_unsubscribe/3" href="ciaopdindex.html#zmq_unsubscribe/3">zmq_unsubscribe/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_unsubscribe(SocketAtom,Len,Prefix)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Removes subscription previously established with <a class="idx_anchor" id="33" href="ciaoglindex.html#zmq_subscribe/3"><tt>zmq_subscribe/3</tt></a>. If <span class="var">Size</span>&lt;0, the actual size will be the length of <span class="var">Prefix</span>, otherwise at most <span class="var">Size</span> bytes from <span class="var">Prefix</span> will be usedP. If <span class="var">Size</span>&gt;<tt>length(</tt><span class="var">Prefix</span><tt>)</tt>, the remaining bytes will be zeroes.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Len</span> is an integer.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Prefix</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Len</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Prefix</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Len</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Prefix</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="34" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_send/4" href="ciaopdindex.html#zmq_send/4">zmq_send/4</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_send(SocketAtom,Size,ByteList,Options)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Sends a list of bytes <span class="var">ByteList</span> of size <span class="var">Size</span> over socket <span class="var">SocketAtom</span> using the list of options <span class="var">Options</span>. Possible options are: <tt>noblock</tt> to send in background, and <tt>sndmore</tt> to signify that more message parts will follow. If <span class="var">Size</span>&lt;0, the actual size will be the length of <span class="var">ByteList</span>, otherwise at most <span class="var">Size</span> bytes from <span class="var">ByteList</span> will be used. If <span class="var">Size</span>&gt;<tt>length(</tt><span class="var">ByteList</span><tt>)</tt>, the remaining bytes will be zeroes.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Size</span> is an integer.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">ByteList</span> is any term. The foreign interface passes it to C functions as a general term.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Options</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Size</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">ByteList</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Options</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Size</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">ByteList</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Options</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="35" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_recv/5" href="ciaopdindex.html#zmq_recv/5">zmq_recv/5</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_recv(SocketAtom,Maybe,Size,ByteList,Options)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Reads a message (or a message part) from socket <span class="var">SocketAtom</span> using list of options <span class="var">Options</span>. The only valid option is currently <tt>noblock</tt>, which returns without waiting for a message to arrive. On exit, <span class="var">Maybe</span> is set to either <tt>none</tt> (if no message was read), or to <tt>some</tt> if some message (part) was read. <span class="var">Size</span> tells the number of bytes read, and <span class="var">ByteList</span> is the list of bytes read.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Maybe</span> is any term. The foreign interface passes it to C functions as a general term.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Size</span> is an integer.
</span><br/><span class="on_right"> (foreign_interface_properties:byte_list/1)</span><span><span class="var">ByteList</span> is a list of bytes.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Options</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Options</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketAtom</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Maybe</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Size</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">ByteList</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Options</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="36" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span><br/><span class="on_right"> (foreign_interface_properties:returns/2)</span><span>The result of the foreign function that implements the Prolog predicate <a class="idx_anchor" id="37" href="ciaoglindex.html#Name"><tt>Name</tt></a> is unified with the Prolog variable <span class="var">Maybe</span>. Cannot be used without <a class="idx_anchor" id="38" href="ciaoglindex.html#foreign/1"><tt>foreign/1</tt></a> or <a class="idx_anchor" id="39" href="ciaoglindex.html#foreign/2"><tt>foreign/2</tt></a>.
</span><br/><span class="on_right"> (foreign_interface_properties:size_of/3)</span><span>For predicate <span class="var">zmq_recv(SocketAtom,Maybe,Size,ByteList,Options)</span>, the size of the argument of type <a class="idx_anchor" id="40" href="ciaoglindex.html#byte_list/1"><tt>byte_list/1</tt></a>, <span class="var">ByteList</span>, is given by the argument of type integer <span class="var">Size</span>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_multipart_pending/2" href="ciaopdindex.html#zmq_multipart_pending/2">zmq_multipart_pending/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_multipart_pending(SocketName,Result)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Checks whether there are more parts from the same multipart message waiting to be read on the socket <span class="var">SocketAtom</span>. <span class="var">Result</span> is set to either <tt>some</tt> or <tt>none</tt>.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketName</span> is an atom.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Result</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketName</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketName</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Result</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="41" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span><br/><span class="on_right"> (foreign_interface_properties:returns/2)</span><span>The result of the foreign function that implements the Prolog predicate <a class="idx_anchor" id="42" href="ciaoglindex.html#Name"><tt>Name</tt></a> is unified with the Prolog variable <span class="var">Result</span>. Cannot be used without <a class="idx_anchor" id="43" href="ciaoglindex.html#foreign/1"><tt>foreign/1</tt></a> or <a class="idx_anchor" id="44" href="ciaoglindex.html#foreign/2"><tt>foreign/2</tt></a>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_poll/3" href="ciaopdindex.html#zmq_poll/3">zmq_poll/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_poll(SocketList,Timeout,Result)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Polls sockets from the list <span class="var">SocketList</span> for incoming messages. <span class="var">Timeout</span> defines how long to wait in microseconds: 0 means immediate return, and -1 means indefinite waiting. <span class="var">Result</span> is a sublist of sockets from <span class="var">SocketList</span> that have pending messages.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">SocketList</span> is any term. The foreign interface passes it to C functions as a general term.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Timeout</span> is an integer.
</span><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Result</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketList</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Timeout</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">SocketList</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Timeout</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Result</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="45" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span><br/><span class="on_right"> (foreign_interface_properties:returns/2)</span><span>The result of the foreign function that implements the Prolog predicate <a class="idx_anchor" id="46" href="ciaoglindex.html#Name"><tt>Name</tt></a> is unified with the Prolog variable <span class="var">Result</span>. Cannot be used without <a class="idx_anchor" id="47" href="ciaoglindex.html#foreign/1"><tt>foreign/1</tt></a> or <a class="idx_anchor" id="48" href="ciaoglindex.html#foreign/2"><tt>foreign/2</tt></a>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_device/3" href="ciaopdindex.html#zmq_device/3">zmq_device/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_device(DevType,Frontend,Backend)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Starts a ZMQ &ldquo;device&rdquo; of type <span class="var">DevType</span> with front-end socket <span class="var">Frontend</span> and back-end socket <span class="var">Backend</span>. <span class="var">DevType</span> must be <tt>queue</tt>, <tt>forwarder</tt> or <tt>streamer</tt>. The front-end and the back-end sockets must be previously set up with correct socket types and bound/connected to their respective endpoints.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">DevType</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Frontend</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Backend</span> is an atom.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">DevType</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Frontend</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Backend</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">DevType</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Frontend</span> is currently ground (it contains no variables).
</span><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Backend</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="49" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_error_check/1" href="ciaopdindex.html#zmq_error_check/1">zmq_error_check/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_error_check(Maybe)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Checks whether errors ocurred in the previous <tt>zmq_XXX</tt> operations. <span class="var">Maybe</span> is set either to <tt>none</tt> or to <tt>some</tt><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">Maybe</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">Maybe</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="50" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span><br/><span class="on_right"> (foreign_interface_properties:returns/2)</span><span>The result of the foreign function that implements the Prolog predicate <a class="idx_anchor" id="51" href="ciaoglindex.html#Name"><tt>Name</tt></a> is unified with the Prolog variable <span class="var">Maybe</span>. Cannot be used without <a class="idx_anchor" id="52" href="ciaoglindex.html#foreign/1"><tt>foreign/1</tt></a> or <a class="idx_anchor" id="53" href="ciaoglindex.html#foreign/2"><tt>foreign/2</tt></a>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_errors/1" href="ciaopdindex.html#zmq_errors/1">zmq_errors/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_errors(ErrorList)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Retrieves and clears the list of errors (latest first) that have accumulated as the result of the previous <tt>zmq_XXX</tt> calls. Each list element has the form <tt>error(Errno, Reason, Socket)</tt>, where <span class="var">Errno</span> is a numeric error code, <span class="var">Reason</span> is an atom describing the context of the error, and <span class="var">Socket</span> is the name of socket in relation to which the error has occured. For an error that has ocurred in <a class="idx_anchor" id="54" href="ciaoglindex.html#zmq_poll/3"><tt>zmq_poll/3</tt></a> <span class="var">Socket</span> is <tt>&rdquo;</tt>.<LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (foreign_interface_properties:any_term/1)</span><span><span class="var">ErrorList</span> is any term. The foreign interface passes it to C functions as a general term.
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (term_typing:ground/1)</span><span><span class="var">ErrorList</span> is currently ground (it contains no variables).
</span>
<LI><em>The following properties hold globally:</em><br/><span class="on_right"> (foreign_interface_properties:foreign/2)</span><span>The Prolog predicate <a class="idx_anchor" id="55" href="ciaoglindex.html#PrologName"><tt>PrologName</tt></a> is implemented using the foreign function <tt>ForeignName</tt>.
</span><br/><span class="on_right"> (foreign_interface_properties:returns/2)</span><span>The result of the foreign function that implements the Prolog predicate <a class="idx_anchor" id="56" href="ciaoglindex.html#Name"><tt>Name</tt></a> is unified with the Prolog variable <span class="var">ErrorList</span>. Cannot be used without <a class="idx_anchor" id="57" href="ciaoglindex.html#foreign/1"><tt>foreign/1</tt></a> or <a class="idx_anchor" id="58" href="ciaoglindex.html#foreign/2"><tt>foreign/2</tt></a>.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_send_multipart/3" href="ciaopdindex.html#zmq_send_multipart/3">zmq_send_multipart/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_send_multipart(SocketAtom,Parts,Options)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Sends a multipart message over socket <span class="var">SocketAtom</span> using option list <span class="var">Options</span> (the only usable option is currently <tt>noblock</tt>). <span class="var">Parts</span> is a (ground, proper) list of elements of the form <tt>Size:Bytelist</tt> or <tt>ByteList</tt>. In the latter case, the size is calculated using <a class="idx_anchor" id="59" href="ciaoglindex.html#length/2"><tt>length/2</tt></a>.<LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Parts</span> is a list.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">Options</span> is a list of <span class="var">atm</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_recv_multipart/4" href="ciaopdindex.html#zmq_recv_multipart/4">zmq_recv_multipart/4</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>zmq_recv_multipart(SocketAtom,Maybe,Parts,Options)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Receives a multipart message over socket <span class="var">SocketAtom</span> using option list <span class="var">Option</span> (the only usable option is currently <tt>noblock</tt>). <span class="var">Maybe</span> is set either to <tt>none</tt> (no message parts read) or to <tt>some</tt> (some message parts read). <span class="var">Parts</span> contains the message parts in the format <tt>Size:ByteList</tt><LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Maybe</span> is an atom.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Parts</span> is a list.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Options</span> is a list.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_send_terms/3" href="ciaopdindex.html#zmq_send_terms/3">zmq_send_terms/3</a>:</div><div class="deftext">Sends a list of terms over the given sockets. The terms are serialized before sending.<p><strong>Usage:</strong> <tt>zmq_send_terms(SocketAtom,Terms,Options)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Send list of terms <span class="var">Terms</span> over socket <span class="var">SocketAtom</span> using options <span class="var">Options</span>. The meaning of <span class="var">Options</span> is the same as in <a class="idx_anchor" id="60" href="ciaoglindex.html#zmq_send_multipart/3"><tt>zmq_send_multipart/3</tt></a>.<LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Terms</span> is a list.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">Options</span> is a list of <span class="var">atm</span>s.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="zmq_recv_terms/4" href="ciaopdindex.html#zmq_recv_terms/4">zmq_recv_terms/4</a>:</div><div class="deftext">Receives a list of terms from the given socket sent using <a class="idx_anchor" id="61" href="ciaoglindex.html#zmq_send_terms/3"><tt>zmq_send_terms/3</tt></a><p><strong>Usage:</strong> <tt>zmq_recv_terms(SocketAtom,Maybe,Terms,Options)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Receive list of terms <span class="var">Terms</span> over socket <span class="var">SocketAtom</span>. The meaning of <span class="var">Maybe</span> and <span class="var">Options</span> is the same as in <a class="idx_anchor" id="62" href="ciaoglindex.html#zmq_send_multipart/3"><tt>zmq_send_multipart/3</tt></a>. Each list item of <span class="var">Terms</span> is constructed using a disjoint set of free variables.<LI><em>Call and exit should be compatible with:</em><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">SocketAtom</span> is an atom.
</span><br/><span class="on_right"> (basic_props:atm/1)</span><span><span class="var">Maybe</span> is an atom.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Terms</span> is a list.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Options</span> is a list.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="demo_responder/0" href="ciaopdindex.html#demo_responder/0">demo_responder/0</a>:</div><div class="deftext"><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Description:</em> Starts a responder (<tt>resp</tt> type) socket that reads messages from TCP port 64321 on the local machine. While waiting for inbound messages, every five seconds prints a reminder on the screen. Replies with &ldquo;Ok&rdquo; to each received message. Stops and closes the socket after receiving a message of length zero.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="demo_requester/1" href="ciaopdindex.html#demo_requester/1">demo_requester/1</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>demo_requester(ByteList)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Same as <a class="idx_anchor" id="63" href="ciaoglindex.html#demo_requester/2"><tt>demo_requester/2</tt></a>, except that it connects specifically to <tt>tcp://locahost:64321</tt>.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="demo_requester/2" href="ciaopdindex.html#demo_requester/2">demo_requester/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>demo_requester(Endpoint,ByteList)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Sends a message <span class="var">ByteList</span> to a responder socket listening on <span class="var">Endpoint</span>, then waits for the response, prints it and finishes. </ul></div></div><p>
</div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="ddlist.html">&#x25C4;</a><a class="navbutton" href="dht_doc.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>