<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Multi barchart widgets &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="gengraph2.html">&#x25C4;</a><a class="navbutton" href="table_widget1.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="Contrib.html">PART XI - Contributed libraries</a> &raquo; <a href="chartlib.html">A Chart Library</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Multi barchart widgets</h1><a class="idx_anchor" href="ciaoliindex.html#genmultibar"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Isabel Martin Garcia" href="ciaoauindex.html#Isabel Martin Garcia">Isabel Mart&iacute;n Garc&iacute;a</a>.<p>
This module defines predicates which show barchart widgets. These bar charts are somewhat different from the bar charts generated by the predicates in modules genbar1, genbar2, genbar3 and genbar4. Predicates in the present module show different features of each dataset element in one chart at the same time. Each bar chart element is a group of bars, and the element features involve three vectors defined as follows:<p><ul> <p><LI>xvector is a list containing the names (atoms) of the bars (n elements). Each bar group will be displayed at uniform intervals.<p><LI>yvector is a list that contains m sublists, each one is composed of n elements. The i-sublist contains the y-values of the i-BarAttribute element for all of the XVector elements.<p><LI>bar_attributtes is a list containing the appearance features of the bars (m elements). Each element of the list can be partial or complete, which means that you can define as bar attributes only the element name or by setting the element name, its background and foreground color and its stipple pattern.<p></ul> <p>Other relevant aspects about this widgets are:<p><ul> <p><LI>If you don&apos;t want to display text in the elements header, barchart title, xaxis title, yaxis title or footer, simply type <tt>&rdquo;</tt> as the value of the argument.<p><LI>The bar chart has a legend, and one entry (symbol and label) per feature group bar.<p><LI>The user can either select the appearance of the bars (background color, foreground color and stipple style) or not. See the multibar_attribute type definition.<p><LI>Data points can have their bar segments displayed in one of the following modes: stacked, aligned, overlapped or overlayed. They user can change the mode clicking in the checkboxes associated to each mode.<p><LI>The predicates test whether the format of the arguments is correct. If one or both vectors are empty, the exception <tt>error2</tt> will be thrown. If the vectors contains elements but are not correct, the exception <tt>error5</tt> or <tt>error6</tt> will be thrown, depending on what is incorrect. <tt>error5</tt> means that <span class="var">XVector</span> and each element of <span class="var">YVector</span> do not contain the same number of elements or that <span class="var">YVector</span> and <span class="var">BarsAtt</span> do not contain the same number of elements, while <tt>error6</tt> indicates that not all the <span class="var">BarsAtt</span> elements contain a correct number of attributes.<p></ul> <p>The examples will help you to understand how these predicates should be called.<p><br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(genmultibar)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#multibarchart/8"><tt>multibarchart/8</tt></a>, <a class="idx_anchor" id="1" href="ciaoglindex.html#multibarchart/10"><tt>multibarchart/10</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="2" href="ciaoglindex.html#chartlib/genbar1"><tt>chartlib/genbar1</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#chartlib/bltclass"><tt>chartlib/bltclass</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#chartlib/color_pattern"><tt>chartlib/color_pattern</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#chartlib/test_format"><tt>chartlib/test_format</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#chartlib/install_utils"><tt>chartlib/install_utils</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#lists"><tt>lists</tt></a>, <a class="idx_anchor" id="8" href="ciaoglindex.html#random/random"><tt>random/random</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="multibarchart/8" href="ciaopdindex.html#multibarchart/8">multibarchart/8</a>:</div><div class="deftext"><tt>multibarchart(Header,BTitle,XTitle,XVector,YTitle,BarsAtts,YVector,Footer)</tt>
<p>The x axis limits are autoarrange. The user can call the predicate in two ways. In the first example the user sets the appearance of the bars, in the second one the appearance features will be chosen by the library.<p>Example1: <pre>multibarchart(&apos;This is the Header text&apos;,
	&apos;My BarchartTitle&apos;,
	&apos;Processors&apos;,
	[&apos;processor1&apos;,&apos;processor2&apos;,&apos;processor3&apos;,&apos;processor4&apos;],
	&apos;Time (seconds)&apos;,
	[[&apos;setup time&apos;,&apos;MediumTurquoise&apos;,&apos;Plum&apos;,&apos;pattern2&apos;],
	    [&apos;sleep time&apos;,&apos;Blue&apos;,&apos;Green&apos;,&apos;pattern5&apos;],
	    [&apos;running time&apos;,&apos;Yellow&apos;,&apos;Plum&apos;,&apos;pattern1&apos;]],
	[[20,30,40,50],[10,8,5,35],[60,100,20,50]],
	&apos;This is the Footer text&apos;).
</pre> Example2: <pre>multibarchart(&apos;This is the Header text&apos;,
	&apos;My BarchartTitle&apos;,
	&apos;Processors&apos;,
	[&apos;processor1&apos;,&apos;processor2&apos;,&apos;processor3&apos;,&apos;processor4&apos;],
	&apos;Time (seconds)&apos;,
	[[&apos;setup time&apos;],[&apos;sleep time&apos;],[&apos;running time&apos;]],
	[[20,30,40,50],[10,8,5,35],[60,100,20,50]],
	&apos;This is the Footer text&apos;).
</pre> <p><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (genbar1:header/1)</span><span><span class="var">Header</span> is a text (an atom) describing the header of the graph.
</span><br/><span class="on_right"> (genbar1:title/1)</span><span><span class="var">BTitle</span> is a text (an atom) to be used as label, usually not very long.
</span><br/><span class="on_right"> (genbar1:title/1)</span><span><span class="var">XTitle</span> is a text (an atom) to be used as label, usually not very long.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">XVector</span> is a list of <span class="var">xelement</span>s.
</span><br/><span class="on_right"> (genbar1:title/1)</span><span><span class="var">YTitle</span> is a text (an atom) to be used as label, usually not very long.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">BarsAtts</span> is a list of <span class="var">multibar_attribute</span>s.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">YVector</span> is a list of <span class="var">yelement</span>s.
</span><br/><span class="on_right"> (genbar1:footer/1)</span><span><span class="var">Footer</span> is a text (an atom) describing the footer of the graph.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="multibarchart/10" href="ciaopdindex.html#multibarchart/10">multibarchart/10</a>:</div><div class="deftext"><tt>multibarchart(Header,BT,XT,XVector,YT,BAtts,YVector,YMax,YMin,Footer)</tt>
<p>This predicate is quite similar to <a class="idx_anchor" id="9" href="ciaoglindex.html#multibarchart/8"><tt>multibarchart/8</tt></a>, except in that you can choose limits in the y axis. The part of the bars placed outside the limits will not be plotted.<p>Example2: <pre>multibarchart(&apos;This is the Header text&apos;,
	&apos;My BarchartTitle&apos;,
	&apos;Processors&apos;,
	[&apos;processor1&apos;,&apos;processor2&apos;,&apos;processor3&apos;,&apos;processor4&apos;],
	&apos;Time (seconds)&apos;,
	[[&apos;setup time&apos;],[&apos;sleep time&apos;],[&apos;running time&apos;]],
	[[20,30,40,50],[10,8,5,35],[60,100,20,50]],
	[80],
	[0],
	&apos;This is the Footer text&apos;).
</pre> <p><p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (genbar1:header/1)</span><span><span class="var">Header</span> is a text (an atom) describing the header of the graph.
</span><br/><span class="on_right"> (genbar1:title/1)</span><span><span class="var">BT</span> is a text (an atom) to be used as label, usually not very long.
</span><br/><span class="on_right"> (genbar1:title/1)</span><span><span class="var">XT</span> is a text (an atom) to be used as label, usually not very long.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">XVector</span> is a list of <span class="var">xelement</span>s.
</span><br/><span class="on_right"> (genbar1:title/1)</span><span><span class="var">YT</span> is a text (an atom) to be used as label, usually not very long.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">BAtts</span> is a list of <span class="var">multibar_attribute</span>s.
</span><br/><span class="on_right"> (basic_props:list/2)</span><span><span class="var">YVector</span> is a list of <span class="var">yelement</span>s.
</span><br/><span class="on_right"> (genbar1:axis_limit/1)</span><span>genbar1:axis_limit(YMax)
</span><br/><span class="on_right"> (genbar1:axis_limit/1)</span><span>genbar1:axis_limit(YMin)
</span><br/><span class="on_right"> (genbar1:footer/1)</span><span><span class="var">Footer</span> is a text (an atom) describing the footer of the graph.
</span>
</ul></div></div><p>
</div><div id="Documentation on internals"><h2>Documentation on internals</h2><div><span class="on_right">REGTYPE</span><div class="defname"><a class="idx_anchor" id="multibar_attribute/1" href="ciaoteindex.html#multibar_attribute/1">multibar_attribute/1</a>:</div><div class="deftext"><pre>multibar_attribute([LegendElement]) :-
        atomic(LegendElement).
multibar_attribute([LegendElement,ForegroundColor,BackgroundColor,StipplePattern]) :-
        atom(LegendElement),
        color(ForegroundColor),
        color(BackgroundColor),
        pattern(StipplePattern).
</pre> <p>Defines the attributes of each feature bar along the different datasets.<p><dl> <p><DT>LegendElement<dd> Legend element name. It may be a number or an atom. Every <span class="var">LegendElement</span> value of the list must be unique.<p><DT><span class="var">ForegroundColor</span><dd> It sets the Foreground color of the bar. Its value must be a valid color, otherwise the system will throw an exception. If the argument value is a variable, it gets instantiated to a color chosen by the library.<p><DT><span class="var">BackgroundColor</span><dd> It sets the Background color of the bar. Its value must be a valid color, otherwise the system will throw an exception. If the argument value is a variable, it gets instantiated to a color chosen by the library.<p><DT><span class="var">StipplePattern</span><dd> It sets the stipple of the bar. Its value must be a valid pattern, otherwise the system will throw an exception. If the argument value is a variable, it gets instantiated to a pattern chosen by the library.<p></dl> <p> </div></div><p>
<div><span class="on_right">REGTYPE</span><div class="defname"><a class="idx_anchor" id="xelement/1" href="ciaoteindex.html#xelement/1">xelement/1</a>:</div><div class="deftext"> <pre>xelement(Label) :-
        atomic(Label).
</pre> This type defines a dataset label. Although <span class="var">Label</span> values may be numbers, the will be treated as atoms, So it will be displayed at uniform intervals along the x axis.<p></div></div><p>
</div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Documentation on internals">Documentation on internals</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="gengraph2.html">&#x25C4;</a><a class="navbutton" href="table_widget1.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>