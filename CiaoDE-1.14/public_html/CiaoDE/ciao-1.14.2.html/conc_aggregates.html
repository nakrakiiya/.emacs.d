<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>All solutions concurrent predicates &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="concurrency.html">&#x25C4;</a><a class="navbutton" href="sockets.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="MiscProlog.html">PART VI - Ciao library miscellanea</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>All solutions concurrent predicates</h1><a class="idx_anchor" href="ciaoliindex.html#conc_aggregates"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Manuel Carro" href="ciaoauindex.html#Manuel Carro">Manuel Carro (concurrency-safeness)</a>.<p>
This module implements thread-safe aggregation predicates. Its use and results should be the same as those in the <a class="idx_anchor" id="0" href="ciaoglindex.html#aggregates">aggregates</a> library, but several goals can use them concurrently without the interference and wrong results (due to implementation reasons) <a class="idx_anchor" id="1" href="ciaoglindex.html#aggregates">aggregates</a> might lead to. This particular implementation is completely based on the one used in the <a class="idx_anchor" id="2" href="ciaoglindex.html#aggregates">aggregates</a> library (whose original authors were <a class="idx_anchor" id="3" href="ciaoglindex.html#Richard A. O&apos;Keefe">Richard A. O&apos;Keefe</a> and <a class="idx_anchor" id="4" href="ciaoglindex.html#David H.D. Warren">David H.D. Warren</a>). <br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(conc_aggregates)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="5" href="ciaoglindex.html#findall/3"><tt>findall/3</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#setof/3"><tt>setof/3</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#bagof/3"><tt>bagof/3</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="8" href="ciaoglindex.html#assertions/native_props"><tt>assertions/native_props</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#prolog_sys"><tt>prolog_sys</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="findall/3" href="ciaopdindex.html#findall/3">findall/3</a>:</div><div class="deftext"><br/>
<em>Meta-predicate</em> with arguments: <tt>findall(?,goal,?)</tt>.<br/><p><strong>Usage:</strong> <span class="on_right"><span class="iso">ISO</span></span><span><tt>findall(Template,Generator,List)</tt></span>
<ul class="itemize_minus"><LI><em>Description:</em> A special case of bagof, where all free variables in the <span class="var">Generator</span> are taken to be existentially quantified. Safe in concurrent applications.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Generator</span> is currently a term which is not a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Template</span> is any term.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Goal</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Set</span> is a list.
</span>
<LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (native_props:is_det/1)</span><span>All calls of the form <span class="var">findall(Template,Generator,List)</span> are deterministic.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="setof/3" href="ciaopdindex.html#setof/3">setof/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <span class="on_right"><span class="iso">ISO</span></span><span><tt>setof(Template,Goal,Set)</tt></span>
<ul class="itemize_minus"><LI><em>Description:</em> Finds the <span class="var">Set</span> of instances of the <span class="var">Template</span> satisfying the <span class="var">Generator</span>. The set is in ascending order (see <a class="idx_anchor" id="10" href="ciaoglindex.html#compare/3"><tt>compare/3</tt></a> for a definition of this order) without duplicates, and is non-empty. If there are no solutions, <a class="idx_anchor" id="11" href="ciaoglindex.html#setof/3"><tt>setof/3</tt></a> fails. <a class="idx_anchor" id="12" href="ciaoglindex.html#setof/3"><tt>setof/3</tt></a> may succeed in more than one way, binding free variables in the <span class="var">Generator</span> to different values. This can be avoided by using existential quantifiers on the free variables in front of the <span class="var">Generator</span>, using <a class="idx_anchor" id="13" href="ciaoglindex.html#^/2"><tt>^/2</tt></a>. E.g., in <tt>A^p(A,B)</tt>, <tt>A</tt> is existentially quantified. Safe in concurrent apllications.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Goal</span> is currently a term which is not a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Template</span> is any term.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Goal</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Set</span> is a list.
</span>
<LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (basic_props:not_further_inst/2)</span><span><span class="var">Template</span> is not further instantiated.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="bagof/3" href="ciaopdindex.html#bagof/3">bagof/3</a>:</div><div class="deftext"><p><strong>Usage:</strong> <span class="on_right"><span class="iso">ISO</span></span><span><tt>bagof(Template,Generator,Bag)</tt></span>
<ul class="itemize_minus"><LI><em>Description:</em> Finds all the instances of the <span class="var">Template</span> produced by the <span class="var">Generator</span>, and returns them in the <span class="var">Bag</span> in the order in which they were found. If the <span class="var">Generator</span> contains free variables which are not bound in the <span class="var">Template</span>, it assumes that this is like any other Prolog question and that you want bindings for those variables. This can be avoided by using existential quantifiers on the free variables in front of the <span class="var">Generator</span>, using <a class="idx_anchor" id="14" href="ciaoglindex.html#^/2"><tt>^/2</tt></a>. Safe in concurrent applications.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:nonvar/1)</span><span><span class="var">Generator</span> is currently a term which is not a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Template</span> is any term.
</span><br/><span class="on_right"> (basic_props:callable/1)</span><span><span class="var">Goal</span> is a term which represents a goal, i.e., an atom or a structure.
</span><br/><span class="on_right"> (basic_props:list/1)</span><span><span class="var">Set</span> is a list.
</span>
<LI><em>The following properties should hold globally:</em><br/><span class="on_right"> (basic_props:not_further_inst/2)</span><span><span class="var">Template</span> is not further instantiated.
</span>
</ul></div></div><p>
</div><div id="Known bugs and planned improvements"><h2>Known bugs and planned improvements</h2><ul><LI>Thread-safe <a class="idx_anchor" id="15" href="ciaoglindex.html#setof/3"><tt>setof/3</tt></a> is not yet implemented.<LI>Thread-safe <a class="idx_anchor" id="16" href="ciaoglindex.html#bagof/3"><tt>bagof/3</tt></a> is not yet implemented.</ul></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Known bugs and planned improvements">Known bugs and planned improvements</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="concurrency.html">&#x25C4;</a><a class="navbutton" href="sockets.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>