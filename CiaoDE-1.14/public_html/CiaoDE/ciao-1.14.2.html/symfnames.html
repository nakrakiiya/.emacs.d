<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Symbolic filenames &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="filenames.html">&#x25C4;</a><a class="navbutton" href="file_utils.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="MiscProlog.html">PART VI - Ciao library miscellanea</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Symbolic filenames</h1><a class="idx_anchor" href="ciaoliindex.html#symfnames"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Francisco Bueno" href="ciaoauindex.html#Francisco Bueno">Francisco Bueno</a>.<p>
This module provides a predicate for file opening which can use any term as an alias for the filename (i.e., symbolic filenames) instead of the usual constants which are file system path names of the actual files.<p>The correspondence between an alias and the actual file path is done dynamically, without having to recompile the program. It is possible to define the correspondence via facts for <a class="idx_anchor" id="0" href="ciaoglindex.html#file_alias/2"><tt>file_alias/2</tt></a> in a file declared with <a class="idx_anchor" id="1" href="ciaoglindex.html#multifile:alias_file/1"><tt>multifile:alias_file/1</tt></a> in the program: those facts will be dynamically loaded when running the program. Alternatively, the correspondence can be defined via shell environment variables, by defining the value of a variable by the (symbolic) name of the file to be the path of the actual file.<br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(symfnames)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="2" href="ciaoglindex.html#open/3"><tt>open/3</tt></a>.
<LI><em>Multifiles:</em><br/><a class="idx_anchor" id="3" href="ciaoglindex.html#alias_file/1"><tt>alias_file/1</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#file_alias/2"><tt>file_alias/2</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="5" href="ciaoglindex.html#read"><tt>read</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#system"><tt>system</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="open/3" href="ciaopdindex.html#open/3">open/3</a>:</div><div class="deftext"><tt>open(File,Mode,Stream)</tt>
<p>Open <span class="var">File</span> with mode <span class="var">Mode</span> and return in <span class="var">Stream</span> the stream associated with the file. It is like <a class="idx_anchor" id="7" href="ciaoglindex.html#streams_basic:open/3"><tt>streams_basic:open/3</tt></a>, but <span class="var">File</span> is considered a symbolic name: either defined by <a class="idx_anchor" id="8" href="ciaoglindex.html#user:file_alias/2"><tt>user:file_alias/2</tt></a> or as an environment variable. Predicate <a class="idx_anchor" id="9" href="ciaoglindex.html#user:file_alias/2"><tt>user:file_alias/2</tt></a> is inspected before the environment variables.<p><strong>Usage:</strong> <ul class="itemize_minus"><LI><em>Calls should, and exit will be compatible with:</em><br/><span class="on_right"> (streams_basic:stream/1)</span><span><span class="var">Stream</span> is an open stream.
</span>
<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">File</span> is any term.
</span><br/><span class="on_right"> (streams_basic:io_mode/1)</span><span><span class="var">Mode</span> is an opening mode (&apos;read&apos;, &apos;write&apos; or &apos;append&apos;).
</span>
<LI><em>The following properties hold upon exit:</em><br/><span class="on_right"> (streams_basic:stream/1)</span><span><span class="var">Stream</span> is an open stream.
</span>
</ul></div></div><p>
</div><div id="Documentation on multifiles"><h2>Documentation on multifiles</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="alias_file/1" href="ciaopdindex.html#alias_file/1">alias_file/1</a>:</div><div class="deftext"><tt>alias_file(File)</tt>
<p>Declares <span class="var">File</span> to be a file defining symbolic names via <a class="idx_anchor" id="10" href="ciaoglindex.html#file_alias/2"><tt>file_alias/2</tt></a>. Anything else in <span class="var">File</span> is simply ignored.<br/>
The predicate is <em>multifile</em>.<br/></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="file_alias/2" href="ciaopdindex.html#file_alias/2">file_alias/2</a>:</div><div class="deftext"><tt>file_alias(Alias,File)</tt>
<p>Declares <span class="var">Alias</span> as a symbolic name for <span class="var">File</span>, the real name of an actual file (or directory).<br/>
The predicate is <em>multifile</em>.<br/>
The predicate is of type <em>data</em>.<br/></div></div><p>
</div><div id="Other information"><h2>Other information</h2>
 The example discussed here is included in the distribution files. There is a main application file which uses module <tt>mm</tt>. This module reads a line from a file; the main predicate in the main file then prints this line. The important thing is that the file read is named by a symbolic name &quot;<tt>file</tt>&quot;. The main application file declares another file where the symbolic names are assigned actual file names:<p><pre>
:- use_module(mm).

:- multifile alias_file/1.
alias_file(myfiles).

main :- p(X), display(X), nl.

</pre> <p>Now, the file <tt>myfiles.pl</tt> can be used to change the file you want to read from without having to recompile the application. The current assignment is:<p><pre>
%:- use_package([]).
file_alias(file,&apos;mm.pl&apos;).

</pre> <p>so the execution of the application will show the first line of <tt>mm.pl</tt>. However, you can change to:<p><pre>file_alias(file,&apos;main.pl&apos;).

</pre> <p>and then execution of the same executable will show the first line of <tt>main.pl</tt>.<p> <br/></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a><LI><a href="#Documentation on multifiles">Documentation on multifiles</a><LI><a href="#Other information">Other information</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="filenames.html">&#x25C4;</a><a class="navbutton" href="file_utils.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>