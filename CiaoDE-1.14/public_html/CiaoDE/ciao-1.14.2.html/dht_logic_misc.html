<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Various wrappers for DHT logics module &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="dht_routing.html">&#x25C4;</a><a class="navbutton" href="dht_rpr.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="Contrib.html">PART XI - Contributed libraries</a> &raquo; <a href="dht_doc.html">Ciao DHT Implementation</a> &raquo; <a href="dht_server.html">Top-level interface to a DHT server</a> &raquo; <a href="dht_logic.html">DHT-related logics</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Various wrappers for DHT logics module</h1><a class="idx_anchor" href="ciaoliindex.html#dht_logic_misc"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Arsen Kostenko" href="ciaoauindex.html#Arsen Kostenko">Arsen Kostenko</a>.<p>
This module contains miscellaneous predicates related to the <a class="idx_anchor" id="0" href="ciaoglindex.html#dht_logic.pl"><tt>dht_logic.pl</tt></a> module. Mostly various calculation-wrappers.<br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/><tt>:- use_module(library(dht_logic_misc)).</tt><LI><strong>Exports:</strong><br/><ul class="itemize_minus"><LI><em>Predicates:</em><br/><a class="idx_anchor" id="1" href="ciaoglindex.html#hash_size/1"><tt>hash_size/1</tt></a>, <a class="idx_anchor" id="2" href="ciaoglindex.html#highest_hash_number/1"><tt>highest_hash_number/1</tt></a>, <a class="idx_anchor" id="3" href="ciaoglindex.html#consistent_hash/2"><tt>consistent_hash/2</tt></a>, <a class="idx_anchor" id="4" href="ciaoglindex.html#next_on_circle/2"><tt>next_on_circle/2</tt></a>, <a class="idx_anchor" id="5" href="ciaoglindex.html#not_in_circle_oc/3"><tt>not_in_circle_oc/3</tt></a>, <a class="idx_anchor" id="6" href="ciaoglindex.html#in_circle_oo/3"><tt>in_circle_oo/3</tt></a>, <a class="idx_anchor" id="7" href="ciaoglindex.html#in_circle_oc/3"><tt>in_circle_oc/3</tt></a>.
</ul><LI><strong>Other modules used:</strong><br/><ul class="itemize_minus"><LI><em>System library modules:</em><br/><a class="idx_anchor" id="8" href="ciaoglindex.html#indexer/hash"><tt>indexer/hash</tt></a>, <a class="idx_anchor" id="9" href="ciaoglindex.html#dht/dht_config"><tt>dht/dht_config</tt></a>.
</ul></ul></div></div><div id="Documentation on exports"><h2>Documentation on exports</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="hash_size/1" href="ciaopdindex.html#hash_size/1">hash_size/1</a>:</div><div class="deftext">This predicate calculates <tt>(2**m)</tt>, where &apos;m&apos; is equal to <a class="idx_anchor" id="10" href="ciaoglindex.html#hash_power/1"><tt>hash_power/1</tt></a> received from system wide configurations stored in <a class="idx_anchor" id="11" href="ciaoglindex.html#dht_config.pl"><tt>dht_config.pl</tt></a>.<p><strong>Usage:</strong> <tt>hash_size(Size)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> The only purpose of <a class="idx_anchor" id="12" href="ciaoglindex.html#hash_size/1"><tt>hash_size/1</tt></a> predicate is to get corresponding value from system wide configurations stored in <a class="idx_anchor" id="13" href="ciaoglindex.html#dht_config.pl"><tt>dht_config.pl</tt></a> file and convert it into the number of nodes virtually available in the current DHT installation.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Size</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:gnd/1)</span><span><span class="var">Size</span> is ground.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Size</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="highest_hash_number/1" href="ciaopdindex.html#highest_hash_number/1">highest_hash_number/1</a>:</div><div class="deftext">This predicate calculates <tt>(2**m)-1</tt>, where &apos;m&apos; is equal to <a class="idx_anchor" id="14" href="ciaoglindex.html#hash_power/1"><tt>hash_power/1</tt></a> received from system wide configurations stored in <a class="idx_anchor" id="15" href="ciaoglindex.html#dht_config.pl"><tt>dht_config.pl</tt></a>.<p><strong>Usage 1:</strong> <tt>highest_hash_number(N)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> If used with a ground argument <a class="idx_anchor" id="16" href="ciaoglindex.html#highest_hash_number/1"><tt>highest_hash_number/1</tt></a> simply checks whether the value supplied corresponds to the biggest hash number possible in the DHT. <LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">N</span> is an integer.
</span>
</ul><p><strong>Usage 2:</strong> <tt>highest_hash_number(N)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Otherwise (if argument happens to be a free variable) the value of <span class="var">N</span> is bound to the highest hash number possible in the DHT.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">N</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">N</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="consistent_hash/2" href="ciaopdindex.html#consistent_hash/2">consistent_hash/2</a>:</div><div class="deftext">This kind of computation is usually performed every time, when one needs to get value of hash-function.<p><strong>Usage:</strong> <tt>consistent_hash(Term,DHTHash)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Straightforward computation of hash (<span class="var">DHTHash</span>) on the basis of <span class="var">Term</span> supplied.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Term</span> is any term.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">DHTHash</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:term/1)</span><span><span class="var">Term</span> is any term.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">DHTHash</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="next_on_circle/2" href="ciaopdindex.html#next_on_circle/2">next_on_circle/2</a>:</div><div class="deftext">Performs the calculation of <tt>(id+1) mod ((2**m)-1)</tt>, where <tt>id</tt> is the first argument supplied, and <tt>m</tt> is equal to <a class="idx_anchor" id="17" href="ciaoglindex.html#hash_power/1"><tt>hash_power/1</tt></a>.<p><strong>Usage:</strong> <tt>next_on_circle(Id,Num)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> <a class="idx_anchor" id="18" href="ciaoglindex.html#next_on_circle/2"><tt>next_on_circle/2</tt></a> is a calculation wrapping. One can only use it with first argument ground and equal to integer value. What is more, that value <strong>MUST</strong> be kept within certain bounds: value of <span class="var">Id</span> <strong>MUST</strong> meet the constraints 0&lt;=<span class="var">Id</span>&lt;=<span class="var">HighNum</span>, where <span class="var">HighNum</span> is retrieved via <a class="idx_anchor" id="19" href="ciaoglindex.html#highest_hash_number/1"><tt>highest_hash_number/1</tt></a> predicate.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Id</span> is an integer.
</span><br/><span class="on_right"> (term_typing:var/1)</span><span><span class="var">Num</span> is a free variable.
</span>
<LI><em>The following properties should hold upon exit:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Id</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Num</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="not_in_circle_oc/3" href="ciaopdindex.html#not_in_circle_oc/3">not_in_circle_oc/3</a>:</div><div class="deftext"><a class="idx_anchor" id="20" href="ciaoglindex.html#not_in_circle_oc/3"><tt>not_in_circle_oc/3</tt></a>: the &apos;oc&apos; suffix stands for &quot;open-closed&quot; interval. The predicate implements the behavior of the expression: <tt>Id not_in (a,b]</tt>. where both &apos;a&apos; and &apos;b&apos; are numbers/identifiers on the DHT-ring.<p><strong>Usage:</strong> <tt>not_in_circle_oc(Id,Start,End)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Yet another wrapper around simple calculations. All arguments are expected to be ground, by the time the predicate is called. The predicate checks whether the value supplied as <span class="var">Id</span> fits into circle sector defined by values of <span class="var">Start</span> and <span class="var">End</span>. If the condition is not true - the whole predicate fails.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Id</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Start</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">End</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="in_circle_oo/3" href="ciaopdindex.html#in_circle_oo/3">in_circle_oo/3</a>:</div><div class="deftext"><a class="idx_anchor" id="21" href="ciaoglindex.html#in_circle_oo/3"><tt>in_circle_oo/3</tt></a>: the &apos;oo&apos; suffix stands for &quot;open-open&quot; circle interval. The predicate implements the behavior of following expression: <tt>Id in (a,b)</tt>.<p><strong>Usage:</strong> <tt>in_circle_oo(Id,Start,End)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Check whether value of <span class="var">Id</span> fits into sector defined by <span class="var">Start</span> and <span class="var">End</span> excluding both, fail otherwise.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Id</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Start</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">End</span> is an integer.
</span>
</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="in_circle_oc/3" href="ciaopdindex.html#in_circle_oc/3">in_circle_oc/3</a>:</div><div class="deftext"><a class="idx_anchor" id="22" href="ciaoglindex.html#in_circle_oc/3"><tt>in_circle_oc/3</tt></a>: the &apos;oc&apos; suffix stands for &quot;open-closed&quot; interval. The predicate is based on <a class="idx_anchor" id="23" href="ciaoglindex.html#in_circle_oo/3"><tt>in_circle_oo/3</tt></a> and considers the interval to be closed on the right. This predicate implements the behavior of the expression: <tt>Id in (a,b]</tt><p><strong>Usage:</strong> <tt>in_circle_oc(Id,Start,End)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> Check whether value of <span class="var">Id</span> fits into sector defined by <span class="var">Start</span> and <span class="var">End</span> excluding first and including second. Fail if the condition does not hold.<LI><em>The following properties should hold at call time:</em><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Id</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">Start</span> is an integer.
</span><br/><span class="on_right"> (basic_props:int/1)</span><span><span class="var">End</span> is an integer.
</span>
</ul></div></div><p>
</div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Module Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on exports">Documentation on exports</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="dht_routing.html">&#x25C4;</a><a class="navbutton" href="dht_rpr.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>