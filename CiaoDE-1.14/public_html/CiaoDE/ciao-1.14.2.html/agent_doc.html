<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/><link rel="stylesheet" href="lpdoc.css" type="text/css"/><title>Agents &mdash; The Ciao System v1.14#2</title></head><body><div class="nav"><span class="on_right"><a class="navbutton" href="actmods_doc.html">&#x25C4;</a><a class="navbutton" href="bf_doc.html">&#x25BA;</a></span><span><a href="ciao.html">The Ciao System</a> &raquo; <a href="ExtendProlog.html">PART VII - Ciao extensions</a> &raquo; </span></div><div class="documentwrapper"><div class="document"><div class="mainwrapper"><div class="main"><div id=""><h1>Agents</h1><a class="idx_anchor" href="ciaoliindex.html#agent"></a>
<strong>Author(s):</strong> <a class="idx_anchor" id="Francisco Bueno" href="ciaoauindex.html#Francisco Bueno">Francisco Bueno</a>.<p>
An agent is an active module which has a main execution thread. Simultaneously (i.e., in concurrent execution with the main thread), the agent receives messages from other agents, which trigger the execution of a predicate by the name of the message. Messages can also be sent to other agents, by calling the predicate by the name of the message in the context of the receiver agent (see <tt>::/2</tt> below). Agents are identified by name. The name of an agent is usually the name of its (main) file, but this depends on the protocol used (see <tt>protocol/1</tt> below).<p>A simple agent that sends inform messages and at the same time receives them from other agents, answering back ok, will look like: <pre>:- agent(simple,[inform/2,ok/1]).
:- protocol(&apos;actmods/filebased&apos;).

agent :-
    repeat,
    display(&apos;Agent id:message?- &apos;), read(Agent:Mess),
    Agent::inform(Mess),
    fail.

inform(Agent,Mess):-
    display(Agent), display(&apos; has sent: &apos;, display(Mess), nl,
    Agent::ok.

ok(_Agent).
</pre> <br/><div id="Usage and interface"><h2>Usage and interface</h2><div class="cartouche"><ul><LI><strong>Library usage:</strong><br/> <pre>:- agent(AgentName,[Message|...]).
</pre> for the main file of the agent. <pre>:- use_module(library(agent(agent_call))).
</pre> for the rest of modules of the agent that need to send messages. <LI><strong>New operators defined:</strong><br/><a class="idx_anchor" id="0" href="ciaoglindex.html#::/2"><tt>::/2</tt></a> [550,xfx].
<LI><strong>New declarations defined:</strong><br/><a class="idx_anchor" id="1" href="ciaoglindex.html#protocol/1"><tt>protocol/1</tt></a>.
</ul></div></div><div id="Documentation on new declarations"><h2>Documentation on new declarations</h2><div><span class="on_right">DECLARATION</span><div class="defname"><a class="idx_anchor" id="protocol/1" href="ciaodeindex.html#protocol/1">protocol/1</a>:</div><div class="deftext">A protocol is formed by a pair of modules which allow to locate connection addresses of agents. By convention, the names of these modules have a common prefix, which makes reference to the protocol, and have suffixes &apos;_locate&apos; and &apos;_publish&apos;. The &apos;publish&apos; part of the protocol must define a multifile predicate <a class="idx_anchor" id="2" href="ciaoglindex.html#save_addr_actmod/1"><tt>save_addr_actmod/1</tt></a> and the &apos;locate&apos; part export a predicate <a class="idx_anchor" id="3" href="ciaoglindex.html#module_address/2"><tt>module_address/2</tt></a>. The first one publishes an agent address; the second one locates the address of an agent. Together, both make it possible for agents to send and receive messages. All agents in a multi-agent system must therefore use the same protocol. Upon compilation, they will then be (automatically) instrumented as active modules under the corresponding rendezvous method.<p><strong>Usage:</strong> :- <tt>protocol(Protocol)</tt>.
<ul class="itemize_minus"><LI><em>Description:</em> <span class="var">Protocol</span> is the prefix to a library path where an active module rendezvous protocol can be found.</ul></div></div><p>
</div><div id="Documentation on multifiles"><h2>Documentation on multifiles</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="save_addr_actmod/1" href="ciaopdindex.html#save_addr_actmod/1">save_addr_actmod/1</a>:</div><div class="deftext"><br/>
The predicate is <em>multifile</em>.<br/><p><strong>Usage:</strong> <tt>save_addr_actmod(Address)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> (protocol defined) publishes the agent&apos;s <span class="var">Address</span>.</ul></div></div><p>
</div><div id="Documentation on internals"><h2>Documentation on internals</h2><div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="module_address/2" href="ciaopdindex.html#module_address/2">module_address/2</a>:</div><div class="deftext"><p><strong>Usage:</strong> <tt>module_address(Agent,Address)</tt>
<ul class="itemize_minus"><LI><em>Description:</em> (protocol defined) gives the <span class="var">Address</span> of <span class="var">Agent</span>.</ul></div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="::/2" href="ciaopdindex.html#::/2">::/2</a>:</div><div class="deftext">No further documentation available for this predicate.</div></div><p>
<div><span class="on_right">PREDICATE</span><div class="defname"><a class="idx_anchor" id="self/1" href="ciaopdindex.html#self/1">self/1</a>:</div><div class="deftext">No further documentation available for this predicate.</div></div><p>
</div><div id="Other information"><h2>Other information</h2>
This package is intended as a sample of how to program agents in Ciao, based on active modules. It probably lacks many features that an agent might need. In particular, it lacks language-independence: it is thought for multi-agent systems where all agents are programmed in Ciao.<p>You are welcome to add any feature that you may be missing!<p><div id="Platforms"><h3>Platforms</h3> <p>A platform is an active module which holds connection addresses of agents in a multi-agent system. A protocol is provided which enables the use of platforms: <tt>agent/platformbased</tt>. A suitable platform must be up and running when agents which run under this protocol are started up. The host id and port number (IP address/socket number) of the platform must then be given as arguments to the agents executables. The protocol also allows to give an agent name to the agent upon start-up. A module suitable for a platform can be found in <a class="idx_anchor" id="4" href="ciaoglindex.html#library(actmods/examples/webbased_server/webbased_server)"><tt>library(actmods/examples/webbased_server/webbased_server)</tt></a>. </div><br/></div><div id="Known bugs and planned improvements"><h2>Known bugs and planned improvements</h2><ul><LI>Currently, the agent has to be compiled explicitely as an active module. The same protocol than in the agent source code must be used for this. Automatic compilation is not working.<LI>It seems that there are running-ahead problems with threads that prevent to correctly publish agent addresses, sometimes.</ul></div></div></div></div></div><div class="sidebarwrapper"><div class="sidebar"><IMG SRC="autofigciao-shadow-64h.png"><h2>Package Sections</h2><ul><LI><a href="#Usage and interface">Usage and interface</a><LI><a href="#Documentation on new declarations">Documentation on new declarations</a><LI><a href="#Documentation on multifiles">Documentation on multifiles</a><LI><a href="#Documentation on internals">Documentation on internals</a><LI><a href="#Other information">Other information</a><ul><LI><a href="#Platforms">Platforms</a></ul><LI><a href="#Known bugs and planned improvements">Known bugs and planned improvements</a></ul><h2>Global Links</h2><ul><LI><a href="ciaofulltoc.html">Table of Contents</a><LI><a href="ciaochanges.html">Version/Change Log</a><LI><a href="ciaorefs.html">References</a><LI><a href="ciaocopyright.html">Copyright</a></ul><h2>Indices</h2><ul><LI><a href="ciaoliindex.html">Library/Module Index</a><LI><a href="ciaopdindex.html">Predicate/Method Index</a><LI><a href="ciaoprindex.html">Property Index</a><LI><a href="ciaoteindex.html">Regular Type Index</a><LI><a href="ciaodeindex.html">Declaration Index</a><LI><a href="ciaocoindex.html">Concept Index</a><LI><a href="ciaoauindex.html">Author Index</a><LI><a href="ciaoglindex.html">Global Index</a></ul></div></div><div class="clearer"></div></div><div class="nav"><span class="on_right"><a class="navbutton" href="actmods_doc.html">&#x25C4;</a><a class="navbutton" href="bf_doc.html">&#x25BA;</a></span><span>&nbsp;</span></div><div class="footer">Generated with LPdoc using Ciao</div></body></html>